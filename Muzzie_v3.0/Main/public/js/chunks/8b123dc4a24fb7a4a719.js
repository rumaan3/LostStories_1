(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{118:function(t,e,a){"use strict";var s={props:["artist"],mixins:[a(23).a],computed:{totalSalesProfit:function(){return this.artist.sales.reduce((function(t,e){return t+e.amount*e.artist_cut/100}),0)},totalRoyaltiesProfit:function(){return this.artist.royalties.reduce((function(t,e){return t+e.total_royalties*(e.price/100)}),0)},payedPayouts:function(){return this.artist.payouts.filter((function(t){return"payed"===t.status}))}}},i=a(0),n=a(1),o=a.n(n),r=a(105),l=a(3),c=a(559),d=a(860),u=a(152),v=a(75),p=a(113),g=a(155),m=a(10),h=a(558),f=a(554),_=a(274),b=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"p-3"},[a("v-card-title",[a("v-icon",{staticClass:"mr-3",attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.currency-usd")]),t._v("\n        "+t._s(t.$t("Earnings"))+"\n        "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"total-earnings__value price bold success--text"},[t._v("\n            "+t._s(t.price(t.artist.funds)+t.defaultCurrency.symbol)+"\n        ")])],1),t._v(" "),a("v-card-text",[a("div",{staticClass:"title"},[t._v("\n            "+t._s(t.$t("Details"))+"\n        ")]),t._v(" "),a("v-divider"),t._v(" "),a("div",{staticClass:"details"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-card",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",[t._v("\n                                            "+t._s(t.$t("Sales"))+"\n                                            "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"total-earnings__value bold price small success--text"},[t._v("\n                                                "+t._s(t.price(t.totalSalesProfit)+t.defaultCurrency.symbol)+"\n                                            ")])],1),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Product"))+"\n                                                        ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("License"))+"\n                                                        ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Price"))+"\n                                                        ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Earned"))+"\n                                                        ")])])]),t._v(" "),a("tbody",t._l(t.artist.sales,(function(e,s){return a("tr",{key:s},[a("td",[a("v-list-item",[a("v-list-item-avatar",{staticClass:"asset-shadow",attrs:{width:"35",height:"35",rounded:"0"}},[a("img",{attrs:{src:e.cover}})]),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.itemTitle))])],1)],1)],1),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(e.priceName)+"\n                                                        ")]),t._v(" "),a("td",{staticClass:"text-left"},[a("div",{staticClass:"price success--text bold"},[t._v("\n                                                                "+t._s(t.price(e.amount)+e.priceSymbol)+"\n                                                            ")])]),t._v(" "),a("td",{staticClass:"text-left"},[a("div",{staticClass:"price success--text bold"},[t._v("\n                                                                "+t._s(t.price(e.amount*e.artist_cut/100)+e.priceSymbol)+"\n                                                            ")])])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",lg:"6"}},[a("v-card",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card-title",[t._v("\n                                            "+t._s(t.$t("Royalties"))+"\n                                            "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"total-earnings__value price small bold success--text"},[t._v("\n                                                "+t._s(t.price(t.totalRoyaltiesProfit)+t.defaultCurrency.symbol)+"\n                                            ")])],1),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Total Plays"))+"\n                                                        ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Artist Royalty"))+"\n                                                        ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Total"))+"\n                                                        ")])])]),t._v(" "),a("tbody",t._l(t.artist.royalties,(function(e,s){return a("tr",{key:s},[a("td",[t._v("\n                                                            "+t._s(e.total_royalties)+"\n                                                        ")]),t._v(" "),a("td",[t._v("\n                                                            "+t._s(t.price(e.price)+t.defaultCurrency.symbol)+"\n                                                            "+t._s("("+t.$t("for each 100 play")+")")+"\n                                                        ")]),t._v(" "),a("td",[a("div",{staticClass:"price success--text bold"},[t._v("\n                                                                "+t._s(t.price(e.total_royalties*(e.price/100))+t.defaultCurrency.symbol)+"\n                                                            ")])])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v("\n                                "+t._s(t.$t("Previous Payouts"))+"\n                            ")]),t._v(" "),t.payedPayouts&&t.payedPayouts.length?a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("\n                                                Payout NÂ°\n                                            ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                                Date\n                                            ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                                Amount\n                                            ")])])]),t._v(" "),a("tbody",t._l(t.payedPayouts,(function(e){return a("tr",{key:e.id},[a("td",{staticClass:"text-left"},[t._v("\n                                                "+t._s(e.id)+"\n                                            ")]),t._v(" "),a("td",{staticClass:"text-left"},[t._v("\n                                                "+t._s(t.moment(e.created_at).format("ll"))+"\n                                            ")]),t._v(" "),a("td",{staticClass:"text-left bold error--text"},[t._v("\n                                                "+t._s(-t.price(e.amount)+t.defaultCurrency.symbol)+"\n                                            ")])])})),0)]},proxy:!0}],null,!1,1689849607)}):a("div",{staticClass:"text-center"},[t._v("\n                                "+t._s(t.$t("No previous payouts"))+"\n                            ")])],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v("\n                                "+t._s(t.$t("Summary"))+"\n                            ")]),t._v(" "),a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-center"}),t._v(" "),a("th",{staticClass:"text-center"}),t._v(" "),a("th",{staticClass:"text-right"},[t._v("\n                                                "+t._s(t.$t("Account Funds"))+"\n                                            ")])])]),t._v(" "),a("tbody",[a("tr",[a("td"),t._v(" "),a("td"),t._v(" "),a("td",{staticClass:"text-right bold success--text"},[t._v("\n                                                "+t._s(t.price(t.artist.funds)+t.defaultCurrency.symbol)+"\n                                            ")])])])]},proxy:!0}])})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.a=b.exports;o()(b,{VCard:r.a,VCardText:l.b,VCardTitle:l.c,VCol:c.a,VContainer:d.a,VDivider:u.a,VIcon:v.a,VListItem:p.a,VListItemAvatar:g.a,VListItemContent:m.a,VListItemTitle:m.c,VRow:h.a,VSimpleTable:f.a,VSpacer:_.a})},123:function(t,e,a){"use strict";var s=a(118),i=a(87),n={props:["artist"],components:{ArtistEarningDetails:s.a},data:function(){return{editedArtist:this.artist,countriesList:i.a,firstCopy:JSON.parse(JSON.stringify(this.artist)),available_disk_space:this.artist.available_disk_space||this.$store.getters.getSettings.availableArtistDiskSpace,available_disk_space_unit:"MB",isLoading:!1,defaultAvatarPath:"/storage/defaults/images/artist_avatar.png"}},methods:{imageReady:function(t){this.artist.avatar=t},closeWindow:function(){var t=this,e=!1;JSON.stringify(this.editedArtist)!=JSON.stringify(this.firstCopy)&&(e=!0),e?this.$confirm({message:"".concat(this.$t("Are you sure you wanna quit without saving the changes?")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(e){e&&(t.editedArtist=t.firstCopy,t.$emit("close"))}}):this.$emit("close")},saveArtist:function(){var t=this,e=new FormData;if(this.isLoading=!0,e.append("firstname",this.editedArtist.firstname||""),e.append("lastname",this.editedArtist.lastname||""),e.append("displayname",this.editedArtist.displayname||""),e.append("country",this.editedArtist.country||""),e.append("phone",this.editedArtist.phone||""),e.append("email",this.editedArtist.email||""),e.append("address",this.editedArtist.address||""),e.append("spotify_link",this.editedArtist.spotify_link||""),e.append("youtube_link",this.editedArtist.youtube_link||""),e.append("soundcloud_link",this.editedArtist.soundcloud_link||""),e.append("itunes_link",this.editedArtist.itunes_link||""),"GB"===this.available_disk_space_unit)var a=1024*this.available_disk_space;else if("KB"===this.available_disk_space_unit)a=this.available_disk_space/1024;else a=this.available_disk_space;this.editedArtist.available_disk_space=a,e.append("available_disk_space",a),this.editedArtist.avatar&&this.editedArtist.avatar.data?e.append("avatar",this.editedArtist.avatar.data,this.editedArtist.avatar.title):this.editedArtist.avatar&&!this.editedArtist.avatar.data?e.append("avatar",this.editedArtist.avatar):e.append("avatar",this.defaultAvatarPath),this.editedArtist.new?axios.post("/api/admin/artists",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})):(e.append("_method","PUT"),axios.post("/api/admin/artists/"+this.editedArtist.id,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})))}}},o=a(0),r=a(1),l=a.n(r),c=a(105),d=a(3),u=a(559),v=a(860),p=a(152),g=a(558),m=a(68),h=a(41),f=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"artist"},on:{callToAction:t.saveArtist,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("upload-image",{attrs:{source:t.artist.avatar||t.defaultAvatarPath},on:{imageReady:function(e){return t.imageReady(e)}}})],1),t._v(" "),a("v-col",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("Firstname"),readonly:!t.artist.new},model:{value:t.editedArtist.firstname,callback:function(e){t.$set(t.editedArtist,"firstname",e)},expression:"editedArtist.firstname"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("Lastname"),readonly:!t.artist.new},model:{value:t.editedArtist.lastname,callback:function(e){t.$set(t.editedArtist,"lastname",e)},expression:"editedArtist.lastname"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("Displayname"),readonly:!t.artist.new},model:{value:t.editedArtist.displayname,callback:function(e){t.$set(t.editedArtist,"displayname",e)},expression:"editedArtist.displayname"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{label:t.$t("Country"),readonly:!t.artist.new,items:t.countriesList},model:{value:t.editedArtist.country,callback:function(e){t.$set(t.editedArtist,"country",e)},expression:"editedArtist.country"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("Address"),readonly:!t.artist.new},model:{value:t.editedArtist.address,callback:function(e){t.$set(t.editedArtist,"address",e)},expression:"editedArtist.address"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("Phone"),readonly:!t.artist.new},model:{value:t.editedArtist.phone,callback:function(e){t.$set(t.editedArtist,"phone",e)},expression:"editedArtist.phone"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("Email"),readonly:!t.artist.new},model:{value:t.editedArtist.email,callback:function(e){t.$set(t.editedArtist,"email",e)},expression:"editedArtist.email"}})],1)],1)],1)],1),t._v(" "),t.editedArtist.user?a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v("\n                            "+t._s(t.$t("Storage Space"))+"\n                        ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{label:t.$t("Size"),type:"number",messages:t.editedArtist.used_disk_space?(t.editedArtist.used_disk_space/1024/1024).toFixed(1)+" MB "+this.$t("used already."):""},model:{value:t.available_disk_space,callback:function(e){t.available_disk_space=e},expression:"available_disk_space"}})],1),t._v(" "),a("v-col",{attrs:{cols:"3"}},[a("veutify-select",{attrs:{type:"number",items:["MB","GB","KB"]},model:{value:t.available_disk_space_unit,callback:function(e){t.available_disk_space_unit=e},expression:"\n                                                available_disk_space_unit\n                                            "}})],1)],1)],1)],1)],1)],1):t._e()],1),t._v(" "),a("v-row",[a("edit-external-links",{attrs:{item:t.editedArtist},on:{spotify_link:function(e){t.editedArtist.spotify_link=e},youtube_link:function(e){t.editedArtist.youtube_link=e},soundcloud_link:function(e){t.editedArtist.soundcloud_link=e},itunes_link:function(e){t.editedArtist.itunes_link=e},deezer_link:function(e){t.editedArtist.deezer_link=e}}})],1),t._v(" "),t.$store.getters.getSettings.saas&&!t.editedArtist.new?a("v-row",[a("ArtistEarningDetails",{attrs:{artist:t.artist}})],1):t._e()],1)]},proxy:!0}])})}),[],!1,null,null,null);e.a=f.exports;l()(f,{VCard:c.a,VCardText:d.b,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VDivider:p.a,VRow:g.a,VSelect:m.a,VTextField:h.a})},127:function(t,e,a){"use strict";var s={props:{src:String,image_name:String,cogIcon:{type:Boolean,default:!0}},data:function(){return{base64:null}},methods:{resetDefault:function(){this.base64=null,this.$emit("default")},pickImage:function(t){var e=this,a=this;if(t.target.files.length){if(t.target.files[0].size>1024*this.$store.getters.getSettings.maxImageSize*1024)return void this.$notify({group:"foo",type:"error",title:this.$t("Error"),text:this.$t("Image must be less then")+" "+this.$store.getters.getSettings.maxImageSize+this.$t("MB")});var s=t.target.files[0],i=new FileReader;i.onload=function(t){t.target.result&&(t.target.result.match("data:image")?(a.base64=t.target.result,a.$emit("image",{base64:t.target.result,file:s})):e.$notify({group:"foo",type:"error",title:e.$t("Error"),text:e.$t("Please choose an image")}))},i.readAsDataURL(t.target.files[0])}}}},i=(a(348),a(0)),n=a(1),o=a.n(n),r=a(81),l=a(75),c=a(273),d=a(153),u=a(113),v=a(10),p=a(157),g=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"image-picker"},[a("div",{staticClass:"image-picker__title"},[t._v(t._s(t.image_name))]),t._v(" "),a("div",{staticClass:"img-picker"},[a("div",{staticClass:"upload"},[a("input",{attrs:{type:"file",accept:"image/*",id:"image-input-"+t.image_name,hidden:""},on:{change:function(e){return t.pickImage(e)}}}),t._v(" "),a("label",{attrs:{for:"image-input-"+t.image_name}})]),t._v(" "),a("div",{staticClass:"image-container"},[a("v-img",{staticClass:"img",attrs:{src:t.base64||t.src,width:"75"}})],1),t._v(" "),t.cogIcon?a("v-menu",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"absolute top right",staticStyle:{"z-index":"2"},attrs:{icon:""}},"v-btn",i,!1),s),[a("v-icon",{attrs:{small:""}},[t._v("$vuetify.icons.cog")])],1)]}}],null,!1,3720112170)},[t._v(" "),a("v-list",[a("v-list-item",{staticStyle:{"z-index":"3"},on:{click:t.resetDefault}},[a("v-list-item-title",[t._v(t._s(t.$t("Use Default")))])],1)],1)],1):t._e()],1)])}),[],!1,null,"99fb2bee",null);e.a=g.exports;o()(g,{VBtn:r.a,VIcon:l.a,VImg:c.a,VList:d.a,VListItem:u.a,VListItemTitle:v.c,VMenu:p.a})},165:function(t,e,a){var s=a(284);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},169:function(t,e,a){var s=a(296);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},174:function(t,e,a){var s=a(306);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},175:function(t,e,a){var s=a(310);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},176:function(t,e,a){var s=a(312);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},177:function(t,e,a){var s=a(315);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},178:function(t,e,a){var s=a(317);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},179:function(t,e,a){var s=a(319);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},180:function(t,e,a){var s=a(321);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},181:function(t,e,a){var s=a(323);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},182:function(t,e,a){var s=a(325);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},183:function(t,e,a){var s=a(329);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},184:function(t,e,a){var s=a(331);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},186:function(t,e,a){var s=a(345);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},187:function(t,e,a){var s=a(347);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},188:function(t,e,a){var s=a(349);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},189:function(t,e,a){var s=a(361);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},190:function(t,e,a){var s=a(363);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},191:function(t,e,a){var s=a(365);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},192:function(t,e,a){var s=a(367);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},193:function(t,e,a){var s=a(371);"string"==typeof s&&(s=[[t.i,s,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a(6)(s,i);s.locals&&(t.exports=s.locals)},283:function(t,e,a){"use strict";a(165)},284:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".featured-section>.section-body{display:flex;flex-wrap:wrap}.featured-section>.section-body .featured-card,.featured-section>.section-body .featured-card-placeholder{display:flex;flex-basis:25%;padding:.5em 1.2em;border-radius:5px;overflow:hidden}@media (max-width:1800px){.featured-section>.section-body .featured-card,.featured-section>.section-body .featured-card-placeholder{flex-basis:33%;width:33%}}@media (max-width:1200px){.featured-section>.section-body .featured-card,.featured-section>.section-body .featured-card-placeholder{flex-basis:50%;width:50%}}@media (max-width:700px){.featured-section>.section-body .featured-card,.featured-section>.section-body .featured-card-placeholder{flex-basis:100%;width:100%}}.featured-section>.section-body .featured-card-placeholder .body,.featured-section>.section-body .featured-card .body{display:flex;align-items:center;justify-content:flex-start;position:relative;box-shadow:1px 2px 5px 1px rgba(0,0,0,.15);flex-grow:1;max-width:100%;border-top-right-radius:5px;border-bottom-right-radius:5px}.featured-section>.section-body .featured-card-placeholder .body .right-side,.featured-section>.section-body .featured-card .body .right-side{display:flex;padding:0 1.3em;align-items:center;height:100%;max-width:92%;flex-grow:2;justify-content:space-between}.featured-section>.section-body .featured-card-placeholder .body .card-title,.featured-section>.section-body .featured-card .body .card-title{font-weight:700;max-width:90%;flex-grow:1}.featured-section>.section-body .featured-card-placeholder .body .cover,.featured-section>.section-body .featured-card .body .cover{width:80px;height:80px}.featured-section>.section-body .featured-card-placeholder .body .img,.featured-section>.section-body .featured-card .body .img{width:100%;height:100%;border-top-left-radius:5px;border-bottom-left-radius:5px}.featured-section>.section-body .featured-card-placeholder .body .icon-inside-cover,.featured-section>.section-body .featured-card .body .icon-inside-cover{width:100%;left:0;display:flex;align-items:center;position:absolute;justify-content:center}.featured-section>.section-body .featured-card-placeholder .body .icon-inside-cover .epico_music-is-playing-container,.featured-section>.section-body .featured-card .body .icon-inside-cover .epico_music-is-playing-container{margin-left:unset}.featured-section>.section-body .featured-card-placeholder .body .icon-inside-cover .epico_music-is-playing-container>span,.featured-section>.section-body .featured-card .body .icon-inside-cover .epico_music-is-playing-container>span{width:6px;background-color:#fff;margin-top:auto;height:80%}.featured-section>.section-body .featured-card-placeholder .body .dark-layer.play,.featured-section>.section-body .featured-card .body .dark-layer.play{background-color:transparent}.featured-section>.section-body .featured-card-placeholder .body .play-button,.featured-section>.section-body .featured-card .body .play-button{height:100%;display:flex;align-items:center;justify-content:center}.featured-section>.section-body .featured-card-placeholder .body .play-button .btn,.featured-section>.section-body .featured-card .body .play-button .btn{opacity:0;transition:all .3s;transform-origin:center}.featured-section>.section-body .featured-card-placeholder .body .play-button .btn:hover,.featured-section>.section-body .featured-card .body .play-button .btn:hover{transform:scale(1.1)}.featured-section>.section-body .featured-card-placeholder .cover-layer,.featured-section>.section-body .featured-card .cover-layer{background-color:#ccc;opacity:.1;border-radius:5px;z-index:0;border-top-right-radius:5px;border-bottom-right-radius:5px}.featured-section>.section-body .featured-card-placeholder .option-menu,.featured-section>.section-body .featured-card .option-menu{opacity:0;margin-right:3em}.featured-section>.section-body .featured-card-placeholder:hover .play-button .btn,.featured-section>.section-body .featured-card:hover .play-button .btn{opacity:1}.featured-section>.section-body .featured-card-placeholder:hover .cover-layer,.featured-section>.section-body .featured-card:hover .cover-layer{opacity:.27}.featured-section>.section-body .featured-card-placeholder:hover .option-menu,.featured-section>.section-body .featured-card:hover .option-menu{opacity:1}.featured-section>.section-body .featured-card-placeholder:hover .dark-layer.play,.featured-section>.section-body .featured-card:hover .dark-layer.play{background-color:rgba(0,0,0,.45)}.featured-section>.section-body .featured-card__skeleton{width:100%;height:100px}.featured-section>.section-body .featured-card__skeleton .vue-content-placeholders,.featured-section>.section-body .featured-card__skeleton .vue-content-placeholders-img{width:100%}.featured-card-placeholder{position:relative;height:80px;padding:.3em}.featured-card-placeholder .child{background-color:#ccc;opacity:.4;border-radius:4px}.fill-5{top:5%;left:5%;bottom:5%;right:5%}.top-0{top:0}",""])},295:function(t,e,a){"use strict";a(169)},296:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,"#sidebar-wrapper[data-v-750d3cde]{min-height:100vh;margin-left:-15rem;transition:margin .25s ease-out}#sidebar-wrapper .sidebar-heading[data-v-750d3cde]{padding:.875rem 1.25rem;font-size:1.2rem}#page-content-wrapper[data-v-750d3cde]{min-width:100vw}#wrapper.toggled #sidebar-wrapper[data-v-750d3cde]{margin-left:0}@media (min-width:768px){#sidebar-wrapper[data-v-750d3cde]{margin-left:0}#page-content-wrapper[data-v-750d3cde]{min-width:0;width:100%}#wrapper.toggled #sidebar-wrapper[data-v-750d3cde]{margin-left:-15rem}}.admin-list[data-v-750d3cde]{height:100%;padding-top:4em}.list[data-v-750d3cde]{height:100%}",""])},305:function(t,e,a){"use strict";a(174)},306:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".admin-name[data-v-6609ea34]{max-width:13em;display:flex;align-items:center}.avatar[data-v-6609ea34]{border-radius:50%;width:35px;overflow:hidden;margin-right:.3rem}.avatar-image[data-v-6609ea34]{height:100%;width:100%}",""])},309:function(t,e,a){"use strict";a(175)},310:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".card-bb-header .header{display:flex;justify-content:space-between;border-bottom:1px solid;border-color:rgba(0,0,0,.12);padding-bottom:.7em}.card-bb-header .header .title{font-weight:700}.card-bb-header .header .buttons:not(:last-child){margin-right:.5em}.card-bb-header .body{display:flex;flex-wrap:wrap;padding-top:2em}.card-bb-header .body .item{padding:.3em .5em}.table{color:#fff}.user-avatar{border-radius:5px;padding:.3em 0}.img-container .upload-percentage{top:0;left:0;bottom:0;right:0;background-color:rgba(32,32,32,.514);color:#fff;position:absolute;font-family:Lobster,cursive;font-size:1.1em;font-weight:700}.img-container .upload-percentage .content-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#admin-master{position:relative;height:100vh;overflow:hidden}#admin-master #admin-header{position:absolute;top:0;left:0;right:0;z-index:3}#admin-master #admin-sidebar{position:absolute;top:0;left:0;z-index:2;width:18em;bottom:0;overflow-y:auto;transition:transform .4s ease-in}#admin-master #admin-main-container{padding:80px 1.5em 0 19.8em;overflow:auto;height:100%}@media screen and (max-width:750px){#admin-master #admin-main-container{padding:7em 0 0!important}}.admin-search-bar{max-width:300px;margin-left:auto}.appearance-container .pages,.settings-container .pages{padding:2em 1.5em}.appearance-container .pages .page,.settings-container .pages .page{max-width:800px}.appearance-container .page__options,.settings-container .page__options{margin-left:auto}.admin-router-container{max-width:1200px!important}",""])},311:function(t,e,a){"use strict";a(176)},312:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".price[data-v-4eb2fc6a]{font-size:1.15em}",""])},314:function(t,e,a){"use strict";a(177)},315:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".shuffle-option[data-v-73951dc4]{display:flex;padding:.5em 1em;font-size:1.2em}",""])},316:function(t,e,a){"use strict";a(178)},317:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".seo-settings>.sub-title{font-size:1.1em;padding-bottom:.45em}",""])},318:function(t,e,a){"use strict";a(179)},319:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".control-layer .actions{height:100%;width:100%;display:flex;justify-content:center;align-items:center}",""])},320:function(t,e,a){"use strict";a(180)},321:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".section-header__title[data-v-d8adc9b0]{margin-bottom:0!important}.control-layer .actions[data-v-d8adc9b0]{height:100%;width:100%;display:flex;justify-content:center;align-items:center}",""])},322:function(t,e,a){"use strict";a(181)},323:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".section-header[data-v-44f29cfe]{width:100%!important}.section-header__title[data-v-44f29cfe]{margin-bottom:0!important}.empty-section-text[data-v-44f29cfe]{font-size:1.2em;padding:.2em}",""])},324:function(t,e,a){"use strict";a(182)},325:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".page-dialog-wrapper .swiper-container[data-v-fcdcf01c]{padding:.5em 1.5em!important}.page-dialog-wrapper .section-skeleton .section-header[data-v-fcdcf01c]{border-radius:5px!important}.icon-header .cover[data-v-fcdcf01c]{background:linear-gradient(45deg,var(--color-secondary),var(--color-primary))}",""])},328:function(t,e,a){"use strict";a(183)},329:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".card-subline{font-size:.7em;color:grey;font-weight:600}@media screen and (max-width:500px){.card-subline{display:none}}.no-data-chart{color:#cacaca;transform:translateY(10em)}.plays-chart-card-title__select{max-width:130px;margin-top:.3em}@media screen and (max-width:600px){.plays-chart-card-title__select{margin:1em!important}}.flex-end{display:flex;align-items:center;justify-content:flex-end}.analytics-card-icon .v-responsive__content{display:flex!important;align-items:center!important;justify-content:center!important}",""])},330:function(t,e,a){"use strict";a(184)},331:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".align-space-between-and-column[data-v-43453503]{display:flex;flex-direction:column;justify-content:space-between}",""])},344:function(t,e,a){"use strict";a(186)},345:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".album-cover{border-radius:5px}",""])},346:function(t,e,a){"use strict";a(187)},347:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".appearance-container .loading{height:15vh}",""])},348:function(t,e,a){"use strict";a(188)},349:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".image-picker[data-v-99fb2bee]{position:relative}.image-picker__title[data-v-99fb2bee]{position:absolute;top:5px;left:5px}.image-picker .img-picker[data-v-99fb2bee]{width:100%;top:0;height:9em;display:flex;align-items:center;justify-content:center;position:relative}.image-picker .img-picker .upload[data-v-99fb2bee]{position:absolute;bottom:0;left:0;right:0;background-color:rgba(78,78,78,.61);color:#fff;border:1px solid hsla(0,0%,50.2%,.384);text-align:center;z-index:2;cursor:pointer;background-color:transparent;border-radius:5px;transition:all 1s;height:100%}.image-picker .img-picker .upload label[data-v-99fb2bee]{z-index:2;cursor:pointer;display:flex;justify-content:center;padding:.2rem 0;margin-bottom:0}.image-picker .img-picker .upload[data-v-99fb2bee]:hover{background-color:hsla(0,0%,100%,.267)}.image-picker .img-picker label[data-v-99fb2bee]{height:100%}.image-picker .img-picker .img[data-v-99fb2bee]{max-width:40%;min-width:6em}",""])},360:function(t,e,a){"use strict";a(189)},361:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".sidebar-item[data-v-ee626ec8]{padding:0 2em!important}.sidebar-list-default[data-v-ee626ec8]{padding-bottom:3em}.item-wrapper[data-v-ee626ec8]{padding:1em 0;border-radius:1px solid #ccc;border-radius:3px}.selectable-icon[data-v-ee626ec8]{cursor:pointer;border-radius:4px}.selectable-icon[data-v-ee626ec8]:hover{background-color:hsla(0,0%,50.2%,.171)}",""])},362:function(t,e,a){"use strict";a(190)},363:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".iframe-container{height:80vh}",""])},364:function(t,e,a){"use strict";a(191)},365:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".top-right[data-v-3f377038]{position:absolute;top:0;right:0}.swiper-pagination[data-v-3f377038]{top:0}.bottom-right[data-v-3f377038]{position:absolute;bottom:0;right:0}.language-title[data-v-3f377038]{line-height:1.1!important}.active-layer[data-v-3f377038]{opacity:.15;background-color:var(--color-primary)}.disabledCard[data-v-3f377038]{pointer-events:none}.disabledCoverLayer[data-v-3f377038]{position:absolute;top:0;right:0;left:0;bottom:0;background-color:rgba(83,83,83,.363);display:flex;align-items:center;z-index:2;justify-content:center}",""])},366:function(t,e,a){"use strict";a(192)},367:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".advertising-wrapper__title{font-weight:700;font-size:1.2em;margin-left:.5em}.ad-banner{width:100%}.ad-banner__rect{min-width:300px}.ad-banner__square{max-width:300px;min-width:140px}",""])},370:function(t,e,a){"use strict";a(193)},371:function(t,e,a){(t.exports=a(5)(!1)).push([t.i,".plans-wrapper .plan__price__amount[data-v-dd98339c]{font-size:1.5em}",""])},616:function(t,e,a){"use strict";a.r(e);var s=a(12),i=a.n(s),n=a(49),o=(a(116),a(85)),r={},l=(a(318),a(0)),c=a(1),d=a.n(c),u=a(81),v=a(75),p=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control-layer"},[a("div",{staticClass:"actions"},[a("div",{staticClass:"move-left"},[a("v-btn",{attrs:{dark:"",icon:"",large:""},on:{click:function(e){return e.stopPropagation(),t.$emit("moveLeft")}}},[a("v-icon",[t._v(" $vuetify.icons.arrow-left ")])],1)],1),t._v(" "),a("div",{staticClass:"remove"},[a("v-btn",{attrs:{dark:"",icon:"",large:""},on:{click:function(e){return e.stopPropagation(),t.$emit("delete")}}},[a("v-icon",{attrs:{color:"error"}},[t._v(" $vuetify.icons.delete ")])],1)],1),t._v(" "),a("div",{staticClass:"move-right"},[a("v-btn",{attrs:{dark:"",icon:"",large:""},on:{click:function(e){return e.stopPropagation(),t.$emit("moveRight")}}},[a("v-icon",[t._v(" $vuetify.icons.arrow-right ")])],1)],1)])])}),[],!1,null,null,null),g=p.exports;d()(p,{VBtn:u.a,VIcon:v.a});var m={props:{section:{type:Object},contentLoading:{type:Boolean},content:{type:Array},isOnEditPage:{type:Boolean},isOnSectionEdit:{type:Boolean},isEndpoint:{type:Boolean},showEmpty:{type:Boolean}},created:function(){this.content||this.getContent()},components:{swiper:n.swiper,swiperSlide:n.swiperSlide,EditItemPosition:g},mounted:function(){var t=this;setTimeout((function(){t.sectionWidth=1e3}),200)},data:function(){return{sectionWidth:0,contents:[],isContentLoading:!1,serverError:!1,swiperOptions:{slidesPerView:4,spaceBetween:10,navigation:{nextEl:"#swiper-button-naschte-"+this.section.id,prevEl:"#swiper-button-zuruck-"+this.section.id},pagination:{el:".swiper-pagination",clickable:!0}}}},computed:{mo7tawa:function(){return this.content&&this.content.length?this.content:this.contents&&this.contents.length?this.contents:[]}},watch:{content:function(t){this.contents=t}},methods:{getContent:function(){var t=this;this.serverError=!1,this.isContentLoading=!0,axios.get("/api/section/content/"+this.section.id).then((function(e){t.contents=e.data,t.$emit("content")})).catch((function(){t.contents=[],t.serverError=!0})).finally((function(){t.isContentLoading=!1,t.$emit("content",t.contents)}))}}},h=a(105),f=Object(l.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.section?a("v-card",{staticClass:"section-skeleton",attrs:{elevation:"lg"}},[a("div",{staticClass:"section-header"},[a("div",{staticClass:"section-header__title"},[t._v("\n      "+t._s(t.section.title)+"\n    ")]),t._v(" "),a("div",{staticClass:"section-header__chevrons"},[a("v-icon",{attrs:{id:"swiper-button-zuruck-"+t.section.id}},[t._v("$vuetify.icons.chevron-left")]),t._v(" "),a("v-icon",{attrs:{id:"swiper-button-naschte-"+t.section.id}},[t._v("$vuetify.icons.chevron-right")])],1)]),t._v(" "),t.mo7tawa?a("div",{staticClass:"section-body",style:{sectionWidth:t.sectionWidth}},[a("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t._l(t.mo7tawa,(function(e,s){return[e||t.section.endpoint||!t.isOnSectionEdit?e?a("swiper-slide",{key:s},["song"===e.type?[a("song-expo",{attrs:{admin:"true",song:e},scopedSlots:t._u([t.section.endpoint?null:{key:"control-layer",fn:function(){return[a("edit-item-position",{on:{moveRight:function(e){return t.$emit("moveRight",s)},moveLeft:function(e){return t.$emit("moveLeft",s)},delete:function(e){return t.$emit("delete",s)}}})]},proxy:!0}],null,!0)})]:"album"===e.type?[a("album-expo",{attrs:{album:e},scopedSlots:t._u([t.section.endpoint?null:{key:"control-layer",fn:function(){return[a("edit-item-position",{on:{moveRight:function(e){return t.$emit("moveRight",s)},moveLeft:function(e){return t.$emit("moveLeft",s)},delete:function(e){return t.$emit("delete",s)}}})]},proxy:!0}],null,!0)})]:"podcast"===e.type?[a("podcast-box",{attrs:{podcast:e},scopedSlots:t._u([t.section.endpoint?null:{key:"control-layer",fn:function(){return[a("edit-item-position",{on:{moveRight:function(e){return t.$emit("moveRight",s)},moveLeft:function(e){return t.$emit("moveLeft",s)},delete:function(e){return t.$emit("delete",s)}}})]},proxy:!0}],null,!0)})]:"genre"===e.type?[a("genre",{attrs:{genre:e,admin:!0},scopedSlots:t._u([t.section.endpoint?null:{key:"control-layer",fn:function(){return[a("edit-item-position",{on:{moveRight:function(e){return t.$emit("moveRight",s)},moveLeft:function(e){return t.$emit("moveLeft",s)},delete:function(e){return t.$emit("delete",s)}}})]},proxy:!0}],null,!0)})]:"radio-station"===e.type?[a("radio-station",{attrs:{radioStation:e},scopedSlots:t._u([t.section.endpoint?null:{key:"control-layer",fn:function(){return[a("edit-item-position",{on:{moveRight:function(e){return t.$emit("moveRight",s)},moveLeft:function(e){return t.$emit("moveLeft",s)},delete:function(e){return t.$emit("delete",s)}}})]},proxy:!0}],null,!0)})]:"playlist"===e.type?[a("playlist-expo",{attrs:{playlist:e,admin:!0},scopedSlots:t._u([t.section.endpoint?null:{key:"control-layer",fn:function(){return[a("edit-item-position",{on:{moveRight:function(e){return t.$emit("moveRight",s)},moveLeft:function(e){return t.$emit("moveLeft",s)},delete:function(e){return t.$emit("delete",s)}}})]},proxy:!0}],null,!0)})]:t._e()],2):t._e():a("swiper-slide",{key:s,staticClass:"section-item"},[a("div",{staticClass:"absolute fill align-justify-center"},[a("v-icon",{staticClass:"pointer",attrs:{size:"150"},on:{click:function(e){return t.$emit("attachAsset",s)}}},[t._v("$vuetify.icons.plus")])],1)])]}))],2)],1):t._e()]):t._e()}),[],!1,null,null,null),_=f.exports;d()(f,{VCard:h.a,VIcon:v.a});var b=a(264),y=a(88);function $(t,e,a,s,i,n,o){try{var r=t[n](o),l=r.value}catch(t){return void a(t)}r.done?e(l):Promise.resolve(l).then(s,i)}function x(t){return function(){var e=this,a=arguments;return new Promise((function(s,i){var n=t.apply(e,a);function o(t){$(n,s,i,o,r,"next",t)}function r(t){$(n,s,i,o,r,"throw",t)}o(void 0)}))}}var C={props:["section","page"],components:{swiper:n.swiper,swiperSlide:n.swiperSlide,Featured:y.a,List:b.default,EditedSection:_,AttachAssetDialog:o.a},data:function(){var t=this;return{editedSection:JSON.parse(JSON.stringify(this.section)),attachAssetDialogBoolean:!1,firstCopy:JSON.parse(JSON.stringify(this.section)),isThereAnError:!1,assetIndex:null,isLoading:!1,contentLoading:!1,sources:[{text:this.$t("Local"),value:"local"},{text:"Spotify",value:"spotify"},{text:"Listen Notes(podcast only)",value:"listen_notes"},{text:this.$t("Mixed"),value:"*"}],layouts:[{text:"List",value:"list"},{text:"Section",value:"section"},{text:"Cards",value:"cards"}],contents:[{name:this.$t("Custom"),endpoint:null},{name:this.$t("Latest Albums"),endpoint:"new-releases"},{name:this.$t("Most Played Songs"),endpoint:"popular-songs"},{name:this.$t("Most Liked Songs"),endpoint:"most-liked-songs"},{name:this.$t("Best Podcasts")+(this.$store.getters.getSettings.enablePodcasts?"":"("+this.$t("podcasts disabled")+")"),endpoint:"best-podcasts",sources:"podcasts",disabled:!this.$store.getters.getSettings.enablePodcasts||!this.$store.getters.getSettings.provider_listenNotes},{name:this.$t("Most Played Podcasts")+(this.$store.getters.getSettings.enablePodcasts?"":"("+this.$t("podcasts disabled")+")"),endpoint:"popular-podcasts",sources:"podcasts",disabled:!this.$store.getters.getSettings.enablePodcasts},{name:this.$t("Latest Podcasts(local)")+(this.$store.getters.getSettings.enablePodcasts?"":"("+this.$t("podcasts disabled")+")"),title:this.$t("Latest Podcasts"),endpoint:"latest-podcasts",sources:"podcasts",disabled:!this.$store.getters.getSettings.enablePodcasts}],nameRules:[function(e){return!!e||t.$t("Required")},function(e){return e.length<=40||t.$t("Max 40 characters")},function(e){return e.length>=2||t.$t("Min 2 characters")}]}},computed:{contentComputed:function(){return this.editedSection.content?this.editedSection.content.slice(0,this.section.nb_labels):[]}},methods:{moveLeft:function(t){if(void 0!==this.editedSection.content[t-1]){var e=this.editedSection.content[t-1],a=this.editedSection.content[t];this.$set(this.editedSection.content,t,e),this.$set(this.editedSection.content,t-1,a)}},moveRight:function(t){if(void 0!==this.editedSection.content[t+1]){var e=this.editedSection.content[t+1],a=this.editedSection.content[t];this.$set(this.editedSection.content,t,e),this.$set(this.editedSection.content,t+1,a)}},removeContentItem:function(t){this.$set(this.editedSection.content,t,null)},closeWindow:function(){this.$emit("close")},updateErrorState:function(t){this.isThereAnError=t},createPageFirst:function(){var t=this;return x(i.a.mark((function e(){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("title",t.page.title||""),a.append("description",t.page.description||""),a.append("name",t.page.name||""),a.append("icon",t.page.icon||""),a.append("path",t.page.path||""),e.next=8,axios.post("/api/admin/pages",a);case 8:return s=e.sent,e.abrupt("return",s.data);case 10:case"end":return e.stop()}}),e)})))()},saveSection:function(){var t=this;return x(i.a.mark((function e(){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoading=!0,t.editedSection.nb_labels>t.editedSection.content.length&&(t.editedSection.nb_labels=t.editedSection.content.length),!t.editedSection.content.find((function(t){return t&&t.id}))){e.next=6;break}t.editedSection.content=t.editedSection.content.splice(0,t.editedSection.nb_labels).filter((function(t){return t})),e.next=8;break;case 6:return t.isLoading=!1,e.abrupt("return",t.$notify({group:"foo",type:"error",title:t.$t("Error"),text:t.$t("Please add some content to your section!")}));case 8:if((a=new FormData).append("title",t.editedSection.title||""),a.append("source",t.editedSection.source||""),a.append("layout",t.editedSection.layout||""),a.append("content",JSON.stringify(t.editedSection.content.map((function(t){return{id:t.id,type:t.type}})))||""),a.append("nb_labels",t.editedSection.nb_labels||""),a.append("endpoint",t.editedSection.endpoint||""),t.page.id){e.next=20;break}return e.next=18,t.createPageFirst();case 18:s=e.sent,t.$emit("id",s.id);case 20:a.append("page_id",t.page.id||s.id||""),t.editedSection.new?axios.post("/api/admin/sections",a).then((function(){t.$emit("created"),t.$notify({group:"foo",type:"success",title:t.$t("Created"),text:t.$t("The section was created successfully.")})})).finally((function(){return t.isLoading=!1})):(a.append("_method","PUT"),axios.post("/api/admin/sections/"+t.editedSection.id,a).then((function(){t.$emit("updated"),t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Section was")+" "+t.$t("updated successfully.")})})).finally((function(){return t.isLoading=!1})));case 22:case"end":return e.stop()}}),e)})))()},fillContent:function(t){var e=this;if(t&&this.resetContent(),this.editedSection.endpoint)this.contentLoading=!0,"best-podcasts"===this.editedSection.endpoint&&(this.editedSection.source="listen_notes"),axios.get("/api/"+this.editedSection.endpoint+"?nb_items="+this.editedSection.nb_labels+"&src="+this.editedSection.source).then((function(t){e.$set(e.editedSection,"content",t.data)})).finally((function(){return e.contentLoading=!1}));else if(this.editedSection.content)if(this.editedSection.nb_labels>this.editedSection.content.length)for(var a=this.editedSection.nb_labels-this.editedSection.content.length,s=0;s<a;s++)this.editedSection.content.push(null),this.$set(this.editedSection,"content",this.editedSection.content);else this.editedSection.nb_labels<this.editedSection.content.length&&(this.editedSection.content.splice(0,this.editedSection.content.length-this.editedSection.nb_labels),this.$set(this.editedSection,"content",this.editedSection.content))},contentFetched:function(t){this.editedSection.content=t,this.fillContent()},resetContent:function(){for(var t=[],e=0;e<this.editedSection.nb_labels;e++)t.push(null);this.$set(this.editedSection,"content",t)},attachAsset:function(t){this.attachAssetDialogBoolean=!0,this.assetIndex=t},updateContent:function(t){this.$set(this.editedSection.content,this.assetIndex,t),this.attachAssetDialogBoolean=!1,this.assetIndex=null}}},k=(a(320),a(559)),w=a(860),S=a(564),P=a(558),D=a(68),V=a(41),L=Object(l.a)(C,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"section"},on:{callToAction:t.saveSection,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:t.$t("title"),outlined:"","hide-details":"",rules:t.nameRules},on:{"update:error":t.updateErrorState},model:{value:t.editedSection.title,callback:function(e){t.$set(t.editedSection,"title",e)},expression:"editedSection.title"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{outlined:"",label:t.$t("Number of labels"),"hide-details":"",type:"number"},on:{input:function(e){return t.fillContent(!1)}},model:{value:t.editedSection.nb_labels,callback:function(e){t.$set(t.editedSection,"nb_labels",t._n(e))},expression:"editedSection.nb_labels"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{label:t.$t("Content"),outlined:"","hide-details":"",items:t.contents,"item-text":"name","item-value":"endpoint"},on:{change:function(e){return t.fillContent(!0)}},model:{value:t.editedSection.endpoint,callback:function(e){t.$set(t.editedSection,"endpoint",e)},expression:"editedSection.endpoint"}})],1),t._v(" "),t.$store.getters.getSettings.provider_spotify?[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{outlined:"",label:t.$t("Content Source"),"hide-details":"",items:t.sources,"item-text":"text","item-value":"value"},on:{change:function(e){return t.fillContent(!0)}},model:{value:t.editedSection.source,callback:function(e){t.$set(t.editedSection,"source",e)},expression:"editedSection.source"}})],1)]:t._e(),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{outlined:"",label:t.$t("Layout"),"hide-details":"",items:t.layouts,"item-text":"text","item-value":"value"},on:{change:function(e){return t.fillContent(!1)}},model:{value:t.editedSection.layout,callback:function(e){t.$set(t.editedSection,"layout",e)},expression:"editedSection.layout"}})],1)],2),t._v(" "),a("v-row",[a("v-col",{staticClass:"pt-4",attrs:{cols:"12"}},["section"===t.editedSection.layout?a("EditedSection",{attrs:{section:t.editedSection,contentLoading:t.contentLoading,isOnSectionEdit:!0,content:t.editedSection.content,isEndpoint:t.editedSection.endpoint},on:{delete:function(e){return t.removeContentItem(e)},moveRight:function(e){return t.moveRight(e)},moveLeft:function(e){return t.moveLeft(e)},content:function(e){return t.contentFetched(e)},attachAsset:function(e){return t.attachAsset(e)}}}):"list"===t.editedSection.layout?a("List",{attrs:{section:t.editedSection,contentLoading:t.contentLoading,content:t.editedSection.content,isOnSectionEdit:!0,isEndpoint:t.editedSection.endpoint},on:{delete:function(e){return t.removeContentItem(e)},moveRight:function(e){return t.moveRight(e)},moveLeft:function(e){return t.moveLeft(e)},content:function(e){return t.contentFetched(e)},attachAsset:function(e){return t.attachAsset(e)}}}):"cards"===t.editedSection.layout?a("Featured",{attrs:{section:t.editedSection,contentLoading:t.contentLoading,content:t.editedSection.content,isOnSectionEdit:!0,isEndpoint:!!t.editedSection.endpoint},on:{delete:function(e){return t.removeContentItem(e)},moveRight:function(e){return t.moveRight(e)},moveLeft:function(e){return t.moveLeft(e)},content:function(e){return t.contentFetched(e)},attachAsset:function(e){return t.attachAsset(e)}}}):t._e()],1)],1)],1)]},proxy:!0},{key:"dialogs",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.attachAssetDialogBoolean,callback:function(e){t.attachAssetDialogBoolean=e},expression:"attachAssetDialogBoolean"}},[null!==t.assetIndex?a("attach-asset-dialog",{staticClass:"p-3",attrs:{section_type:t.editedSection.layout,engines:t.editedSection.source},on:{asset:function(e){return t.updateContent(e)}}}):t._e()],1)]},proxy:!0}])})}),[],!1,null,"d8adc9b0",null),A=L.exports;d()(L,{VCol:k.a,VContainer:w.a,VDialog:S.a,VRow:P.a,VSelect:D.a,VTextField:V.a});var T=a(60),R=a.n(T),I={props:["section"],components:{swiper:n.swiper,swiperSlide:n.swiperSlide},created:function(){this.getContent()},mounted:function(){var t=this;setTimeout((function(){t.sectionWidth=1e3}),200)},data:function(){return{loading:!0,sectionWidth:0,contents:null,swiperOptions:{slidesPerView:5,spaceBetween:10,navigation:{nextEl:"#swiper-button-naschte-"+this.section.id,prevEl:"#swiper-button-zuruck-"+this.section.id},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{1920:{slidesPerView:7,spaceBetweenSlides:10},1680:{slidesPerView:5,spaceBetweenSlides:10},1100:{slidesPerView:4,spaceBetweenSlides:10},900:{slidesPerView:3,spaceBetweenSlides:10},500:{slidesPerView:2,spaceBetweenSlides:10}}}}},methods:{getContent:function(){var t=this;axios.get("/api/section/content/"+this.section.id).then((function(e){t.contents=e.data}))}}},E=(a(322),Object(l.a)(I,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"section-container section-skeleton  swiper-section",attrs:{rounded:""}},[a("v-card",{staticClass:"section-option section-option__drag handle",attrs:{outlined:""}},[a("v-icon",[t._v("$vuetify.icons.cursor-move")])],1),t._v(" "),a("v-card",{staticClass:"section-option section-option__edit",attrs:{outlined:""},on:{click:function(e){return t.$emit("edit")}}},[a("v-icon",{attrs:{color:"#039BE5"}},[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-card",{staticClass:"section-option section-option__delete",attrs:{outlined:""},on:{click:function(e){return t.$emit("delete")}}},[a("v-icon",{attrs:{color:"error"}},[t._v("$vuetify.icons.delete")])],1),t._v(" "),a("div",{staticClass:"section-header"},[a("div",{staticClass:"section-header__title"},[t._v("\n            "+t._s(t.$t(t.section.title))+"\n        ")]),t._v(" "),t.section.swipable?a("div",{staticClass:"section-header__chevrons"},[a("v-icon",{attrs:{id:"swiper-button-zuruck-"+t.section.id}},[t._v("$vuetify.icons.chevron-left")]),t._v(" "),a("v-icon",{attrs:{id:"swiper-button-naschte-"+t.section.id}},[t._v("$vuetify.icons.chevron-right")])],1):t._e()]),t._v(" "),a("div",{staticClass:"section-body",style:{sectionWidth:t.sectionWidth}},[t.contents?a("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t.contents.length?t._l(t.contents,(function(e,s){return a("swiper-slide",{key:s},["song"===e.type?[a("song-expo",{attrs:{song:e}})]:"album"===e.type?[a("album-expo",{attrs:{album:e}})]:"podcast"===e.type?[a("podcast-box",{attrs:{podcast:e}})]:"playlist"===e.type?[a("playlist-expo",{attrs:{playlist:e}})]:"radio-station"===e.type?[a("radio-station",{attrs:{radioStation:e}})]:"genre"===e.type?[a("genre",{attrs:{genre:e,admin:!0}})]:t._e()],2)})):[a("div",{staticClass:"empty-section-text muted text-center"},[t.section.endpoint?[t._v("\n                    "+t._s(t.$t("No Data!"))+"\n                ")]:[t._v("\n                    "+t._s(t.$t("Empty Section"))+"\n                ")]],2)]],2):a("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},t._l(6,(function(e){return a("swiper-slide",{key:e},[a("div",{staticClass:"song-expo-skeleton"},[a("content-placeholders",{attrs:{rounded:!0}},[a("content-placeholders-img"),t._v(" "),a("content-placeholders-text",{attrs:{lines:2}})],1)],1)])})),1)],1)],1)}),[],!1,null,"44f29cfe",null)),B=E.exports;d()(E,{VCard:h.a,VIcon:v.a});var O={components:{TextEditor:function(){return a.e(16).then(a.bind(null,694))},draggable:R.a,EditSectionDialog:A,Featured:y.a,SwiperSectionAdmin:B},props:["page"],data:function(){return{editingSection:null,isLoading:!1,editDialog:!1}},computed:{dragOptions:function(){return{animation:0,disabled:!1,ghostClass:"ghost"}}},beforeRouteLeave:function(t,e,a){JSON.stringify(this.page.sections)!==JSON.stringify(this.sectionsFirstCopy)?this.$confirm({message:"".concat(this.$t("Are you sure you wanna reset to the default settings ?")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(t){t&&a()}}):a()},methods:{savePage:function(){var t=this;this.isLoading=!0;var e=new FormData;e.append("title",this.page.title||""),e.append("description",this.page.description||""),e.append("name",this.page.name||""),e.append("icon",this.page.icon||""),e.append("path",this.page.path||""),e.append("content",this.page.content||""),e.append("blank",this.page.blank?1:0),e.append("showLinkOnTheRightSidebar",this.page.showLinkOnTheRightSidebar?1:0),e.append("sections",JSON.stringify(this.page.sections)||""),this.page.new&&!this.page.id?axios.post("/api/admin/pages",e).then((function(){return t.$emit("created")})).catch((function(t){})).finally((function(){return t.isLoading=!1})):(e.append("_method","PUT"),axios.post("/api/admin/pages/"+this.page.id,e).then((function(){return t.$emit("updated")})).catch((function(t){})).finally((function(){return t.isLoading=!1})))},editSection:function(t){this.editingSection=t,this.editDialog=!0},createSection:function(){this.editingSection={new:!0,title:"Section name",name:"Custom",source:"local",layout:"section",nb_labels:6,content:[null,null,null,null,null],rank:this.page.sections.length,showLinkOnTheRightSidebar:!1,endpoint:null,id:Math.round(100*Math.random())},this.editDialog=!0},closeSectionDialog:function(){this.editDialog=!1,this.editingSection=null},closeWindow:function(){this.$emit("close")},deleteSection:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("section")+"?"),button:{no:this.$t("Cancel"),yes:"Delete"},callback:function(a){a&&(e.isLoading=!0,axios.delete("/api/admin/sections/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Section")+" "+e.$t("Deleted")+"."})})).then((function(){return e.fetchSections()})))}})},updateSections:function(){this.editDialog=!1,this.editingSection=!1,this.fetchSections()},fetchSections:function(){var t=this;if(this.page.id)return this.isLoading=!0,axios.get("/api/admin/pages/"+this.page.id).then((function(e){t.page.sections=e.data.sections})).finally((function(){return t.isLoading=!1}))}}},U=(a(324),a(765)),N=Object(l.a)(O,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"Page",fullscreen:!0},on:{callToAction:t.savePage,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",{staticClass:"container"},[a("div",{staticClass:"page-infos"},[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("Name"),outlined:""},model:{value:t.page.name,callback:function(e){t.$set(t.page,"name",e)},expression:"page.name"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("Title"),outlined:""},model:{value:t.page.title,callback:function(e){t.$set(t.page,"title",e)},expression:"page.title"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("Description"),outlined:""},model:{value:t.page.description,callback:function(e){t.$set(t.page,"description",e)},expression:"page.description"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:t.$t("Icon"),outlined:""},model:{value:t.page.icon,callback:function(e){t.$set(t.page,"icon",e)},expression:"page.icon"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{"hide-details":"",label:t.$t("Path"),outlined:""},model:{value:t.page.path,callback:function(e){t.$set(t.page,"path",e)},expression:"page.path"}})],1),t._v(" "),t.page.isEditable?a("v-col",{attrs:{cols:"6"}},[a("v-switch",{attrs:{label:t.$t("Custom"),outlined:""},model:{value:t.page.blank,callback:function(e){t.$set(t.page,"blank",e)},expression:"page.blank"}})],1):t._e(),t._v(" "),t.page.isEditable?a("v-col",{attrs:{cols:"6"}},[a("v-switch",{attrs:{label:t.$t("Show link on the right-sidebar"),outlined:""},model:{value:t.page.showLinkOnTheRightSidebar,callback:function(e){t.$set(t.page,"showLinkOnTheRightSidebar",e)},expression:"page.showLinkOnTheRightSidebar"}})],1):t._e()],1)],1),t._v(" "),t.page.blank?[a("TextEditor",{attrs:{initialContent:t.page.content,placeholder:"Add your page content here"},on:{content:function(e){t.page.content=e}}})]:[a("v-row",[a("v-col",[a("v-btn",{staticClass:"info my-3",attrs:{dark:"",small:""},on:{click:t.createSection}},[a("v-icon",{staticClass:"mr-1"},[t._v("$vuetify.icons.plus")]),t._v("\n                            "+t._s(t.$t("Add Section"))+"\n                        ")],1)],1)],1),t._v(" "),a("v-card",{staticClass:"page px-3 py-5",attrs:{elevation:"lg"}},[a("div",{staticClass:"content-page"},[a("div",{staticClass:"icon-header"},[a("div",{staticClass:"cover"},[a("v-icon",{attrs:{dark:""}},[t._v("$vuetify.icons."+t._s(t.page.icon))])],1),t._v(" "),a("div",{staticClass:"title"},[a("div",{staticClass:"headline"},[t._v("\n                                    "+t._s(t.page.title)+"\n                                ")]),t._v(" "),a("div",{staticClass:"sub"},[t._v("\n                                    "+t._s(t.page.description)+"\n                                ")])])]),t._v(" "),!t.page.sections||t.isLoading?a("page-loading",{staticClass:"loading",attrs:{height:"20vh"}}):t.page.sections&&!t.page.sections.length?a("empty-page",{attrs:{headline:t.$t("No Sections!"),sub:t.$t("Page empty. Add some sections.")}}):a("div",{staticClass:"sections p-4"},[a("draggable",t._b({staticClass:"list-group mt-5",attrs:{handle:".handle"},on:{start:function(e){t.isDragging=!0},end:function(e){t.isDragging=!1}},model:{value:t.page.sections,callback:function(e){t.$set(t.page,"sections",e)},expression:"page.sections"}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{name:"flip-list"}},[t._l(t.page.sections,(function(e){return["section"===e.layout?a("swiper-section-admin",{key:e.id,attrs:{section:e},on:{edit:function(a){return t.editSection(e)},delete:function(a){return t.deleteSection(e.id)}}}):"list"===e.layout?a("v-card",{key:e.id,staticClass:"section-skeleton",attrs:{rounded:""}},[a("v-card",{staticClass:"section-option section-option__drag handle",attrs:{outlined:""}},[a("v-icon",[t._v("$vuetify.icons.cursor-move")])],1),t._v(" "),a("v-card",{staticClass:"section-option section-option__edit",attrs:{outlined:""},on:{click:function(a){return t.editSection(e)}}},[a("v-icon",{attrs:{color:"#039BE5"}},[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-card",{staticClass:"section-option section-option__delete",attrs:{outlined:""},on:{click:function(a){return t.deleteSection(e.id)}}},[a("v-icon",{attrs:{color:"error"}},[t._v("$vuetify.icons.delete")])],1),t._v(" "),a("List",{key:e.id,attrs:{section:e,isOnEditPage:!0},on:{edit:function(a){return t.editSection(e)},delete:function(a){return t.deleteSection(e.id)}}})],1):"cards"===e.layout?a("v-card",{key:e.id,staticClass:"section-skeleton",attrs:{rounded:""}},[a("v-card",{staticClass:"section-option section-option__drag handle",attrs:{outlined:""}},[a("v-icon",[t._v("$vuetify.icons.cursor-move")])],1),t._v(" "),a("v-card",{staticClass:"section-option section-option__edit",attrs:{outlined:""},on:{click:function(a){return t.editSection(e)}}},[a("v-icon",{attrs:{color:"#039BE5"}},[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-card",{staticClass:"section-option section-option__delete",attrs:{outlined:""},on:{click:function(a){return t.deleteSection(e.id)}}},[a("v-icon",{attrs:{color:"error"}},[t._v("$vuetify.icons.delete")])],1),t._v(" "),a("Featured",{key:e.id,attrs:{section:e,isOnEditPage:!0},on:{edit:function(a){return t.editSection(e)},delete:function(a){return t.deleteSection(e.id)}}})],1):t._e()]}))],2)],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"950",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editingSection?a("edit-section-dialog",{attrs:{page:t.page,section:t.editingSection},on:{id:function(e){t.page.id=e},close:t.closeSectionDialog,created:t.updateSections,updated:t.updateSections}}):t._e()],1)],1)]],2)]},proxy:!0}])})}),[],!1,null,"fcdcf01c",null),F=N.exports;d()(N,{VBtn:u.a,VCard:h.a,VCol:k.a,VContainer:w.a,VDialog:S.a,VIcon:v.a,VRow:P.a,VSwitch:U.a,VTextField:V.a});var M={components:{editPageDialog:F},created:function(){this.fetchPages()},data:function(){return{pages:null,editingPage:{},headers:[{text:this.$t("Name"),value:"name"},{text:this.$t("Operations"),value:"operations",align:"end"}],editDialog:!1}},methods:{fetchPages:function(){var t=this;axios.get("/api/admin/pages").then((function(e){t.pages=e.data}))},deletePage:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Page")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/pages/"+t).then((function(t){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Page")+" "+e.$t("Deleted")+"."}),e.fetchPages()})).catch()}})},editPage:function(t){t?"new"===t?(this.editingPage={new:!0,name:"Custom name",title:this.$t("Custom title"),icon:"music-circle",isEditable:!0,description:"Custom description",path:"/page/custom",sections:[]},this.editDialog=!0):(this.editingPage=t,this.editDialog=!0):(this.editDialog=!1,this.editingPage={})},pageEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Page")+" "+this.$t("Updated")+"."}),this.fetchPages()},pageCreated:function(){this.pages=null,this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Created"),text:this.$t("Page")+" "+this.$t("Updated")+"."}),this.fetchPages()}}},G=a(3),j=a(872),z=Object(l.a)(M,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pages-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.text-box-multiple-outline")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editPage("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+" "+t._s(t.$t("Page"))+"\n      ")],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.pages||[],"items-per-page":25,loading:!t.pages},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{path:s.path},target:"_blank"}},[t._v("\n          "+t._s(s.name)+"\n          "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editPage(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),1!==s.id?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deletePage(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1):t._e()]}},{key:"item.created_at",fn:function(e){var s=e.item;return[a("div",[t._v("\n          "+t._s(t.moment(s.created_at).format("ll"))+"\n        ")])]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"no-click-animation":"",persistent:"",fullscreen:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-page-dialog",{attrs:{page:t.editingPage},on:{updated:t.pageCreated,created:t.pageCreated,close:function(e){return t.editPage(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=z.exports;d()(z,{VBtn:u.a,VCard:h.a,VCardTitle:G.c,VDataTable:j.a,VDialog:S.a,VIcon:v.a})},620:function(t,e,a){"use strict";a.r(e);var s={created:function(){var t=this;this.items=this.items.filter((function(e){return"settings"===e.name||e.children&&e.children.find((function(t){return"settings"===t.name}))?t.hasPermission("Edit settings")?1:0:"users"===e.name||e.children&&e.children.find((function(t){return"users"===t.name}))?t.hasPermission("Read users")?1:0:"artists"===e.name||e.children&&e.children.find((function(t){return"artists"===t.name}))?t.hasPermission("Read artists")&&t.$store.getters.getSettings.enable_artist_account?1:0:"podcasts"===e.name||e.children&&e.children.find((function(t){return"podcasts"===t.name}))?t.hasPermission("CED podcasts")?1:0:"radio-stations"===e.name||e.children&&e.children.find((function(t){return"radio-stations"===t.name}))?t.hasPermission("CED radio_stations")?1:0:"appearance"===e.name||e.children&&e.children.find((function(t){return"appearance"===t.name}))?t.hasPermission("Edit appearance")?1:0:"albums"===e.name||e.children&&e.children.find((function(t){return"albums"===t.name}))?t.hasPermission("CED albums")?1:0:"songs"===e.name||e.children&&e.children.find((function(t){return"songs"===t.name}))?t.hasPermission("CED songs")?1:0:"roles"===e.name||e.children&&e.children.find((function(t){return"roles"===t.name}))?t.hasPermission("Read roles")?1:0:"playlists"===e.name||e.children&&e.children.find((function(t){return"playlists"===t.name}))?t.hasPermission("CED playlists")?1:0:"genres"===e.name||e.children&&e.children.find((function(t){return"genres"===t.name}))?t.hasPermission("CED song_genres")?1:0:"podcast_genres"===e.name||e.children&&e.children.find((function(t){return"podcast_genres"===t.name}))?t.hasPermission("CED podcast_genres")?1:0:"subscriptions"===e.name||e.children&&e.children.find((function(t){return"subscriptions"===t.name}))?t.hasPermission("CED subscriptions")&&t.$store.getters.getSettings.saas?1:0:"plans"===e.name||e.children&&e.children.find((function(t){return"plans"===t.name}))?t.hasPermission("CED plans")?1:0:"advertisements"===e.name||e.children&&e.children.find((function(t){return"advertisements"===t.name}))?t.hasPermission("Edit advertisements")&&t.$store.getters.getSettings.saas?1:0:"translations"===e.name||e.children&&e.children.find((function(t){return"translations"===t.name}))?t.hasPermission("CED translations")?1:0:"sales"===e.name||e.children&&e.children.find((function(t){return"sales"===t.name}))?t.hasPermission("View sales")&&t.$store.getters.getSettings.saas?1:0:"monetizing"===e.name?t.$store.getters.getSettings.saas?1:0:"payouts"===e.name||e.children&&e.children.find((function(t){return"payouts"===t.name}))?t.hasPermission("View payouts")&&t.$store.getters.getSettings.saas?1:0:"contact"===e.name||e.children&&e.children.find((function(t){return"contact"===t.name}))?t.hasPermission("contact")?1:0:1}))},data:function(){return{items:[{path:"/admin/analytics",icon:"google-analytics",text:this.$t("Analytics")},{icon:"cog",name:"settings",text:this.$t("Settings"),children:[{icon:"wrench",name:"settings",text:this.$t("Configuration"),path:"/admin/settings/config"},{path:"/admin/appearance",icon:"desktop-mac-dashboard",name:"appearance",text:this.$t("Appearance")}]},{icon:"currency-usd",text:this.$t("Monetizing"),name:"monetizing",children:[{path:"/admin/advertising",icon:"google-ads",name:"advertisements",text:this.$t("Advertisements")},{path:"/admin/plans",icon:"notebook-multiple",name:"plans",text:this.$t("Plans")},{path:"/admin/subscriptions",icon:"handshake-outline",name:"subscriptions",text:this.$t("Subscriptions")},{path:"/admin/sales",icon:"shopping",name:"sales",text:this.$t("Sales")},{path:"/admin/payouts",icon:"cash-check",name:"payouts",text:this.$t("Payouts")},{path:"/admin/payout-methods",icon:"account-cash-outline",name:"payout-methods",text:this.$t("Payout Methods")}]},{path:"/admin/pages",icon:"text-box-multiple-outline",name:"pages",text:this.$t("Pages")},{path:"/admin/artists",icon:"account-music",name:"artists",text:this.$t("Artists")},{icon:"folder-music",name:"content",text:this.$t("Content"),value:!0,children:[{path:"/admin/albums",icon:"album",name:"albums",text:this.$t("Albums")},{path:"/admin/radio-stations",icon:"radio-tower",name:"radio-stations",text:this.$t("Radio Stations")},{path:"/admin/songs",icon:"music-note",name:"songs",text:this.$t("Songs")},{path:"/admin/playlists",icon:"playlist-music",name:"playlists",text:this.$t("Playlists")},{path:"/admin/podcasts",icon:"microphone",name:"podcasts",text:this.$t("Podcasts")},{path:"/admin/genres",icon:"folder-music",name:"genres",text:this.$t("Song Genres")},{path:"/admin/podcast-genres",icon:"podcast",name:"podcast_genres",text:this.$t("Podcast Genres")}]},{icon:"account-supervisor-circle",text:this.$t("Members"),children:[{path:"/admin/roles",icon:"account-network",name:"roles",text:this.$t("Roles")},{path:"/admin/users",icon:"account-circle",name:"users",text:this.$t("Users")}]},{path:"/admin/contact",icon:"email-multiple",name:"contact",text:"Contact"},{path:"/admin/translations",icon:"translate",name:"translations",text:"Translations"}]}}},i=(a(295),a(0)),n=a(1),o=a.n(n),r=a(105),l=a(75),c=a(153),d=a(154),u=a(113),v=a(10),p=a(156),g=a(100),m=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"admin-list"},[a("v-list",{staticClass:"list",attrs:{rounded:""}},[a("v-list-item-group",{attrs:{color:"primary"}},[t._l(t.items,(function(e,s){return[e.path?a("v-list-item",{key:s,attrs:{to:e.path,link:""},on:{click:function(e){return t.$emit("clickOnItem")}}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s("$vuetify.icons."+e.icon)}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(t.$t(e.text))}})],1)],1):a("v-list-group",{key:s,attrs:{"prepend-icon":"$vuetify.icons."+e.icon,value:e.value},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-title",[t._v(t._s(t.$t(e.text)))])]},proxy:!0}],null,!0)},[t._v(" "),t._l(e.children,(function(e,s){return a("v-list-item",{key:s,attrs:{to:e.path,link:""},on:{click:function(e){return t.$emit("clickOnItem")}}},[a("v-list-item-icon",[a("v-icon",{domProps:{textContent:t._s("$vuetify.icons."+e.icon)}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(t.$t(e.text))}})],1)],1)}))],2)]}))],2)],1)],1)}),[],!1,null,"750d3cde",null),h=m.exports;o()(m,{VCard:r.a,VIcon:l.a,VList:c.a,VListGroup:d.a,VListItem:u.a,VListItemContent:v.a,VListItemGroup:p.a,VListItemIcon:g.a,VListItemTitle:v.c});var f={components:{NotificationsBox:a(89).a},created:function(){this.fetchNotifications()},data:function(){return{notifications:null}},computed:{user:function(){return this.$store.getters.getUser},isThereUnreadNotifications:function(){return this.notifications&&this.notifications.length&&this.notifications.filter((function(t){return t.read_at})).length<this.notifications.length}},methods:{fetchNotifications:function(){var t=this;axios.get("/api/admin/notifications").then((function(e){return t.notifications=e.data}))}}},_=(a(305),a(610)),b=a(611),y=a(606),$=a(81),x=a(157),C=a(274),k=a(124),w=Object(i.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.user?a("v-app-bar",[a("v-app-bar-nav-icon",{on:{click:function(e){return t.$emit("toggle-sidebar")}}}),t._v(" "),a("v-toolbar-title",[t._v(t._s(t.$t("Admin Area")))]),t._v(" "),a("v-spacer"),t._v(" "),t.notifications?a("div",{staticClass:"notifications"},[a("v-menu",{attrs:{bottom:"",left:"","nudge-bottom":"50","close-on-click":!1,"max-height":"20em","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{small:"",icon:""}},"v-btn",i,!1),s),[a("v-badge",{attrs:{left:"",overlap:"",dot:"",color:t.isThereUnreadNotifications?"error":"transparent"}},[a("v-icon",[t._v("$vuetify.icons.bell")])],1)],1)]}}],null,!1,1791742882)},[t._v(" "),a("v-card",{staticClass:"panel"},[a("notifications-box",{attrs:{notifications:t.notifications},on:{deleteNotification:t.fetchNotifications}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"admin-name ml-5 text-overflow-ellipsis"},[a("div",{staticClass:"avatar"},[a("img",{staticClass:"avatar-image",attrs:{src:t.user.avatar,alt:"",width:"35"}})]),t._v("\n        "+t._s(t.user.name)+"\n    ")]),t._v(" "),a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",i,!1),s),[a("v-icon",[t._v("$vuetify.icons.dots-vertical")])],1)]}}],null,!1,1136110947)},[t._v(" "),a("v-list",[a("v-list-item",{attrs:{to:{path:t.$store.getters.getSettings.playerLanding}}},[a("v-list-item-title",[a("v-icon",[t._v("$vuetify.icons.music-note-eighth")]),t._v("\n                    "+t._s(t.$t("Player")))],1)],1),t._v(" "),a("v-list-item",{attrs:{to:{name:"account-settings"}}},[a("v-list-item-title",[a("v-icon",[t._v("$vuetify.icons.account-cog")]),t._v("\n                    "+t._s(t.$t("Account Settings"))+"\n                ")],1)],1),t._v(" "),a("v-list-item",{on:{click:function(e){return t.changeTheme(!t.$vuetify.theme.dark)}}},[a("v-list-item-title",[a("v-icon",[t._v("$vuetify.icons.brightness-4")]),t._v("\n                    "+t._s(t.$t(t.$vuetify.theme.dark?"Light":"Dark Mode"))+"\n                ")],1)],1),t._v(" "),a("v-list-item",{on:{click:function(e){return t.$store.dispatch("logout")}}},[a("v-list-item-title",[a("v-icon",[t._v("$vuetify.icons.logout")]),t._v("\n                    "+t._s(t.$t("Logout")))],1)],1)],1)],1)],1):t._e()}),[],!1,null,"6609ea34",null),S=w.exports;o()(w,{VAppBar:_.a,VAppBarNavIcon:b.a,VBadge:y.a,VBtn:$.a,VCard:r.a,VIcon:l.a,VList:c.a,VListItem:u.a,VListItemTitle:v.c,VMenu:x.a,VSpacer:C.a,VToolbarTitle:k.a});var P={created:function(){this.screenWidth<750&&(this.sidebar=!1)},metaInfo:{title:window.Settings.find((function(t){return"appName"===t.key})).value+" - Admin Area"},components:{SidebarAdmin:h,NavbarAdmin:S},data:function(){return{sidebar:!0,screenWidth:window.innerWidth}}},D=(a(309),a(860)),V=Object(i.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"admin-master"}},[a("NavbarAdmin",{attrs:{id:"admin-header"},on:{"toggle-sidebar":function(e){t.sidebar=!t.sidebar}}}),t._v(" "),a("SidebarAdmin",{style:{transform:t.sidebar?"":"translateX(-100%)"},attrs:{id:"admin-sidebar"},on:{clickOnItem:function(e){t.screenWidth<750&&(t.sidebar=!1)}}}),t._v(" "),a("div",{style:{paddingLeft:t.sidebar?"19.8em":"0.8em"},attrs:{id:"admin-main-container"}},[a("v-container",{staticClass:"admin-router-container"},[a("router-view")],1)],1)],1)}),[],!1,null,null,null);e.default=V.exports;o()(V,{VContainer:D.a})},621:function(t,e,a){"use strict";a.r(e);var s=a(68),i={props:["available_permissions","current_permissions"],data:function(){return{ps:this.current_permissions}}},n=a(0),o=a(1),r=a.n(o),l=a(601),c=a(860),d=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{callToActionText:"Confirm",isLoading:!1,editing:"permissions"},on:{callToAction:function(e){return t.$emit("update",t.ps)},cancel:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",t._l(t.available_permissions,(function(e){return a("div",{key:e.id,staticClass:"permission"},[a("div",{staticClass:"checkbox"},[a("v-checkbox",{attrs:{value:e,messages:e.description},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"permission_label"},[t._v("\n                                "+t._s(e.name)+"\n                            ")])]},proxy:!0}],null,!0),model:{value:t.ps,callback:function(e){t.ps=e},expression:"ps"}})],1)])})),0)]},proxy:!0}])})}),[],!1,null,null,null),u=d.exports;r()(d,{VCheckbox:l.a,VContainer:c.a});var v={props:["user"],components:{veutifySelect:s.a,EditPermissionsDialog:u},created:function(){var t=this;axios.get("/api/admin/roles").then((function(e){t.availableRoles=e.data}))},data:function(){return{availableRoles:[],permissionsDialog:!1,editedUser:this.user,firstCopy:JSON.parse(JSON.stringify(this.user)),isLoading:!1,defaultAvatarPath:"/storage/defaults/images/user_avatar.png",availablePermissions:[],rolesDialog:!1,available_disk_space:parseInt(this.user.available_disk_space)||parseInt(this.$store.getters.getSettings.availableUserDiskSpace)||0,available_disk_space_unit:"MB"}},computed:{roles_comp:{set:function(t){this.user.roles=this.availableRoles.filter((function(e){return t.find((function(t){return t.id===e.id}))}))},get:function(){return this.user.roles.map((function(t){return{name:t.name,id:t.id}}))}},availableRoles_comp:function(){return this.availableRoles.map((function(t){return{name:t.name,id:t.id}}))},permissions_comp:{set:function(t){this.user.permissions=this.availablePermissions_comp.filter((function(e){return t.find((function(t){return t.id===e.id}))}))},get:function(){return this.user.permissions}},availablePermissions_comp:function(){var t=this;return this.availableRoles.filter((function(e){return t.user.roles.find((function(t){return t.id==e.id}))})).reduce((function(t,e){return t=t.concat(e.available_permissions)}),[])},currentPermissions_comp:function(){var t=this;return this.availableRoles.filter((function(e){return t.user.roles.find((function(t){return t.id==e.id}))})).reduce((function(t,e){return t=t.concat(e.current_permissions)}),[])}},watch:{roles_comp:function(){this.permissions_comp=this.currentPermissions_comp}},methods:{imageReady:function(t){this.editedUser.avatar=t},editPermissions:function(){this.permissionsDialog=!0},updatePermissions:function(t){this.user.permissions=t,this.permissionsDialog=!1},closeWindow:function(){var t=this,e=!1;this.editedUser.name!=this.firstCopy.name&&(e=!0),this.editedUser.email!=this.firstCopy.email&&(e=!0),this.editedUser.roles.map((function(t){return{name:t.name,id:t.id}})).join("")!=this.firstCopy.roles.map((function(t){return{name:t.name,id:t.id}})).join("")&&(e=!0),this.editedUser.avatar!=this.firstCopy.avatar&&(e=!0),e?this.$confirm({message:"".concat(this.$t("Are you sure you wanna quit without saving the changes ?")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(e){e&&(t.editedUser.name=t.firstCopy.name,t.editedUser.roles=t.firstCopy.roles,t.editedUser.email=t.firstCopy.email,t.editedUser.avatar=t.firstCopy.avatar,t.$emit("close"))}}):this.$emit("close")},saveUser:function(){var t=this,e=new FormData;if(this.isLoading=!0,e.append("email",this.editedUser.email),this.editedUser.password&&e.append("password",this.editedUser.password),e.append("name",this.editedUser.name),"GB"===this.available_disk_space_unit)var a=1024*this.available_disk_space;else if("KB"===this.available_disk_space_unit)a=this.available_disk_space/1024;else a=this.available_disk_space;this.editedUser.available_disk_space=a,e.append("available_disk_space",a),e.append("roles",JSON.stringify(this.user.roles)),e.append("permissions",JSON.stringify(this.user.permissions)),this.editedUser.avatar&&this.editedUser.avatar.data?e.append("avatar",this.editedUser.avatar.data,this.editedUser.avatar.title):this.editedUser.avatar&&!this.editedUser.avatar.data?e.append("avatar",this.editedUser.avatar):e.append("avatar",this.defaultAvatarPath),this.editedUser.new?axios.post("/api/admin/users",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})):(e.append("user_id",this.editedUser.id),e.append("_method","PUT"),axios.post("/api/admin/users/"+this.editedUser.id,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})))}}},p=a(81),g=a(105),m=a(3),h=a(140),f=a(612),_=a(559),b=a(564),y=a(152),$=a(75),x=a(113),C=a(151),k=a(10),w=a(156),S=a(558),P=a(274),D=a(41),V=Object(n.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"User"},on:{callToAction:t.saveUser,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"5"}},[a("upload-image",{attrs:{source:t.editedUser.avatar||t.defaultAvatarPath},on:{imageReady:function(e){return t.imageReady(e)}}})],1),t._v(" "),a("v-col",{attrs:{cols:"7"}},[a("v-text-field",{attrs:{label:t.$t("Email")},model:{value:t.editedUser.email,callback:function(e){t.$set(t.editedUser,"email",e)},expression:"editedUser.email"}}),t._v(" "),a("v-text-field",{staticClass:"mt-4",attrs:{label:t.$t("Password"),type:"password"},model:{value:t.editedUser.password,callback:function(e){t.$set(t.editedUser,"password",e)},expression:"editedUser.password"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Name")},model:{value:t.editedUser.name,callback:function(e){t.$set(t.editedUser,"name",e)},expression:"editedUser.name"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"card-bb-header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Roles")))]),t._v(" "),a("div",{staticClass:"buttons"},[t.hasPermission("Edit user roles")?a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){t.rolesDialog=!0}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1):t._e()],1)]),t._v(" "),a("v-divider",{staticClass:"py-2"}),t._v(" "),a("div",{staticClass:"body"},[a("v-chip-group",t._l(t.roles_comp,(function(e,s){return a("v-chip",{key:s,attrs:{close:t.hasPermission("Edit user roles")&&"user"!==e.name},on:{"click:close":function(e){return t.user.roles.splice(s,1)}}},[t._v("\n                                    "+t._s(e.name)+"\n                                ")])})),1)],1)],1)]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"card-bb-header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Permissions")))]),t._v(" "),a("div",{staticClass:"buttons"},[t.hasPermission("Edit user permissions")?a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:t.editPermissions}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1):t._e()],1)]),t._v(" "),a("v-divider",{staticClass:"py-2"}),t._v(" "),a("div",{staticClass:"body"},t._l(t.permissions_comp,(function(e,s){return a("div",{key:s,staticClass:"item"},[a("v-chip",{attrs:{close:t.hasPermission("Edit user permissions")},on:{"click:close":function(e){return t.user.permissions.splice(s,1)}}},[t._v(t._s(e.name))])],1)})),0)],1)]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("Storage Space"))+" ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{label:t.$t("Size"),type:"number",messages:t.editedUser.used_disk_space?(t.editedUser.used_disk_space/1024/1024).toFixed(1)+0+t.$t("MB")+" "+t.$t("used already."):""},model:{value:t.available_disk_space,callback:function(e){t.available_disk_space=e},expression:"available_disk_space"}})],1),t._v(" "),a("v-col",{attrs:{cols:"3"}},[a("veutify-select",{attrs:{type:"number",items:["MB","GB","KB"]},model:{value:t.available_disk_space_unit,callback:function(e){t.available_disk_space_unit=e},expression:"\n                                                available_disk_space_unit\n                                            "}})],1)],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"dialogs",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.rolesDialog,callback:function(e){t.rolesDialog=e},expression:"rolesDialog"}},[a("v-card",[a("v-card-title",[a("div",[t._v(t._s(t.$t("Choose Roles")))]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card-text",[a("v-list-item-group",t._l(t.availableRoles_comp,(function(e,s){return a("v-list-item",{key:s},[a("v-list-item-action",[a("v-checkbox",{attrs:{value:e,disabled:"user"===e.name},model:{value:t.roles_comp,callback:function(e){t.roles_comp=e},expression:"roles_comp"}})],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1)],1)})),1)],1),t._v(" "),a("v-card-actions",[a("v-col",[a("div",{staticClass:"dialog-actions"},[a("v-btn",{staticClass:"success",on:{click:function(e){t.rolesDialog=!1}}},[t._v(t._s(t.$t("Save")))])],1)])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.permissionsDialog,callback:function(e){t.permissionsDialog=e},expression:"permissionsDialog"}},[t.permissionsDialog?a("edit-permissions-dialog",{attrs:{available_permissions:t.availablePermissions_comp,current_permissions:t.permissions_comp},on:{update:function(e){return t.updatePermissions(e)},close:function(e){t.permissionsDialog=!1}}}):t._e()],1)]},proxy:!0}])})}),[],!1,null,null,null),L=V.exports;r()(V,{VBtn:p.a,VCard:g.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VCheckbox:l.a,VChip:h.a,VChipGroup:f.a,VCol:_.a,VContainer:c.a,VDialog:b.a,VDivider:y.a,VIcon:$.a,VListItem:x.a,VListItemAction:C.a,VListItemContent:k.a,VListItemGroup:w.a,VListItemTitle:k.c,VRow:S.a,VSpacer:P.a,VTextField:D.a});var A={components:{editUserDialog:L},data:function(){return{users:null,search:"",roles:null,headers:[{text:this.$t("Avatar"),align:"start",sortable:!1,value:"avatar"},{text:this.$t("Email"),value:"email"},{text:this.$t("Name"),value:"name"},{text:this.$t("Roles"),value:"roles",align:"center"},{text:this.$t("Created At"),value:"created_at"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingUser:null}},created:function(){this.fetchUsers(),this.fetchRoles()},methods:{fetchUsers:function(){var t=this;axios.get("/api/admin/users").then((function(e){t.users=e.data}))},fetchRoles:function(){var t=this;axios.get("/api/admin/roles").then((function(e){t.roles=e.data}))},makeAdmin:function(t){var e=this;axios.post("/api/admin/make-admin",{user_id:t}).then((function(a){e.users.find((function(e){return e.id==t})).roles.push(a.data)})).catch((function(){}))},takeAdmin:function(t){var e=this;axios.post("/api/admin/take-admin",{user_id:t}).then((function(a){var s=e.users.find((function(e){return e.id==t}));s.roles.splice(s.roles.indexOf(a.data),1)})).catch()},deleteUser:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("user")+"?"),button:{no:"No",yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/users/"+t,{user_id:t}).then((function(t){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("User")+" "+e.$t("Deleted")+"."}),e.fetchUsers()})).catch()}})},editUser:function(t){if(t)if("new"===t){var e=this.roles.find((function(t){return"user"===t.name}));this.editingUser={new:!0,roles:[e],permissions:e.current_permissions},this.editDialog=!0}else this.editingUser=t,this.editDialog=!0;else this.editDialog=!1,this.editingUser=null},userEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("User")+" "+this.$t("Updated")+"."}),this.fetchUsers()}}},T=a(150),R=a(872),I=a(273),E=Object(n.a)(A,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"users-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.account-circle")]),t._v(" "),t.hasPermission("Create users")?a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editUser("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n            ")],1):t._e(),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.users||[],"items-per-page":25,search:t.search,loading:!t.users},scopedSlots:t._u([{key:"item.avatar",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar",attrs:{src:e.avatar,alt:e.name,width:"50",height:"50"}})],1)]}},{key:"item.roles",fn:function(e){var s=e.item;return t._l(s.roles,(function(e,s){return a("span",{key:s},["admin"===e.name?a("v-chip",{staticClass:"mx-1",attrs:{small:"",color:"orange","text-color":"white",title:t.$t("admin")}},[a("v-avatar",[a("v-icon",[t._v("$vuetify.icons.account-circle")])],1)],1):t._e(),t._v(" "),"artist"===e.name?a("v-chip",{staticClass:"mx-1",attrs:{small:"",color:"primary","text-color":"white",title:t.$t("artist")}},[a("v-avatar",[a("v-icon",[t._v("$vuetify.icons.account-music")])],1)],1):t._e()],1)}))}},{key:"item.operations",fn:function(e){var s=e.item;return[t.hasPermission("Edit users")?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editUser(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1):t._e(),t._v(" "),t.hasPermission("Delete users")?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deleteUser(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1):t._e()]}},{key:"item.created_at",fn:function(e){var a=e.item;return[t._v("\n                "+t._s(t.moment(a.created_at).format("ll"))+"\n            ")]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-user-dialog",{attrs:{user:t.editingUser},on:{updated:t.userEdited,close:function(e){return t.editUser(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=E.exports;r()(E,{VAvatar:T.a,VBtn:p.a,VCard:g.a,VCardTitle:m.c,VChip:h.a,VDataTable:R.a,VDialog:b.a,VIcon:$.a,VImg:I.a,VSpacer:P.a,VTextField:D.a})},624:function(t,e,a){"use strict";a.r(e);var s={props:["role"],data:function(){return{editingRole:JSON.parse(JSON.stringify(this.role))}}},i=a(0),n=a(1),o=a.n(n),r=a(601),l=a(860),c=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{callToActionText:t.$t("Confirm"),editing:t.$t(t.editingRole.name)+" "+t.$t("permissions")},on:{callToAction:function(e){return t.$emit("update",t.editingRole)},cancel:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{staticClass:"edit-dialog__body"},[a("v-container",t._l(t.editingRole.available_permissions,(function(e){return a("div",{key:e.id,staticClass:"permission"},[a("div",{staticClass:"checkbox"},[a("v-checkbox",{attrs:{value:e,messages:e.description},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"permission_label"},[t._v("\n                                    "+t._s(t.$t(e.name))+"\n                                ")])]},proxy:!0}],null,!0),model:{value:t.editingRole.current_permissions,callback:function(e){t.$set(t.editingRole,"current_permissions",e)},expression:"editingRole.current_permissions"}})],1)])})),0)],1)]},proxy:!0}])})}),[],!1,null,null,null),d=c.exports;o()(c,{VCheckbox:r.a,VContainer:l.a});var u={components:{editRoleDialog:d},created:function(){this.fetchRoles()},data:function(){return{roles:null,editingRole:null,showDialog:!1,loading:!1}},methods:{fetchRoles:function(){var t=this;return axios.get("/api/admin/roles").then((function(e){return t.roles=e.data}))},save:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna save the current permissions?")),button:{no:this.$t("Cancel"),yes:"Save"},callback:function(e){e&&(t.loading=!0,axios.post("/api/admin/save-roles",{roles:t.roles}).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Roles")+" "+t.$t("updated successfully.")})})).finally((function(){return t.loading=!1})))}})},reset:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna reset to the default settings?")),button:{no:this.$t("Cancel"),yes:"Reset"},callback:function(e){e&&(t.loading=!0,axios.post("/api/admin/reset-roles").then((function(){t.fetchRoles().then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Success"),text:t.$t("Roles reset successfully.")})}))})).finally((function(){return t.loading=!1})))}})},editRole:function(t){this.editingRole=t,this.showDialog=!0},updateRolePermission:function(t){this.roles.splice(this.roles.findIndex((function(e){return e.id===t.id})),1,t),this.showDialog=!1}}},v=a(565),p=a(81),g=a(105),m=a(3),h=a(140),f=a(559),_=a(564),b=a(152),y=a(75),$=a(558),x=Object(i.a)(u,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.roles?a("div",{staticClass:"settings-container"},[a("v-container",{attrs:{fluid:""}},[a("v-card",[a("v-row",{staticClass:"px-4 pt-2 pb-2",attrs:{justify:"space-between"}},[a("div",{staticClass:"header"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.account-network")]),t._v(" "),a("span",{staticClass:"title"},[t._v(t._s(t.$t("Roles")))])],1),t._v(" "),a("div",{staticClass:"options"},[t.hasPermission("Edit roles")?a("v-btn",{staticClass:"info",attrs:{disabled:t.loading},on:{click:t.reset}},[t._v(t._s(t.$t("Reset")))]):t._e(),t._v(" "),t.hasPermission("Edit roles")?a("v-btn",{staticClass:"success",attrs:{disabled:t.loading},on:{click:t.save}},[t._v(t._s(t.$t("Save Changes")))]):t._e()],1)])],1),t._v(" "),a("v-row",{staticClass:"px-4 pt-2 pb-2",attrs:{justify:"space-between"}},[a("v-alert",{attrs:{border:"top","colored-border":"",type:"info",elevation:"2",color:"primary"}},[t._v("\n       Here you can set the default permissions for the different roles, Keep in mind that changing permissions here will only take impact on the next role attachments or new user accounts. If you want to remove/add permissions for specific users you can do it on:\n        "),a("code",[t._v("users > user > edit permissions")]),t._v(".\n        "),a("br"),t._v(" "),a("br"),t._v(" "),a("strong",[t._v("CED")]),t._v(" : Create, edit and delete.\n      ")])],1),t._v(" "),a("v-row",t._l(t.roles,(function(e){return a("v-col",{key:e.id,attrs:{lg:"4",sm:"12"}},[a("v-card",[a("v-card-title",[a("v-icon",{attrs:{color:"primary"}},[t._v("$vuetify.icons.account")]),t._v(" "+t._s(e.name)+"\n          ")],1),t._v(" "),a("v-container",{staticClass:"pl-2",attrs:{fluid:""}},[a("div",{staticClass:"card-bb-header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Permissions")))]),t._v(" "),a("div",{staticClass:"buttons"},[t.hasPermission("Edit roles")?a("v-btn",{staticClass:"info white--text",attrs:{small:""},on:{click:function(a){return t.editRole(e)}}},[a("v-icon",{attrs:{small:""}},[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("Edit"))+"\n                  ")],1):t._e()],1)]),t._v(" "),a("v-divider",{staticClass:"py-2"}),t._v(" "),a("div",{staticClass:"body"},t._l(e.current_permissions,(function(s,i){return a("div",{key:s.id,staticClass:"item"},[a("v-chip",{attrs:{close:t.hasPermission("Edit roles")},on:{"click:close":function(t){return e.current_permissions.splice(i,1)}}},[t._v(t._s(s.name))])],1)})),0)],1)])],1)],1)})),1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[t.showDialog&&t.editingRole?a("edit-role-dialog",{attrs:{role:t.editingRole},on:{update:function(e){return t.updateRolePermission(e)},close:function(e){t.showDialog=!1}}}):t._e()],1)],1):t._e()}),[],!1,null,null,null);e.default=x.exports;o()(x,{VAlert:v.a,VBtn:p.a,VCard:g.a,VCardTitle:m.c,VChip:h.a,VCol:f.a,VContainer:l.a,VDialog:_.a,VDivider:b.a,VIcon:y.a,VRow:$.a})},625:function(t,e,a){"use strict";a.r(e);var s={props:["radioStation"],components:{vuetifySelect:a(68).a},data:function(){return{editedRadioStation:this.radioStation,isThereAnError:!1,file:null,isLoading:!1,serverTypes:[{value:"icecast",text:"Icecast"},{value:"shoutcast",text:"SHOUTcast"}],statsSources:[{value:"endpoint",text:"Endpoint"},{value:"server",text:"Server"}],errors:{},defaultCoverPath:"/storage/defaults/images/podcast_cover.png",firstCopy:JSON.parse(JSON.stringify(this.radioStation))}},methods:{imageReady:function(t){this.editedRadioStation.cover=t},updateErrorState:function(t){this.isThereAnError=t},closeWindow:function(){var t=this,e=!1;this.editedRadioStation.name!=this.firstCopy.name&&(e=!0),this.editedRadioStation.cover!=this.firstCopy.cover&&(e=!0),e?this.$confirm({message:"".concat(this.$t("Are you sure you wanna quit without saving the changes?")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(e){e&&(t.editedRadioStation=t.firstCopy,t.$emit("close"))}}):this.$emit("close")},saveRadioStation:function(){var t=this;this.isLoading=!0;var e=new FormData;e.append("name",this.editedRadioStation.name||""),e.append("streamEndpoint",this.editedRadioStation.streamEndpoint||""),e.append("serverType",this.editedRadioStation.serverType||""),e.append("serverURL",this.editedRadioStation.serverURL||""),e.append("serverID",this.editedRadioStation.serverID||""),e.append("serverMount",this.editedRadioStation.serverMount||""),e.append("serverUsername",this.editedRadioStation.serverUsername||""),e.append("serverPassword",this.editedRadioStation.serverPassword||""),e.append("statsEndpoint",this.editedRadioStation.statsEndpoint||""),e.append("statsSource",this.editedRadioStation.statsSource||""),e.append("highlight",this.editedRadioStation.highlight?1:0),e.append("proxy",this.editedRadioStation.proxy?1:0),e.append("interval",this.editedRadioStation.interval),this.editedRadioStation.cover&&this.editedRadioStation.cover.data?e.append("cover",this.editedRadioStation.cover.data,this.editedRadioStation.cover.title):this.editedRadioStation.cover&&!this.editedRadioStation.cover.data?e.append("cover",this.editedRadioStation.cover):e.append("cover",this.defaultCoverPath),this.editedRadioStation.new?axios.post("/api/admin/radio-stations",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(){t.$emit("updated")})).catch((function(e){t.progress=0,t.isLoading=!1,t.errors=e.response.data.errors})):(e.append("id",this.editedRadioStation.id),e.append("_method","PUT"),axios.post("/api/admin/radio-stations/"+this.editedRadioStation.id,e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(){t.$emit("updated"),t.isLoading="Saved"})).catch((function(e){t.progress=0,t.isLoading=!1,t.errors=e.response.data.errors})))}}},i=(a(330),a(0)),n=a(1),o=a.n(n),r=a(559),l=a(860),c=a(152),d=a(558),u=a(765),v=a(41),p=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"Radio Station"},on:{callToAction:t.saveRadioStation,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",{staticClass:"px-3 pb-3"},[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("upload-image",{attrs:{source:t.editedRadioStation.cover||t.defaultCoverPath},on:{imageReady:function(e){return t.imageReady(e)}}})],1),t._v(" "),a("v-col",[a("div",{staticClass:"align-space-between-and-column"}),t._v(" "),a("v-text-field",{attrs:{label:t.$t("Name"),outlined:"",dense:""},model:{value:t.editedRadioStation.name,callback:function(e){t.$set(t.editedRadioStation,"name",e)},expression:"editedRadioStation.name"}}),t._v(" "),a("v-text-field",{attrs:{label:t.$t("Stream Endpoint"),placeholder:"http://example.com:8000/le85.mp3",outlined:"",dense:""},model:{value:t.editedRadioStation.streamEndpoint,callback:function(e){t.$set(t.editedRadioStation,"streamEndpoint",e)},expression:"editedRadioStation.streamEndpoint"}}),t._v(" "),a("vuetifySelect",{attrs:{dense:"",items:t.serverTypes,"item-value":"value","item-text":"text",outlined:"",label:"Server Type","hide-details":""},model:{value:t.editedRadioStation.serverType,callback:function(e){t.$set(t.editedRadioStation,"serverType",e)},expression:"editedRadioStation.serverType"}})],1)],1),t._v(" "),a("v-row",[a("v-col",[a("v-container",[a("v-row",[a("v-col",[a("div",{staticClass:"card-bb-header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("\n                                            "+t._s(t.$t("Stats"))+"\n                                        ")])]),t._v(" "),a("v-divider",{staticClass:"pt-2"}),t._v(" "),a("div",{staticClass:"sub"},[t._v("\n                                        "+t._s(t.$t("The data of your stream such as the title of the current song."))+"\n                                    ")]),t._v(" "),a("div",{staticClass:"body"},[a("v-row",[a("v-col",[a("vuetifySelect",{attrs:{dense:"",items:t.statsSources,"item-value":"value","item-text":"text",outlined:"",label:"Stats source","hide-details":""},model:{value:t.editedRadioStation.statsSource,callback:function(e){t.$set(t.editedRadioStation,"statsSource",e)},expression:"\n                                                        editedRadioStation.statsSource\n                                                    "}})],1)],1),t._v(" "),"server"===t.editedRadioStation.statsSource?a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Server URL",placeholder:"http://your-server:port"},model:{value:t.editedRadioStation.serverURL,callback:function(e){t.$set(t.editedRadioStation,"serverURL",e)},expression:"\n                                                        editedRadioStation.serverURL\n                                                    "}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},["shoutcast"===t.editedRadioStation.serverType?a("v-text-field",{attrs:{outlined:"",dense:"",label:"Server ID(SID)"},model:{value:t.editedRadioStation.serverID,callback:function(e){t.$set(t.editedRadioStation,"serverID",e)},expression:"\n                                                        editedRadioStation.serverID\n                                                    "}}):a("v-text-field",{attrs:{outlined:"",dense:"",label:"Server Mount",placeholder:"Add server mount without '/'"},model:{value:t.editedRadioStation.serverMount,callback:function(e){t.$set(t.editedRadioStation,"serverMount",e)},expression:"\n                                                        editedRadioStation.serverMount\n                                                    "}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Server Username"},model:{value:t.editedRadioStation.serverUsername,callback:function(e){t.$set(t.editedRadioStation,"serverUsername",e)},expression:"\n                                                        editedRadioStation.serverUsername\n                                                    "}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Server Password"},model:{value:t.editedRadioStation.serverPassword,callback:function(e){t.$set(t.editedRadioStation,"serverPassword",e)},expression:"\n                                                        editedRadioStation.serverPassword\n                                                    "}})],1)],1):a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",dense:"",label:"Stats Endpoint","hide-details":"",placeholder:"https://example.com/stream/status-json.xsl"},model:{value:t.editedRadioStation.statsEndpoint,callback:function(e){t.$set(t.editedRadioStation,"statsEndpoint",e)},expression:"\n                                                        editedRadioStation.statsEndpoint\n                                                    "}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Use Proxy",messages:"to read web radio feed data from servers that does not have the proper CORS settings"},model:{value:t.editedRadioStation.proxy,callback:function(e){t.$set(t.editedRadioStation,"proxy",e)},expression:"\n                                                        editedRadioStation.proxy\n                                                    "}})],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Interval",messages:t.$t("Duration in milliseconds to check for stats."),type:"number"},model:{value:t.editedRadioStation.interval,callback:function(e){t.$set(t.editedRadioStation,"interval",e)},expression:"\n                                                        editedRadioStation.interval\n                                                    "}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Highlight",messages:"Show on the live radio section on the right-sidebar"},model:{value:t.editedRadioStation.highlight,callback:function(e){t.$set(t.editedRadioStation,"highlight",e)},expression:"\n                                                        editedRadioStation.highlight\n                                                    "}})],1)],1)],1)],1)])],1)],1)],1)],1)],1)]},proxy:!0}])})}),[],!1,null,"43453503",null),g=p.exports;o()(p,{VCol:r.a,VContainer:l.a,VDivider:c.a,VRow:d.a,VSwitch:u.a,VTextField:v.a});var m={components:{editRadioStationDialog:g},data:function(){return{radioStations:[],search:"",headers:[{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Name"),value:"name"},{text:this.$t("Genre"),value:"genre",align:"center"},{text:this.$t("Current Listeners"),value:"currentListeners",align:"center"},{text:this.$t("Peak Listeners"),value:"peakListeners",align:"center"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingRadioStation:null}},created:function(){this.fetchRadioStations()},methods:{fetchRadioStations:function(){var t=this;axios.get("/api/admin/radio-stations").then((function(e){t.radioStations=e.data}))},deleteRadioStation:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Radio Station")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/radio-stations/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("RadioStation")+" "+e.$t("Deleted")+"."}),e.fetchRadioStations()})).catch()}})},editRadioStation:function(t){t?(this.editingRadioStation=t,this.editDialog=!0):(this.editDialog=!1,this.editingRadioStation=null)},createRadioStationDialog:function(){this.editingRadioStation={new:!0,name:"",serverType:"icecast",statsSource:"endpoint",interval:5e3},this.editDialog=!0},radioStationEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Radio Station")+" "+this.$t("Updated")+"."}),this.fetchRadioStations()}}},h=a(81),f=a(105),_=a(3),b=a(872),y=a(564),$=a(75),x=a(273),C=a(274),k=Object(i.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"podcst-radioStations-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.radio-tower")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:t.createRadioStationDialog}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.radioStations,"items-per-page":25,search:t.search},scopedSlots:t._u([{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"radioStation-cover user-avatar",attrs:{src:e.cover,alt:e.name,width:"100",height:"100"}})],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editRadioStation(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deleteRadioStation(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.genre",fn:function(e){var s=e.item;return[s.stats&&s.stats.genre?a("span",[t._v("\n            "+t._s(s.stats.genre)+"\n          ")]):a("span",[t._v("\n            -\n          ")])]}},{key:"item.currentListeners",fn:function(e){var s=e.item;return[s.stats&&s.stats.currentListeners?a("span",[t._v("\n            "+t._s(s.stats.currentListeners)+"\n          ")]):a("span",[t._v("\n            -\n          ")])]}},{key:"item.peakListeners",fn:function(e){var s=e.item;return[s.stats&&s.stats.peakListeners?a("span",[t._v("\n            "+t._s(s.stats.peakListeners)+"\n          ")]):a("span",[t._v("\n            -\n          ")])]}},{key:"item.created_at",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(t.moment(a.created_at).format("ll"))+"\n      ")]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"600"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-radio-station-dialog",{attrs:{radioStation:t.editingRadioStation},on:{updated:t.radioStationEdited,close:function(e){return t.editRadioStation(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=k.exports;o()(k,{VBtn:h.a,VCard:f.a,VCardTitle:_.c,VDataTable:b.a,VDialog:y.a,VIcon:$.a,VImg:x.a,VSpacer:C.a,VTextField:v.a})},626:function(t,e,a){"use strict";a.r(e);var s={props:["playlist"],components:{attachSongDialog:a(129).a},data:function(){return{editedPlaylist:this.playlist,firstCopy:JSON.parse(JSON.stringify(this.playlist)),isLoading:!1,errors:{},addSong:!1,defaultCoverPath:"/storage/defaults/images/playlist_cover.png",episodeTableHeaders:[{text:this.$t("Cover"),value:"cover",align:"center"},{text:this.$t("Title"),value:"title",align:"center"},{text:this.$t("Detach"),value:"detach",align:"center"}]}},methods:{closeWindow:function(){var t=this,e=!1;this.editedPlaylist.title!=this.firstCopy.title&&(e=!0),this.editedPlaylist.cover!=this.firstCopy.cover&&(e=!0),e?this.$confirm({message:"".concat(this.$t("Are you sure you wanna quit without saving the changes ? maybe consider just hiding the window.")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(e){e&&(t.editedPlaylist.title=t.firstCopy.title,t.editedPlaylist.cover=t.firstCopy.cover,t.editedPlaylist.public=t.firstCopy.public,t.$emit("close"))}}):this.$emit("close")},imageReady:function(t){this.editedPlaylist.cover=t},attachSong:function(t){var e=this;axios.post("/api/attach-to-playlist",{playlist_id:this.editedPlaylist.id,song_id:t.id,song_origin:t.origin}).then((function(a){e.$notify({group:"foo",type:"success",title:e.$t("Added"),text:e.$t("Song added to playlist!")}),e.editedPlaylist.songs.push(t),e.addSong=!1}))},detachSong:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna detach this song ?")),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){if(a){var s=e.editedPlaylist.songs.findIndex((function(t){return t.id==t.id}));e.editedPlaylist.songs.splice(s,1),axios.post("/api/detach-from-playlist",{playlist_id:e.editedPlaylist.id,song_id:t.id,song_origin:t.origin}).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Song")+" "+e.$t("Deleted")+"."})})).catch()}}})},savePlaylist:function(){var t=this,e=new FormData;this.isLoading=!0,this.editedPlaylist.cover&&this.editedPlaylist.cover.data?e.append("cover",this.editedPlaylist.cover.data,this.editedPlaylist.cover.title):this.editedPlaylist.cover&&!this.editedPlaylist.cover.data?e.append("cover",this.editedPlaylist.cover):e.append("cover",this.defaultCoverPath),this.editedPlaylist.title&&e.append("title",this.editedPlaylist.title),e.append("public",this.editedPlaylist.public?1:0),this.editedPlaylist.new?(e.append("created_by","admin"),axios.post("/api/admin/playlists",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(){t.$emit("created")})).catch((function(e){t.progress=0,t.errors=e.response.data.errors})).finally((function(){return t.isLoading=!1}))):(e.append("playlist_id",this.editedPlaylist.id),e.append("_method","PUT"),axios.post("/api/admin/playlists/"+this.editedPlaylist.id,e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(e){t.$emit("updated")})).catch((function(e){t.progress=0})).finally((function(){return t.isLoading=!1})))}}},i=a(0),n=a(1),o=a.n(n),r=a(81),l=a(105),c=a(3),d=a(559),u=a(860),v=a(872),p=a(564),g=a(75),m=a(273),h=a(558),f=a(765),_=a(41),b=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"Playlist"},on:{callToAction:t.savePlaylist,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("upload-image",{attrs:{id:"playlist"+t.editedPlaylist.id,source:t.editedPlaylist.cover||t.defaultCoverPath},on:{imageReady:function(e){return t.imageReady(e)}}})],1),t._v(" "),a("v-col",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Title")},model:{value:t.editedPlaylist.title,callback:function(e){t.$set(t.editedPlaylist,"title",e)},expression:"editedPlaylist.title"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Public")},model:{value:t.editedPlaylist.public,callback:function(e){t.$set(t.editedPlaylist,"public",e)},expression:"editedPlaylist.public"}})],1)],1)],1)],1)],1)],1),t._v(" "),t.editedPlaylist.new?t._e():a("v-container",{staticClass:"songs"},[a("div",{staticClass:"songs-grid"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.music-note")]),t._v(" "),a("div",{staticClass:"large-icon-text tertiary--text"},[t._v("\n                            "+t._s(t.$t("Songs"))+"\n                        ")]),t._v(" "),a("v-btn",{staticClass:"mx-2 ml-3",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){t.addSong=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("$vuetify.icons.link")]),t._v("\n                            "+t._s(t.$t("Attach"))+"\n                        ")],1)],1),t._v(" "),a("v-data-table",{attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.episodeTableHeaders,items:t.editedPlaylist.songs,"hide-default-footer":"","items-per-page":1e4,loading:!t.editedPlaylist},scopedSlots:t._u([{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar playlist-cover",attrs:{src:e.cover,alt:e.title,width:"50",height:"50"}})],1)]}},{key:"item.detach",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.detachSong(s)}}},[a("v-icon",[t._v("$vuetify.icons.link-off")])],1)]}}],null,!1,2143086830)})],1)],1)])]},proxy:!0},{key:"dialogs",fn:function(){return[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.addSong,callback:function(e){t.addSong=e},expression:"addSong"}},[t.addSong?a("attach-song-dialog",{on:{songSelected:function(e){return t.attachSong(e)}}}):t._e()],1)]},proxy:!0}])})}),[],!1,null,null,null),y=b.exports;o()(b,{VBtn:r.a,VCard:l.a,VCardTitle:c.c,VCol:d.a,VContainer:u.a,VDataTable:v.a,VDialog:p.a,VIcon:g.a,VImg:m.a,VRow:h.a,VSwitch:f.a,VTextField:_.a});var $={components:{editPlaylistDialog:y},data:function(){return{playlists:null,search:"",headers:[{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("User"),value:"user"},{text:this.$t("Public"),value:"public"},{text:this.$t("Followers"),value:"nb_followers"},{text:this.$t("Last Update"),value:"updated_at"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingPlaylist:null}},created:function(){this.fetchPlaylists()},methods:{fetchPlaylists:function(){var t=this;return axios.get("/api/admin/playlists").then((function(e){t.playlists=e.data}))},deletePlaylist:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Playlist")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/playlists/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Playlist")+" "+e.$t("Deleted")+"."}),e.fetchPlaylists()})).catch()}})},editPlaylist:function(t){t?"new"===t?(this.editingPlaylist={new:!0,public:!0},this.editDialog=!0):(this.editingPlaylist=t,this.editDialog=!0):(this.editDialog=!1,this.editingPlaylist=null)},playlistEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Playlist")+" "+this.$t("Updated")+"."}),this.fetchPlaylists()},playlistCreated:function(){var t=this;this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Created"),text:this.$t("Playlist")+" "+this.$t("Created")+"."}),this.fetchPlaylists().then((function(){t.editingPlaylist=t.playlists[0],t.editDialog=!0}))}}},x=a(274),C=Object(i.a)($,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"playlists-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.playlist-music")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editPlaylist("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.playlists||[],"items-per-page":25,loading:!t.playlists,search:t.search},scopedSlots:t._u([{key:"item.public",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.public?"Yes":"No")+"\n      ")]}},{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar playlist-cover",attrs:{src:e.cover,alt:e.title,width:"50",height:"50"}})],1)]}},{key:"item.title",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{name:"playlist",params:{id:s.id}},target:"_blank"}},[t._v("\n          "+t._s(s.title)+"\n            "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editPlaylist(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deletePlaylist(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.user",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.user?a.user.email:"-")+"\n      ")]}},{key:"item.updated_at",fn:function(e){var s=e.item;return[a("div",[t._v("\n          "+t._s(t.moment(s.updated_at).fromNow())+"\n        ")])]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"950"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-playlist-dialog",{attrs:{playlist:t.editingPlaylist},on:{updated:t.playlistEdited,created:t.playlistCreated,close:function(e){return t.editPlaylist(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=C.exports;o()(C,{VBtn:r.a,VCard:l.a,VCardTitle:c.c,VDataTable:v.a,VDialog:p.a,VIcon:g.a,VImg:m.a,VSpacer:x.a,VTextField:_.a})},627:function(t,e,a){"use strict";a.r(e);var s={props:["genre"],data:function(){var t=this;return{editedGenre:this.genre,isThereAnError:!1,showIcon:this.genre.icon,defaultCoverPath:"/storage/defaults/images/genre_cover.png",isLoading:!1,errors:{},progress:null,svgIcon:null,iconFile:null,firstCopy:JSON.parse(JSON.stringify(this.genre)),iconRules:[function(t){return!t||t.size<2e6||"Svg size should be less than 2 MB!"},function(e){return!e||t.doesExtensionMatch(e.name,["svg"])||"Should be an SVG file"}],nameRules:[function(t){return!!t||"Required."},function(t){return t.length<=15||"Max 20 characters"},function(t){return t.length>=2||"Min 2 characters"}]}},methods:{imageReady:function(t){this.editedGenre.cover=t},svgFileChanged:function(t){if(this.iconFile=t,t&&!this.isThereAnError){this.showIcon=!0;var e=new FileReader,a=this;e.onload=function(t){a.svgIcon=t.target.result},e.readAsDataURL(t)}},updateErrorState:function(t){this.isThereAnError=t},closeWindow:function(){var t=this,e=!1;this.editedGenre.name!=this.firstCopy.name&&(e=!0),this.editedGenre.cover!=this.firstCopy.cover&&(e=!0),this.svgIcon||e?this.$confirm({message:"".concat(this.$t("Are you sure you wanna quit without saving the changes ?")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(e){e&&(t.editedGenre.name=t.firstCopy.name,t.editedGenre.cover=t.firstCopy.cover,t.editedGenre.icon=t.firstCopy.icon,t.$emit("close"))}}):this.$emit("close")},saveGenre:function(){var t=this,e=new FormData;e.append("name",this.editedGenre.name||""),e.append("slug",this.slug(this.editedGenre.name)),this.isLoading=!0,this.editedGenre.cover&&this.editedGenre.cover.data?e.append("cover",this.editedGenre.cover.data,this.editedGenre.cover.title):this.editedGenre.cover&&!this.editedGenre.cover.data?e.append("cover",this.editedGenre.cover):e.append("cover",this.defaultCoverPath),this.showIcon?this.iconFile?e.append("icon",this.iconFile):e.append("icon",this.editedGenre.icon||""):e.append("icon",""),this.editedGenre.new?axios.post("/api/admin/genres",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(){t.$emit("updated")})).catch((function(e){t.progress=0,t.isLoading=!1,t.errors=e.response.data.errors})):(e.append("id",this.editedGenre.id),e.append("_method","PUT"),axios.post("/api/admin/genres/"+this.editedGenre.id,e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(){t.$emit("updated"),t.isLoading="Saved"})).catch((function(e){t.progress=0,t.isLoading=!1,t.errors=e.response.data.errors})))}},watch:{showIcon:function(t){!1===t&&(this.iconFile=null)}}},i=a(0),n=a(1),o=a.n(n),r=a(559),l=a(860),c=a(871),d=a(558),u=a(765),v=a(41),p=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"genre"},on:{callToAction:t.saveGenre,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",{staticClass:"pb-4"},[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("upload-image",{attrs:{source:t.editedGenre.cover||t.defaultCoverPath},on:{imageReady:function(e){return t.imageReady(e)}},scopedSlots:t._u([t.showIcon?{key:"icon",fn:function(){return[a("div",{staticClass:"content-wrapper content-wrapper__edit"},[a("div",{staticClass:"genre-dark-layer dark-layer"}),t._v(" "),a("div",{staticClass:"content"},[a("img",{staticClass:"icon",attrs:{src:t.svgIcon||t.editedGenre.icon,alt:""}}),t._v(" "),a("div",{staticClass:"content-text"},[t._v("\n                                        "+t._s(t.editedGenre.name)+"\n                                    ")])])])]},proxy:!0}:null],null,!0)})],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:t.$t("Name"),rules:t.nameRules},on:{"update:error":t.updateErrorState},model:{value:t.editedGenre.name,callback:function(e){t.$set(t.editedGenre,"name",e)},expression:"editedGenre.name"}}),t._v(" "),a("v-switch",{attrs:{label:t.$t("Icon")},model:{value:t.showIcon,callback:function(e){t.showIcon=e},expression:"showIcon"}}),t._v(" "),a("v-file-input",{staticClass:"mt-5",attrs:{label:t.$t("Icon file")+"(svg)",filled:"",rules:t.iconRules,disabled:!t.showIcon,accept:"image/svg+xml"},on:{change:t.svgFileChanged,"update:error":t.updateErrorState}})],1)],1)],1)]},proxy:!0}])})}),[],!1,null,null,null),g=p.exports;o()(p,{VCol:r.a,VContainer:l.a,VFileInput:c.a,VRow:d.a,VSwitch:u.a,VTextField:v.a});var m={components:{editGenreDialog:g},data:function(){return{genres:null,search:"",headers:[{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Name"),value:"name"},{text:this.$t("Icon"),value:"icon"},{text:this.$t("Created At"),value:"created_at"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingGenre:null}},created:function(){this.fetchGenres()},methods:{fetchGenres:function(){var t=this;axios.get("/api/admin/genres").then((function(e){t.genres=e.data}))},deleteGenre:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Genre")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/genres/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Genre")+" "+e.$t("Deleted")+"."}),e.fetchGenres()})).catch()}})},editGenre:function(t){t?"new"===t?(this.editingGenre={new:!0,name:""},this.editDialog=!0):(this.editingGenre=t,this.editDialog=!0):(this.editDialog=!1,this.editingGenre=null)},genreEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Genre")+" "+this.$t("Updated")+"."}),this.fetchGenres()}}},h=a(81),f=a(105),_=a(3),b=a(872),y=a(564),$=a(75),x=a(273),C=a(274),k=Object(i.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"genres-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.folder-music")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editGenre("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.genres||[],"items-per-page":25,search:t.search,loading:!t.genres},scopedSlots:t._u([{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"genre-cover user-avatar",attrs:{src:e.cover,alt:e.name,width:"50",height:"50"}})],1)]}},{key:"item.name",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{name:"genre-page",params:{genre_name:t.slug(s.name),id:s.id}},target:"_blank"}},[t._v("\n          "+t._s(s.name)+"\n          "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.icon",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{attrs:{src:e.icon,alt:e.name,width:"25"}})],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editGenre(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deleteGenre(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.created_at",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(t.moment(a.created_at).format("ll"))+"\n      ")]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"950",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-genre-dialog",{attrs:{genre:t.editingGenre},on:{updated:t.genreEdited,close:function(e){return t.editGenre(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=k.exports;o()(k,{VBtn:h.a,VCard:f.a,VCardTitle:_.c,VDataTable:b.a,VDialog:y.a,VIcon:$.a,VImg:x.a,VSpacer:C.a,VTextField:v.a})},628:function(t,e,a){"use strict";a.r(e);var s={props:["genre"],data:function(){return{editedGenre:this.genre,isThereAnError:!1,file:null,isLoading:!1,errors:{},defaultCoverPath:"/storage/defaults/images/podcast_genres/podcast-genre_cover.png",progress:null,firstCopy:JSON.parse(JSON.stringify(this.genre)),nameRules:[function(t){return!!t||"Required."},function(t){return t.length<=15||"Max 20 characters"},function(t){return t.length>=2||"Min 2 characters"}]}},methods:{imageReady:function(t){this.editedGenre.cover=t},updateErrorState:function(t){this.isThereAnError=t},closeWindow:function(){var t=this,e=!1;this.editedGenre.name!=this.firstCopy.name&&(e=!0),this.editedGenre.cover!=this.firstCopy.cover&&(e=!0),this.svgIcon||e?this.$confirm({message:"".concat(this.$t("Are you sure you wanna quit without saving the changes ?")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(e){e&&(t.editedGenre.name=t.firstCopy.name,t.editedGenre.cover=t.firstCopy.cover,t.$emit("close"))}}):this.$emit("close")},saveGenre:function(){var t=this,e=new FormData;e.append("name",this.editedGenre.name||""),e.append("listen_notes_genre_id",this.editedGenre.listen_notes_genre_id||""),e.append("slug",this.slug(this.editedGenre.name)||""),this.isLoading=!0,this.editedGenre.cover&&this.editedGenre.cover.data?e.append("cover",this.editedGenre.cover.data,this.editedGenre.cover.title):this.editedGenre.cover&&!this.editedGenre.cover.data?e.append("cover",this.editedGenre.cover):e.append("cover",this.defaultCoverPath),this.editedGenre.new?axios.post("/api/admin/podcast-genres",e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(){t.$emit("updated")})).catch((function(e){t.progress=0,t.isLoading=!1,t.errors=e.response.data.errors})):(e.append("id",this.editedGenre.id),e.append("_method","PUT"),axios.post("/api/admin/podcast-genres/"+this.editedGenre.id,e,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.progress=a}}).then((function(){t.$emit("updated"),t.isLoading="Saved"})).catch((function(e){t.progress=0,t.isLoading=!1,t.errors=e.response.data.errors})))}}},i=a(0),n=a(1),o=a.n(n),r=a(559),l=a(860),c=a(558),d=a(41),u=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,editing:"genre"},on:{callToAction:t.saveGenre,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",{staticClass:"px-3 pb-3"},[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("upload-image",{attrs:{source:t.editedGenre.cover||t.defaultCoverPath,ratio:"2.5"},on:{imageReady:function(e){return t.imageReady(e)}}})],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:t.$t("Name"),rules:t.nameRules},on:{"update:error":t.updateErrorState},model:{value:t.editedGenre.name,callback:function(e){t.$set(t.editedGenre,"name",e)},expression:"editedGenre.name"}}),t._v(" "),t.$store.getters.getSettings.provider_listenNotes?a("v-text-field",{attrs:{label:t.$t("Listen Notes Genre ID"),messages:t.$t("The ID of the genre from Listen Notes to fetch the best corresponding podcasts.")},model:{value:t.editedGenre.listen_notes_genre_id,callback:function(e){t.$set(t.editedGenre,"listen_notes_genre_id",e)},expression:"editedGenre.listen_notes_genre_id"}}):t._e()],1)],1)],1)]},proxy:!0}])})}),[],!1,null,null,null),v=u.exports;o()(u,{VCol:r.a,VContainer:l.a,VRow:c.a,VTextField:d.a});var p={components:{editPodcastGenreDialog:v},data:function(){return{genres:[],search:"",headers:[{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Name"),value:"name"},{text:this.$t("Created At"),value:"created_at"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingGenre:null}},created:function(){this.fetchGenres()},methods:{fetchGenres:function(){var t=this;axios.get("/api/admin/podcast-genres").then((function(e){t.genres=e.data}))},deleteGenre:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Genre")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/podcast-genres/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Genre")+" "+e.$t("Deleted")+"."}),e.fetchGenres()})).catch()}})},editGenre:function(t){t?"new"===t?(this.editingGenre={new:!0,name:""},this.editDialog=!0):(this.editingGenre=t,this.editDialog=!0):(this.editDialog=!1,this.editingGenre=null)},genreEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Genre")+" "+this.$t("Updated")+"."}),this.fetchGenres()}}},g=a(81),m=a(105),h=a(3),f=a(872),_=a(564),b=a(75),y=a(273),$=a(274),x=Object(i.a)(p,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"podcast-genres-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.folder-music")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editGenre("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.genres,"items-per-page":25,search:t.search},scopedSlots:t._u([{key:"item.name",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{name:"podcasts.genre",params:{genre_slug:s.slug,genre_id:s.id}},target:"_blank"}},[t._v("\n          "+t._s(s.name)+"\n          "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"genre-cover user-avatar",attrs:{src:e.cover,alt:e.name,width:"150"}})],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editGenre(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deleteGenre(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.created_at",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(t.moment(a.created_at).format("ll"))+"\n      ")]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"950"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-podcast-genre-dialog",{attrs:{genre:t.editingGenre},on:{updated:t.genreEdited,close:function(e){return t.editGenre(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=x.exports;o()(x,{VBtn:g.a,VCard:m.a,VCardTitle:h.c,VDataTable:f.a,VDialog:_.a,VIcon:b.a,VImg:y.a,VSpacer:$.a,VTextField:d.a})},629:function(t,e,a){"use strict";a.r(e);var s=a(68),i=a(60),n=a.n(i),o=a(90),r={props:["plan"],components:{veutifySelect:s.a,draggable:n.a},created:function(){var t=this;axios.get("/api/admin/roles").then((function(e){t.artistRole=e.data.find((function(t){return"artist"===t.name})),t.artistPermissions=e.data.find((function(t){return"artist"===t.name})).available_permissions,t.userPermissions=e.data.find((function(t){return"user"===t.name})).available_permissions})),this.editedPlan.displayed_features=this.editedPlan.displayed_features||[]},data:function(){return{currencies:o.a,artistRole:{},displayed_feature_input_value:"",artistPermissions:[],editedPlan:this.plan,userPermissions:[],firstCopy:JSON.parse(JSON.stringify(this.plan)),isLoading:!1,storage_space:this.plan.storage_space,storage_space_unit:"MB",intervals:[{text:this.$t("Day"),value:"day"},{text:this.$t("Week"),value:"week"},{text:this.$t("Month"),value:"month"},{text:this.$t("Year"),value:"year"}]}},computed:{currency_symbol:function(){return this.editedPlan.currency_symbol?this.editedPlan.currency_symbol:this.editedPlan.currency.symbol?this.editedPlan.currency.symbol:this.editedPlan.currency.value||this.editedPlan.currency},noBilling:function(){return!this.$store.getters.getSettings.enableBilling}},methods:{addDisplayedFeature:function(){this.editedPlan.displayed_features.push(this.displayed_feature_input_value),this.displayed_feature_input_value=""},spliceDisplayedFeature:function(t){this.editedPlan.displayed_features.splice(t,1)},closeWindow:function(){this.$emit("close")},savePlan:function(){var t=this,e=new FormData;if(this.isLoading=!0,e.append("name",this.editedPlan.name),e.append("free",this.editedPlan.free?1:0),e.append("active",this.editedPlan.active?1:0),e.append("recommended",this.editedPlan.recommended?1:0),e.append("currency",this.editedPlan.currency.value),e.append("currency_symbol",this.editedPlan.currency.symbol||""),e.append("amount",this.editedPlan.amount),e.append("position",this.editedPlan.position),e.append("interval",this.editedPlan.interval),e.append("upgradable",this.editedPlan.upgradable?1:0),e.append("badge",this.editedPlan.badge||""),e.append("displayed_features",JSON.stringify(this.editedPlan.displayed_features)),e.append("permissions",JSON.stringify(this.editedPlan.permissions)),e.append("roles",JSON.stringify(this.editedPlan.roles)),"GB"===this.storage_space_unit)var a=1024*this.storage_space;else if("TB"===this.storage_space_unit)a=1024*this.storage_space*2014;else a=this.storage_space;this.editedPlan.storage_space=a,e.append("storage_space",this.editedPlan.storage_space),this.editedPlan.new?axios.post("/api/admin/plans",e).then((function(){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})):(e.append("plan_id",this.editedPlan.id),e.append("_method","PUT"),axios.post("/api/admin/plans/"+this.editedPlan.id,e).then((function(){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})))}}},l=a(0),c=a(1),d=a.n(c),u=a(565),v=a(81),p=a(613),g=a(105),m=a(3),h=a(601),f=a(559),_=a(860),b=a(152),y=a(866),$=a(867),x=a(868),C=a(869),k=a(75),w=a(558),S=a(765),P=a(41),D=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{disableCallToAction:!t.editedPlan.name,loading:t.isLoading,editing:"Plan"},on:{callToAction:t.savePlan,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",[a("v-row",[t.editedPlan.new?t._e():a("v-col",[a("v-alert",{attrs:{dense:"",type:"warning"}},[t._v(t._s(t.$t("Some values can not be updated after the plan creation")))])],1),t._v(" "),t.noBilling?a("v-col",[a("v-alert",{attrs:{dense:"",type:"warning"}},[t._v(t._s(t.$t("Enable billing to create non-free plans")))])],1):t._e(),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Name"),outlined:""},model:{value:t.editedPlan.name,callback:function(e){t.$set(t.editedPlan,"name",e)},expression:"editedPlan.name"}}),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Active"),color:t.editedPlan.active?"success":"error"},model:{value:t.editedPlan.active,callback:function(e){t.$set(t.editedPlan,"active",e)},expression:"editedPlan.active"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{disabled:!t.editedPlan.new||t.noBilling,label:t.$t("Free")},model:{value:t.editedPlan.free,callback:function(e){t.$set(t.editedPlan,"free",e)},expression:"editedPlan.free"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Recommended")},model:{value:t.editedPlan.recommended,callback:function(e){t.$set(t.editedPlan,"recommended",e)},expression:"editedPlan.recommended"}})],1)],1),t._v(" "),t.editedPlan.free?t._e():[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("veutifySelect",{staticClass:"mt-5",attrs:{disabled:!t.editedPlan.new,items:t.currencies,"item-text":"text",label:t.$t("Currency"),"return-object":""},model:{value:t.editedPlan.currency,callback:function(e){t.$set(t.editedPlan,"currency",e)},expression:"editedPlan.currency"}})],1),t._v(" "),a("v-col",{staticClass:"align-center",attrs:{cols:"6"}},[a("div",{staticClass:"plan__price"},[a("div",{staticClass:"plan__price__currency"},[t._v("\n                                        "+t._s(t.currency_symbol)+"\n                                    ")]),t._v(" "),a("div",{staticClass:"plan__price__amount"},[t._v("\n                                        "+t._s(t.price(t.editedPlan.amount))+"\n                                    ")]),t._v(" "),a("div",{staticClass:"plan__price__interval"},[t._v("\n                                        / "+t._s(t.$t(t.editedPlan.interval))+"\n                                    ")])])])],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{staticClass:"mt-4",attrs:{label:t.$t("Amount"),type:"number",disabled:!t.editedPlan.new,messages:t.$t("Amount in cents (can not be changed later)")},model:{value:t.editedPlan.amount,callback:function(e){t.$set(t.editedPlan,"amount",e)},expression:"editedPlan.amount"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("veutifySelect",{staticClass:"mt-5",attrs:{disabled:!t.editedPlan.new,messages:t.$t("The frequency of the subscription billing"),items:t.intervals,"item-value":"value","item-text":"text",label:t.$t("Interval")},model:{value:t.editedPlan.interval,callback:function(e){t.$set(t.editedPlan,"interval",e)},expression:"editedPlan.interval"}})],1)],1),t._v(" "),a("v-row")]],2),t._v(" "),a("v-col",[a("v-text-field",{staticClass:"mt-4",attrs:{label:t.$t("Position"),type:"number",messages:t.$t("Display order of the plans(lower first)")},model:{value:t.editedPlan.position,callback:function(e){t.$set(t.editedPlan,"position",e)},expression:"editedPlan.position"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"card-bb-header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Features")))])]),t._v(" "),a("v-divider",{staticClass:"pt-2"}),t._v(" "),a("div",{staticClass:"sub"},[t._v("\n                            "+t._s(t.$t("Permissions to grant for subscribed users"))+"\n                        ")]),t._v(" "),a("div",{staticClass:"body"},[a("v-container",{attrs:{fluid:""}},[a("v-row",[t._l(t.userPermissions,(function(e){return a("v-col",{key:e.id,attrs:{cols:"6",sm:"4"}},[a("v-checkbox",{attrs:{label:t.$t(e.name),value:e.id,messages:t.$t(e.description),color:"primary"},model:{value:t.editedPlan.permissions,callback:function(e){t.$set(t.editedPlan,"permissions",e)},expression:"editedPlan.permissions"}})],1)})),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-checkbox",{attrs:{label:t.$t("Artist account"),color:"primary",value:2},model:{value:t.editedPlan.roles,callback:function(e){t.$set(t.editedPlan,"roles",e)},expression:"editedPlan.roles"}})],1),t._v(" "),t.editedPlan.roles[0]?a("v-col",{attrs:{cols:"12"}},[a("v-expansion-panels",[a("v-expansion-panel",[a("v-expansion-panel-header",[t._v(t._s(t.$t("Artist Permissions")))]),t._v(" "),a("v-expansion-panel-content",t._l(t.artistPermissions,(function(e,s){return a("v-checkbox",{key:s,attrs:{value:e.id,label:e.name,messages:e.description,color:"primary"},model:{value:t.editedPlan.permissions,callback:function(e){t.$set(t.editedPlan,"permissions",e)},expression:"\n                                                            editedPlan.permissions\n                                                        "}})})),1)],1)],1)],1):t._e(),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v("\n                                                "+t._s(t.$t("Storage Space"))+"\n                                            ")]),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{label:t.$t("Size"),type:"number",messages:t.editedPlan.used_disk_space?(t.editedPlan.used_disk_space/1024/1024).toFixed(1)+0+t.$t("MB")+0+t.$t("user already."):""},model:{value:t.storage_space,callback:function(e){t.storage_space=e},expression:"\n                                                                    storage_space\n                                                                "}})],1),t._v(" "),a("v-col",{attrs:{cols:"3"}},[a("veutify-select",{attrs:{type:"number",items:["MB","GB","TB"]},model:{value:t.storage_space_unit,callback:function(e){t.storage_space_unit=e},expression:"\n                                                                    storage_space_unit\n                                                                "}})],1)],1)],1)],1)],1)],1)],2)],1)],1)],1)]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"card-bb-header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Card Features")))])]),t._v(" "),a("v-divider",{staticClass:"pt-2"}),t._v(" "),a("div",{staticClass:"sub"},[t._v("\n                            "+t._s(t.$t("Features that will display on the plan card"))+"\n                            "+t._s(t.$t("This does not affect the script"))+"\n                        ")]),t._v(" "),a("div",{staticClass:"body"},[a("v-container",{attrs:{fluid:""}},[a("draggable",{staticClass:"container",model:{value:t.editedPlan.displayed_features,callback:function(e){t.$set(t.editedPlan,"displayed_features",e)},expression:"editedPlan.displayed_features"}},t._l(t.editedPlan.displayed_features,(function(e,s){return a("v-row",{key:s},[a("v-col",{attrs:{cols:"auto"}},[a("v-icon",{staticClass:"page__grab-icon",attrs:{small:""}},[t._v("\n                                                $vuetify.icons.arrow-all\n                                            ")])],1),t._v(" "),a("v-col",[t._v("\n                                            "+t._s(e)+"\n                                        ")]),t._v(" "),a("v-col",{attrs:{cols:"auto"}},[a("v-icon",{attrs:{color:"error"},on:{click:function(e){return t.spliceDisplayedFeature(s)}}},[t._v("$vuetify.icons.close")])],1)],1)})),1),t._v(" "),a("div",{staticClass:"add_feature mt-5"},[a("v-container",[a("v-row",[a("v-text-field",{attrs:{label:t.$t("Add displayed feature"),"hide-details":"",dense:"",outlined:""},model:{value:t.displayed_feature_input_value,callback:function(e){t.displayed_feature_input_value=e},expression:"\n                                                    displayed_feature_input_value\n                                                "}}),t._v(" "),a("v-btn",{staticClass:"success",on:{click:t.addDisplayedFeature}},[t._v(t._s(t.$t("Add")))])],1)],1)],1)],1)],1)],1)]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"card-bb-header"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Interface")))])]),t._v(" "),a("v-divider",{staticClass:"py-2"}),t._v(" "),a("div",{staticClass:"body"},[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",[a("v-switch",{attrs:{messages:t.$t("Show the upgrade button after subscription. Switch on if there is a better plan than this."),label:t.$t("Upgradable")},model:{value:t.editedPlan.upgradable,callback:function(e){t.$set(t.editedPlan,"upgradable",e)},expression:"editedPlan.upgradable"}})],1),t._v(" "),a("v-col",[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Badge")))]),t._v(" "),a("v-btn-toggle",{attrs:{icon:"",color:"deep-purple accent-3",group:""},model:{value:t.editedPlan.badge,callback:function(e){t.$set(t.editedPlan,"badge",e)},expression:"editedPlan.badge"}},[a("v-btn",{attrs:{value:"star"}},[a("v-icon",[t._v("$vuetify.icons.star")])],1),t._v(" "),a("v-btn",{attrs:{value:"professional-hexagon"}},[a("v-icon",[t._v("$vuetify.icons.professional-hexagon")])],1),t._v(" "),a("v-btn",{attrs:{value:"check-decagram"}},[a("v-icon",[t._v("$vuetify.icons.check-decagram")])],1),t._v(" "),a("v-btn",{attrs:{value:"star-four-points"}},[a("v-icon",[t._v("$vuetify.icons.star-four-points")])],1),t._v(" "),a("v-btn",{attrs:{value:"star-circle"}},[a("v-icon",[t._v("$vuetify.icons.star-circle")])],1)],1)],1)],1)],1)],1)],1)])],1)],1)]},proxy:!0}])})}),[],!1,null,null,null),V=D.exports;d()(D,{VAlert:u.a,VBtn:v.a,VBtnToggle:p.a,VCard:g.a,VCardText:m.b,VCardTitle:m.c,VCheckbox:h.a,VCol:f.a,VContainer:_.a,VDivider:b.a,VExpansionPanel:y.a,VExpansionPanelContent:$.a,VExpansionPanelHeader:x.a,VExpansionPanels:C.a,VIcon:k.a,VRow:w.a,VSwitch:S.a,VTextField:P.a});var L={components:{editPlanDialog:V},data:function(){return{plans:null,search:"",headers:[{text:this.$t("Name"),value:"name"},{text:this.$t("Status"),value:"active",align:"center"},{text:this.$t("Price"),value:"amount",align:"center"},{text:this.$t("Badge"),value:"badge",align:"center"},{text:this.$t("Storage Space")+"(GB)",value:"storage_space",align:"center"},{text:this.$t("Operations"),value:"operations"}],editDialog:!1,editingPlan:null}},created:function(){this.fetchPlans()},methods:{fetchPlans:function(){var t=this;axios.get("/api/admin/plans").then((function(e){t.plans=e.data}))},editPlan:function(t){t&&("new"===t||(this.editingPlan=t,this.editDialog=!0))},addSubscription:function(){this.editingPlan={new:!0,storage_space:100,amount:0,interval:"month",recommended:!1,free:!0,active:!0,displayed_features:[],roles:[],position:1,permissions:[],currency:{value:"USD",text:"United States Dollar(USD)",symbol:"$"}},this.editDialog=!0},closePlanDialog:function(){this.editDialog=!1,this.editingPlan=null},planUpdated:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Plan")+" "+this.$t("saved successfully")}),this.fetchPlans(),this.$store.dispatch("fetchPlans")}}},A=(a(370),a(872)),T=a(564),R=a(274),I=Object(l.a)(L,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"plans-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.notebook-multiple")]),t._v(" "),t.hasPermission("CED plans")?a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.addSubscription()}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n            ")],1):t._e(),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.plans||[],"items-per-page":25,loading:!t.plans},scopedSlots:t._u([{key:"item.active",fn:function(e){return[e.item.active?a("v-btn",{staticClass:"success",attrs:{"x-small":"",dense:"",depressed:"",title:t.$t("Active: the plan is available for users to subscribe")}},[t._v(t._s(t.$t("Active")))]):a("v-btn",{staticClass:"error",attrs:{"x-small":"",dense:"",depressed:"",title:t.$t("Inactive: the plan is not available for subscriptions")}},[t._v(t._s(t.$t("Inactive")))])]}},{key:"item.operations",fn:function(e){var s=e.item;return[t.hasPermission("CED plans")?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editPlan(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1):t._e()]}},{key:"item.badge",fn:function(e){var s=e.item;return[s.badge?a("div",{staticClass:" badge"},[a("v-icon",{attrs:{color:"primary"}},[t._v("$vuetify.icons."+t._s(s.badge))])],1):[t._v("-")]]}},{key:"item.amount",fn:function(e){var s=e.item;return[s.free?[t._v(t._s(t.$t("Free")))]:a("div",{staticClass:"plan__price"},[a("div",{staticClass:"plan__price__currency"},[t._v("\n                        "+t._s(t.planCurrencySymbol(s))+"\n                    ")]),t._v(" "),a("div",{staticClass:"plan__price__amount"},[t._v("\n                        "+t._s(t.price(s.amount))+"\n                    ")]),t._v(" "),a("div",{staticClass:"plan__price__interval"},[t._v("\n                        / "+t._s(t.$t(s.interval))+"\n                    ")])])]}},{key:"item.updated_at",fn:function(e){var s=e.item;return[a("div",[t._v("\n                    "+t._s(t.moment(s.updated_at).fromNow())+"\n                ")])]}},{key:"item.storage_space",fn:function(e){var s=e.item;return[a("div",[t._v("\n                    "+t._s((s.storage_space/1e3).toFixed(2))+"\n                ")])]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"900"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-plan-dialog",{attrs:{plan:t.editingPlan},on:{updated:t.planUpdated,close:t.closePlanDialog}}):t._e()],1)],1)}),[],!1,null,"dd98339c",null);e.default=I.exports;d()(I,{VBtn:v.a,VCard:g.a,VCardTitle:m.c,VDataTable:A.a,VDialog:T.a,VIcon:k.a,VSpacer:R.a,VTextField:P.a})},630:function(t,e,a){"use strict";a.r(e);var s=a(85),i={props:["subscription"],components:{veutifySelect:a(68).a,AttachAssetDialog:s.a},created:function(){var t=this;axios.get("/api/plans").then((function(e){t.plans=e.data}))},data:function(){return{usersFocused:!1,editedSubscription:this.subscription,firstCopy:JSON.parse(JSON.stringify(this.subscription)),isLoading:!1,users:[],dateMenu:!1,plans:[]}},watch:{dateMenu:function(t){var e=this;t&&setTimeout((function(){return e.$refs.picker.activePicker="YEAR"}))}},methods:{closeWindow:function(){this.$emit("close")},saveReleaseDate:function(t){this.$refs.menu.save(t)},fetchUsers:function(t,e){var a=this;t&&(e(!0),axios.get("/api/match-users/"+t).then((function(t){return a.users=t.data.map((function(t){return{id:t.id,email:t.displayname,avatar:t.avatar}}))})).finally((function(){return e(!1)})))},saveSubscription:function(){var t=this;this.isLoading=!0,this.editedSubscription.new?axios.post("/api/admin/subscriptions",{gateway:"local",user_id:this.editedSubscription.owner.id,plan_id:this.editedSubscription.plan_id,renews_at:this.editedSubscription.renews_at}).then((function(){t.$emit("update"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})):(formData.append("subscription_id",this.editedSubscription.id),formData.append("_method","PUT"),axios.post("/api/admin/subscriptions/"+this.editedSubscription.id,{gateway:"local",user_id:this.editedSubscription.owner.id,plan_id:this.editedSubscription.plan_id,renews_at:this.editedSubscription.renews_at}).then((function(){t.$emit("update"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})))}}},n=a(0),o=a(1),r=a.n(o),l=a(565),c=a(105),d=a(3),u=a(559),v=a(860),p=a(273),g=a(558),m=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{loading:t.isLoading,disableCallToAction:Boolean(t.editedSubscription.owner&&t.editedSubscription.owner.subscription),editing:"subscription"},on:{callToAction:t.saveSubscription,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",[t.editedSubscription.owner&&t.editedSubscription.owner.subscription?a("v-row",{attrs:{justify:"center"}},[a("v-alert",{attrs:{type:"error"}},[t._v("\n                    "+t._s(t.$t("User already has an active subscription.")))])],1):t._e(),t._v(" "),a("v-row",[a("v-col",[[a("v-card",[a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"8"}},[a("v-card-title",[t._v("\n                                        "+t._s(t.$t("Owner"))+"\n                                    ")]),t._v(" "),t.editedSubscription.owner&&t.editedSubscription.owner.id?a("div",[a("div",{staticClass:"user-details p-2 pl-3"},[a("v-container",[a("v-row",[a("div",{staticClass:"name"},[a("strong",[t._v(t._s(t.$t("Name"))+":\n                                                        ")]),t._v("\n                                                        "+t._s(t.editedSubscription.owner.name)+"\n                                                    ")])]),t._v(" "),a("v-row",[a("div",{staticClass:"email"},[a("strong",[t._v(t._s(t.$t("Email"))+":\n                                                        ")]),t._v("\n                                                        "+t._s(t.editedSubscription.owner.email)+"\n                                                    ")])])],1)],1)]):t._e()],1),t._v(" "),t.editedSubscription.owner&&t.editedSubscription.owner.id?a("v-col",{staticClass:"p-2",attrs:{cols:"3"}},[a("v-img",{attrs:{src:t.editedSubscription.owner.avatar}})],1):t._e()],1),t._v(" "),t.editedSubscription.owner&&t.editedSubscription.owner.id?t._e():a("div",{staticClass:"p-2"},[a("AttachAssetDialog",{attrs:{type:"user"},on:{asset:function(e){return t.$set(t.editedSubscription,"owner",e)}}})],1)],1)]],2)],1),t._v(" "),a("v-row",[a("v-col",[a("veutifySelect",{attrs:{label:t.$t("Plan"),items:t.plans,"item-value":"id"},scopedSlots:t._u([{key:"item",fn:function(e){var a=e.item;return[t._v("\n                            "+t._s(a.name)+" ("+t._s(t.planCurrencySymbol(a)+t.price(a.amount)+"/"+a.interval)+")\n                        ")]}},{key:"selection",fn:function(e){var a=e.item;return[t._v("\n                            "+t._s(a.name)+" ("+t._s(t.planCurrencySymbol(a)+t.price(a.amount)+"/"+a.interval)+")\n                        ")]}}]),model:{value:t.editedSubscription.plan_id,callback:function(e){t.$set(t.editedSubscription,"plan_id",e)},expression:"editedSubscription.plan_id"}})],1)],1)],1)]},proxy:!0}])})}),[],!1,null,null,null),h=m.exports;r()(m,{VAlert:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VImg:p.a,VRow:g.a});var f={components:{editSubscriptionDialog:h},data:function(){return{subscriptions:null,search:"",headers:[{text:this.$t("Owner"),value:"owner",align:"center"},{text:this.$t("Status"),value:"status",align:"center"},{text:this.$t("Gateway"),value:"gateway",align:"center"},{text:this.$t("Plan"),value:"plan",align:"center"},{text:this.$t("Renews At"),value:"renews_at",align:"center"},{text:this.$t("Operations"),value:"operations"}],editDialog:!1,editingSubscription:null}},created:function(){this.fetchSubscriptions()},methods:{fetchSubscriptions:function(){var t=this;axios.get("/api/admin/subscriptions").then((function(e){t.subscriptions=e.data}))},cancelSubscription:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna cancel this")+" "+this.$t("Subscription"),"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/subscriptions/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Cancelled"),text:e.$t("Subscription cancelled successfully.")}),e.fetchSubscriptions()})).catch()}})},editSubscription:function(t){this.editingSubscription=t,this.editDialog=!0},createSubscription:function(){this.editingSubscription={new:!0},this.editDialog=!0},closeSubsctiptionDialog:function(){this.editDialog=!1,this.editingSubscription=null},subscriptionUpdated:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("User")+" "+this.$t("Updated")+"."}),this.fetchSubscriptions()}}},_=a(150),b=a(81),y=a(872),$=a(564),x=a(75),C=a(274),k=a(41),w=Object(n.a)(f,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"subscriptions-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.handshake-outline")]),t._v(" "),t.hasPermission("CED subscriptions")?a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:t.createSubscription}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1):t._e(),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.subscriptions||[],"items-per-page":25,loading:!t.subscriptions},scopedSlots:t._u([{key:"item.owner",fn:function(e){var s=e.item;return[s.owner?[a("router-link",{staticClass:"router-link",attrs:{to:{name:"profile",params:{id:s.id}},target:"_blank"}},[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.owner.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n              "+t._s(s.owner.email)+"\n            ")])])]:[t._v(" - ")]]}},{key:"item.plan",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.plan.name)+" ("+t._s(a.plan.free?t.$t("Free"):t.planCurrencySymbol(a.plan)+t.price(a.plan.amount)+"/"+t.$t(a.plan.interval))+")\n      ")]}},{key:"item.gateway",fn:function(e){var s=e.item;return["paypal"==s.gateway?[a("div",{staticClass:"justify-center"},[a("v-img",{attrs:{"max-width":"70",src:"/storage/defaults/images/billing/paypal-logo.png"}})],1)]:"stripe"==s.gateway?[a("div",{staticClass:"justify-center"},[a("v-img",{attrs:{"max-width":"70",src:"/storage/defaults/images/billing/stripe.png"}})],1)]:[t._v("\n            -\n        ")]]}},{key:"item.status",fn:function(e){var s=e.item;return["active"===s.status?a("v-btn",{staticClass:"success",attrs:{"x-small":"",dense:"",depressed:""}},[t._v("Active")]):"canceled"===s.status?a("v-btn",{staticClass:"error",attrs:{"x-small":"",dense:"",depressed:""}},[t._v("Canceled")]):a("v-btn",{staticClass:"warning",attrs:{"x-small":"",dense:"",depressed:""}},[t._v(t._s(s.status))])]}},{key:"item.renews_at",fn:function(e){var a=e.item;return[a.renews_at?[t._v("\n            "+t._s(t.moment(a.renews_at).format("ll"))+"\n         ")]:[t._v("\n          -\n         ")]]}},{key:"item.operations",fn:function(e){var s=e.item;return[t.hasPermission("CED subscriptions")&&"canceled"!==s.status?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",outlined:"",color:"error"},on:{click:function(e){return t.cancelSubscription(s.id)}}},[a("v-icon",{attrs:{left:""}},[t._v("$vuetify.icons.close")]),t._v(" "+t._s(t.$t("Cancel"))+"\n        ")],1):t._e()]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-subscription-dialog",{attrs:{subscription:t.editingSubscription},on:{update:t.subscriptionUpdated,close:t.closeSubsctiptionDialog}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=w.exports;r()(w,{VAvatar:_.a,VBtn:b.a,VCard:c.a,VCardTitle:d.c,VDataTable:y.a,VDialog:$.a,VIcon:x.a,VImg:p.a,VSpacer:C.a,VTextField:k.a})},631:function(t,e,a){"use strict";a.r(e);var s=a(23),i=a(118),n={mixins:[s.a],props:["payout"],components:{ArtistEarningDetails:i.a},watch:{status:function(){this.payoutDetailsDialog=!0}},data:function(){return{payoutDetailsDialog:!1,status:""}},methods:{markAs:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna change the status of this payout to "+t+"?")),button:{no:this.$t("Cancel"),yes:this.$t("Yes")},callback:function(a){a&&axios.post("/api/admin/mark-payout",{status:t,payoutID:e.payout.id,details:e.payout.details}).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Updated"),text:e.$t("Payout status updated successfully.")}),e.$emit("fetchPayouts")})).finally((function(){e.editDialog=!1,e.payoutDetailsDialog=!1,e.editingPayout=null}))}})}}},o=a(0),r=a(1),l=a.n(r),c=a(81),d=a(105),u=a(3),v=a(559),p=a(860),g=a(564),m=a(75),h=a(273),f=a(558),_=a(554),b=a(274),y=a(41),$=a(602),x=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.payout?a("v-card",[a("v-card-title",[t._v("\n        "+t._s(t.$t("Payout Details"))+"\n        "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{text:""},on:{click:function(e){return t.$emit("close")}}},[t._v("\n            "+t._s(t.$t("Close"))+"\n        ")])],1),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",[a("v-card-title",[t._v("\n                        "+t._s(t.$t("Requested Payout"))+"\n                        "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"payout-status"},["payed"===t.payout.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"success"}},[t._v(t._s(t.$t("Payed")))]):"cancelled"===t.payout.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"error"}},[t._v(t._s(t.$t("Rejected")))]):"pending"===t.payout.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"warning"}},[t._v(t._s(t.$t("Pending")))]):"requested"===t.payout.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"info"}},[t._v(t._s(t.$t("Requested")))]):t._e()],1)],1),t._v(" "),a("v-container",[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("\n                                            "+t._s(t.$t("Amount"))+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                            "+t._s(t.$t("Payout Method"))+"\n                                        ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                            "+t._s(t.$t("Payout Information"))+"\n                                        ")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("div",{staticClass:"price success--text bold"},[t._v("\n                                                "+t._s(t.price(t.payout.amount)+t.defaultCurrency.symbol)+"\n                                            ")])]),t._v(" "),a("td",[t._v("\n                                            "+t._s(t.payout.artist.payout_method.name)+"\n                                        ")]),t._v(" "),a("td",[t._v("\n                                            "+t._s(t.payout.artist.payout_method.pivot.payout_details)+"\n                                        ")])])])]},proxy:!0}],null,!1,906416348)})],1),t._v(" "),a("v-card-actions",["payed"!==t.payout.status&&"cancelled"!==t.payout.status?[a("v-btn",{staticClass:"success",on:{click:function(e){t.status="payed"}}},[t._v("\n                                "+t._s(t.$t("Mark As Payed"))+"\n                            ")]),t._v(" "),a("v-btn",{staticClass:"error",on:{click:function(e){t.status="cancelled"}}},[t._v("\n                                "+t._s(t.$t("Reject"))+"\n                            ")]),t._v(" "),"pending"!==t.payout.status?a("v-btn",{staticClass:"warning",on:{click:function(e){t.status="pending"}}},[t._v("\n                                "+t._s(t.$t("Mark As Pending"))+"\n                            ")]):t._e()]:t._e()],2)],1)],1)],1),t._v(" "),a("v-card-title",[t._v("\n            "+t._s(t.$t("Artist who request the payout"))+"\n        ")]),t._v(" "),a("div",[a("v-card",{staticClass:"artist-details p-2 pl-3",attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{staticClass:"mr-3",attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.account-artist")]),t._v("\n                    "+t._s(t.$t("Artist Information"))+"\n                ")],1),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-img",{attrs:{"max-height":"200","max-width":"200",src:t.payout.artist.avatar}})],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{readonly:"",label:t.$t("First Name"),value:t.payout.artist.firstname}}),t._v(" "),a("v-text-field",{attrs:{readonly:"",label:t.$t("Last Name"),value:t.payout.artist.lastname}}),t._v(" "),a("v-text-field",{attrs:{readonly:"",label:t.$t("Displayname"),value:t.payout.artist.displayname}}),t._v(" "),a("v-text-field",{attrs:{readonly:"",label:t.$t("Email"),value:t.payout.artist.email}})],1)],1)],1)],1),t._v(" "),a("ArtistEarningDetails",{attrs:{artist:t.payout.artist}}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},on:{"click:outside":function(e){t.status=""}},model:{value:t.payoutDetailsDialog,callback:function(e){t.payoutDetailsDialog=e},expression:"payoutDetailsDialog"}},[a("v-card",{staticClass:"p-3"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Payout details")))])])]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{outlined:"",label:"Enter payout details"},model:{value:t.payout.details,callback:function(e){t.$set(t.payout,"details",e)},expression:"payout.details"}})],1),t._v(" "),a("v-col",[a("div",{staticClass:"w-100 justify-center"},[a("v-btn",{staticClass:"success",on:{click:function(e){return t.markAs(t.status)}}},[t._v(t._s(t.$t("Update")))])],1)])],1)],1)],1)],1)],1)],1)],1):t._e()}),[],!1,null,null,null),C=x.exports;l()(x,{VBtn:c.a,VCard:d.a,VCardActions:u.a,VCardTitle:u.c,VCol:v.a,VContainer:p.a,VDialog:g.a,VIcon:m.a,VImg:h.a,VRow:f.a,VSimpleTable:_.a,VSpacer:b.a,VTextField:y.a,VTextarea:$.a});var k={components:{EditPayoutDialog:C},mixins:[s.a],data:function(){return{payouts:null,search:"",headers:[{text:this.$t("Payout NÂ°"),value:"id",align:"center"},{text:this.$t("ÙArtist"),value:"artist",align:"center"},{text:this.$t("Amount"),value:"amount",align:"center"},{text:this.$t("Status"),value:"status",align:"center"},{text:this.$t("Created At"),value:"created_at",align:"center"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingPayout:null}},created:function(){this.fetchPayouts()},methods:{fetchPayouts:function(){var t=this;axios.get("/api/admin/payouts").then((function(e){t.payouts=e.data}))},editPayout:function(t){this.editDialog=!0,this.editingPayout=t}}},w=a(150),S=a(872),P=Object(o.a)(k,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"payouts-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.cash-check")]),t._v("\n            "+t._s(t.$t("Payouts"))+"\n            "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.payouts||[],"items-per-page":25,loading:!t.payouts},scopedSlots:t._u([{key:"item.artist",fn:function(e){var s=e.item;return[s.artist?[a("router-link",{staticClass:"router-link",attrs:{to:{name:"artist",params:{id:s.id}},target:"_blank"}},[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.artist.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n                            "+t._s(s.artist.displayname)+"\n                        ")])])]:[t._v(" - ")]]}},{key:"item.amount",fn:function(e){var s=e.item;return[a("div",{staticClass:"price bold success--text"},[t._v("\n                    "+t._s(t.price(s.amount)+t.defaultCurrency.symbol)+"\n                ")])]}},{key:"item.status",fn:function(e){var s=e.item;return["payed"===s.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"success"}},[t._v(t._s(t.$t("Payed")))]):"cancelled"===s.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"error"}},[t._v(t._s(t.$t("Rejected")))]):"pending"===s.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"warning"}},[t._v(t._s(t.$t("Pending")))]):"requested"===s.status?a("v-btn",{attrs:{"x-small":"",dense:"",outlined:"",color:"info"}},[t._v(t._s(t.$t("Requested")))]):t._e()]}},{key:"item.created_at",fn:function(e){var a=e.item;return[a.created_at?[t._v("\n                    "+t._s(t.moment(a.created_at).format("ll"))+"\n                ")]:[t._v("\n                    -\n                ")]]}},{key:"item.operations",fn:function(e){var s=e.item;return[t.hasPermission("Edit payouts")?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editPayout(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1):t._e()]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("edit-payout-dialog",{attrs:{payout:t.editingPayout},on:{close:function(e){t.editDialog=!1},fetchPayouts:t.fetchPayouts}})],1)],1)}),[],!1,null,null,null);e.default=P.exports;l()(P,{VAvatar:w.a,VBtn:c.a,VCard:d.a,VCardTitle:u.c,VDataTable:S.a,VDialog:g.a,VIcon:m.a,VImg:h.a,VSpacer:b.a,VTextField:y.a})},632:function(t,e,a){"use strict";a.r(e);var s=a(23);function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function n(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r={props:["method"],mixins:[s.a],data:function(){return{formData:n({},this.method)}},methods:{save:function(){var t=this;this.isLoading=!0;var e=new FormData;Object.keys(this.formData).forEach((function(a){e.append(a,t.formData[a])})),this.method.new?axios.post("/api/admin/payout-methods",e).then((function(){t.$emit("created"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.$notify({group:"foo",type:"error",title:t.$t("Error"),text:e.response.data.message})})):(e.append("_method","PUT"),axios.post("/api/admin/payout-methods/"+this.method.id,e).then((function(){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.$notify({group:"foo",type:"error",title:t.$t("Error"),text:e.response.data.message})})))}}},l=a(0),c=a(1),d=a.n(c),u=a(860),v=a(41),p=a(602),g=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("edit-dialog",{attrs:{callToActionText:t.$t("Save"),editing:"Payout Method"},on:{callToAction:t.save,cancel:function(e){return t.$emit("close")}},scopedSlots:t._u([{key:"body",fn:function(){return[a("div",{staticClass:"edit-dialog__body"},[a("v-container",[a("v-text-field",{attrs:{label:t.$t("Name"),outlined:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}}),t._v(" "),a("v-textarea",{attrs:{label:t.$t("Description"),outlined:""},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}}),t._v(" "),a("div",{staticClass:"d-flex align-center"},[a("v-text-field",{staticClass:"pr-2",attrs:{label:t.$t("Amount"),hint:"Important: the amount should be in cents ( 1$ = 100 )",value:0},model:{value:t.formData.minimum,callback:function(e){t.$set(t.formData,"minimum",e)},expression:"formData.minimum"}}),t._v(" "),a("div",[a("div",{staticClass:"plan__price"},[a("div",{staticClass:"plan__price__currency"},[t._v("\n                                "+t._s(t.defaultCurrency.symbol)+"\n                            ")]),t._v(" "),a("div",{staticClass:"plan__price__amount"},[t._v("\n                                "+t._s(t.price(t.formData.minimum))+"\n                            ")])])])],1)],1)],1)]},proxy:!0}])})}),[],!1,null,null,null),m=g.exports;d()(g,{VContainer:u.a,VTextField:v.a,VTextarea:p.a});var h={mixins:[s.a],components:{editPayoutMethodDialog:m},data:function(){return{methods:null,search:"",headers:[{text:this.$t("Name"),value:"name"},{text:this.$t("Description"),value:"description"},{text:this.$t("Minimum"),value:"minimum",align:"center"},{text:this.$t("Operations"),value:"operations",align:"end"}],editDialog:!1,editingMethod:null}},created:function(){this.fetchMethods()},methods:{fetchMethods:function(){var t=this;axios.get("/api/admin/payout-methods").then((function(e){t.methods=e.data}))},editPM:function(t){t?"new"===t?(this.editingMethod={new:!0,name:"",minimum:100,description:""},this.editDialog=!0):(this.editingMethod=t,this.editDialog=!0):(this.editDialog=!1,this.editingMethod={})},deletePM:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Payout method")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/payout-methods/"+t).then((function(t){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Payout method")+" "+e.$t("Deleted")+"."}),e.fetchMethods()})).catch()}})},pmEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Payout method")+" "+this.$t("Updated")+"."}),this.fetchMethods()},pmCreated:function(){this.methods=null,this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Created"),text:this.$t("Payout method")+" "+this.$t("Updated")+"."}),this.fetchMethods()}}},f=a(81),_=a(105),b=a(3),y=a(872),$=a(564),x=a(75),C=a(274),k=Object(l.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"methods-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.account-cash-outline")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editPodcast("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n            ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.methods||[],"items-per-page":25,loading:!t.methods},scopedSlots:t._u([{key:"item.minimum",fn:function(e){var s=e.item;return[a("div",{staticClass:"order-price bold"},[t._v("\n                    "+t._s(t.price(s.minimum)+t.defaultCurrency.symbol)+"\n                ")])]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editPM(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deletePM(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[a("editPayoutMethodDialog",{attrs:{method:t.editingMethod},on:{updated:t.pmEdited,created:t.pmCreated,close:function(e){t.editDialog=!1}}})],1)],1)}),[],!1,null,null,null);e.default=k.exports;d()(k,{VBtn:f.a,VCard:_.a,VCardTitle:b.c,VDataTable:y.a,VDialog:$.a,VIcon:x.a,VSpacer:C.a,VTextField:v.a})},642:function(t,e,a){"use strict";a.r(e);var s={components:{veutifySelect:a(68).a},created:function(){var t=this;this.isLoading=!0,axios.get("/api/admin/settings").then((function(e){var a={};e.data.forEach((function(e){a[e.key]="0"!=e.value&&("1"==e.value||t.parseJSON(e.value))})),t.settings=a})).finally((function(){return t.isLoading=!1}))},data:function(){return{settings:{},isLoading:!1,isLoadingForButton:!1,tabs:[{text:"General",icon:"application-cog",routeName:"settings.general"},{text:"Providers",icon:"api",routeName:"settings.providers"},{text:"Player",icon:"motion-play",routeName:"settings.player"},{text:"Billing",icon:"credit-card-outline",routeName:"settings.billing"},{text:"Analytics",icon:"google-analytics",routeName:"settings.analytics"},{text:"Storage",icon:"database",routeName:"settings.storage"},{text:"Auth",icon:"account-key-outline",routeName:"settings.auth"},{text:"Email",icon:"email-multiple",routeName:"settings.mail"},{text:"SEO",icon:"text-box-search-outline",routeName:"settings.seo"}]}},methods:{saveSettings:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna change to the current settings?")),button:{no:this.$t("Cancel"),yes:this.$t("Yes")},callback:function(e){if(e){if(t.settings.enableRealtime&&(!t.settings.pusherKey||!t.settings.pusherCluster||!t.settings.pusherSecret||!t.settings.pusherAppId))return void t.$notify({group:"foo",type:"error",title:t.$t("Oops!"),text:"You need to add your Pusher credentials if you enable chatting."});if(t.settings.enableGoogleLogin&&!t.settings.google_oauth_client_id)return void t.$notify({group:"foo",type:"error",title:t.$t("Oops!"),text:"You need to enter your Google OAuth client ID"});t.isLoadingForButton=!0,axios.post("/api/admin/save-settings",{settings:t.settings}).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+" "+t.$t("updated successfully.")}),setTimeout((function(){location.reload()}),600)})).catch().finally((function(){return t.isLoadingForButton=!1}))}}})},resetSettings:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna reset to the default settings?")),button:{no:this.$t("Cancel"),yes:this.$t("Reset")},callback:function(e){e&&(t.isLoadingForButton=!0,axios.post("/api/admin/reset-settings").then((function(e){var a={};e.data.forEach((function(t){a[t.key]="0"!=t.value&&("1"==t.value||t.value)})),t.settings=a,t.$notify({group:"foo",type:"success",title:t.$t("Reset"),text:t.$t("Settings reset successfully.")})})).catch().finally((function(){return t.isLoadingForButton=!1})))}})}}},i=a(0),n=a(1),o=a.n(n),r=a(559),l=a(860),c=a(75),d=a(558),u=a(65),v=a(862),p=a(863),g=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.settings?a("div",{staticClass:"settings-container"},[a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-sheet",{attrs:{elevation:"6"}},[a("v-tabs",{attrs:{"center-active":"",grow:"","show-arrows":""}},t._l(t.tabs,(function(e){return a("v-tab",{key:e.routeName,attrs:{to:{name:e.routeName}}},[a("v-icon",{staticClass:"mr-2"},[t._v("$vuetify.icons."+t._s(e.icon))]),t._v(" "),a("span",[t._v(t._s(t.$t(e.text)))])],1)})),1)],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("router-view",{attrs:{settings:t.settings,isLoading:t.isLoading,isLoadingForButton:t.isLoadingForButton},on:{"save-settings":t.saveSettings,"reset-settings":t.resetSettings}})],1)],1)],1)],1):t._e()}),[],!1,null,null,null);e.default=g.exports;o()(g,{VCol:r.a,VContainer:l.a,VIcon:c.a,VRow:d.a,VSheet:u.a,VTab:v.a,VTabs:p.a})},643:function(t,e,a){"use strict";a.r(e);var s=a(27),i=a.n(s),n={props:["settings","isLoading","isLoadingForButton"],mixins:[a(23).a],data:function(){return{sitemapLoading:!1,url:null,flagsPath:"/storage/defaults/icons/flags/",locales:[]}},created:function(){var t=this;i.a.get("/api/languages").then((function(e){return t.locales=e.data})),i.a.get("/api/admin/url").then((function(e){t.url=e.data}))},methods:{save:function(){this.$emit("save-settings")},reset:function(){this.$emit("reset-settings")}},computed:{saleCut:{get:function(){return this.settings.artist_sale_cut},set:function(t){this.settings.artist_sale_cut=t>100?100:t}}}},o=(a(311),a(0)),r=a(1),l=a.n(r),c=a(81),d=a(105),u=a(3),v=a(559),p=a(860),g=a(152),m=a(75),h=a(273),f=a(558),_=a(68),b=a(65),y=a(765),$=a(41),x=a(602),C=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page pb-4"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.application-cog")]),t._v("\n      "+t._s(t.$t("General"))+"\n    ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"info",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.reset},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v("\n        "+t._s(t.$t("Reset")))]),t._v(" "),a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v("\n        "+t._s(t.$t("Save")))])],1)]),t._v(" "),a("v-container",{staticClass:"pl-5"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Localization")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",[a("v-select",{attrs:{items:t.locales,label:t.$t("Default Language"),"item-text":"name","item-value":"locale","hide-details":"",outlined:""},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item;return[a("div",{staticClass:"align-center"},[a("div",{staticClass:"img px-2 py-1"},[a("v-img",{attrs:{"max-width":"25",src:t.flagsPath+s.flag+".svg"}})],1),t._v("\n              "+t._s(s.name)+"\n            ")])]}},{key:"selection",fn:function(e){var s=e.item;return[a("div",{staticClass:"align-center"},[a("div",{staticClass:"img px-2 py-1"},[a("v-img",{attrs:{"max-width":"25",src:t.flagsPath+s.flag+".svg"}})],1),t._v("\n              "+t._s(s.name)+"\n            ")])]}}],null,!1,2159787196),model:{value:t.settings.locale,callback:function(e){t.$set(t.settings,"locale",e)},expression:"settings.locale"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Enable language switcher"),messages:t.$t("Offer your users the possibility to change the language from the ones you make available.")+" "+t.$t("The language switcher will show on the navbar.")},model:{value:t.settings.enableLangSwitcher,callback:function(e){t.$set(t.settings,"enableLangSwitcher",e)},expression:"settings.enableLangSwitcher"}})],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Platform")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Platform Name"),outlined:"","hide-details":""},model:{value:t.settings.appName,callback:function(e){t.$set(t.settings,"appName",e)},expression:"settings.appName"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Platform Base URL"),outlined:"","hide-details":""},model:{value:t.settings.appUrl,callback:function(e){t.$set(t.settings,"appUrl",e)},expression:"settings.appUrl"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Podcasts"),messages:t.$t("Disabling podcasts will remove anything related to podcasts on the application.")},model:{value:t.settings.enablePodcasts,callback:function(e){t.$set(t.settings,"enablePodcasts",e)},expression:"settings.enablePodcasts"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Browse Page"),messages:t.$t("Remove the browse page which includes music genres & charts.")},model:{value:t.settings.enableBrowse,callback:function(e){t.$set(t.settings,"enableBrowse",e)},expression:"settings.enableBrowse"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("User Upload"),messages:t.$t("Allow users to upload audio files locally.")},model:{value:t.settings.enableUserUpload,callback:function(e){t.$set(t.settings,"enableUserUpload",e)},expression:"settings.enableUserUpload"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("YouTube Plugin"),messages:t.$t("Allow YouTube videos on your platform.")},model:{value:t.settings.youtubePlugin,callback:function(e){t.$set(t.settings,"youtubePlugin",e)},expression:"settings.youtubePlugin"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Allow guests to contact you")},model:{value:t.settings.allowGuestsToContact,callback:function(e){t.$set(t.settings,"allowGuestsToContact",e)},expression:"settings.allowGuestsToContact"}})],1)],1),t._v(" "),a("v-row",{staticClass:"row-row"},[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Community")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Friendship System"),messages:t.$t("Disable this functionality if you do not want users to be friends with each other.")},model:{value:t.settings.enableFriendshipSystem,callback:function(e){t.$set(t.settings,"enableFriendshipSystem",e)},expression:"settings.enableFriendshipSystem"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[t.settings.enableFriendshipSystem?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Enable Realtime"),messages:t.$t("This will allow live chat and shows what the users are currently playing.")},model:{value:t.settings.enableRealtime,callback:function(e){t.$set(t.settings,"enableRealtime",e)},expression:"settings.enableRealtime"}}),t._v(" "),t.settings.enableRealtime?a("v-row",[a("v-col",{attrs:{cols:"12"}}),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{dense:"","hide-details":"",label:t.$t("Pusher App ID"),outlined:""},model:{value:t.settings.pusherAppId,callback:function(e){t.$set(t.settings,"pusherAppId",e)},expression:"settings.pusherAppId"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{dense:"","hide-details":"",label:t.$t("Pusher Key"),outlined:""},model:{value:t.settings.pusherKey,callback:function(e){t.$set(t.settings,"pusherKey",e)},expression:"settings.pusherKey"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{dense:"","hide-details":"",label:t.$t("Pusher Secret"),outlined:"",type:"password"},model:{value:t.settings.pusherSecret,callback:function(e){t.$set(t.settings,"pusherSecret",e)},expression:"settings.pusherSecret"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{dense:"","hide-details":"",label:t.$t("Pusher Cluster"),outlined:""},model:{value:t.settings.pusherCluster,callback:function(e){t.$set(t.settings,"pusherCluster",e)},expression:"settings.pusherCluster"}})],1)],1):t._e()],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[t.settings.enableRealtime?a("v-switch",{attrs:{label:t.$t("Enable Chat"),messages:t.$t("Enable chat between friends")},model:{value:t.settings.enableChat,callback:function(e){t.$set(t.settings,"enableChat",e)},expression:"settings.enableChat"}}):t._e()],1)],1):t._e()],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Artists")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{"hide-details":"",label:t.$t("Enable Artist Accounts")},model:{value:t.settings.enable_artist_account,callback:function(e){t.$set(t.settings,"enable_artist_account",e)},expression:"settings.enable_artist_account"}})],1),t._v(" "),t.settings.enable_artist_account?[a("v-col",[a("v-switch",{attrs:{label:t.$t("Allow artist account requests"),messages:t.$t("Allow users to request an artist account by sending their information to the admins")},model:{value:t.settings.allowArtistAccountRequests,callback:function(e){t.$set(t.settings,"allowArtistAccountRequests",e)},expression:"settings.allowArtistAccountRequests"}})],1),t._v(" "),a("v-col",[t.settings.saas?a("v-switch",{attrs:{label:"Enable Artist Royalty",messages:"Check if you want artists to earn money from streams of their songs",type:"checkbox",required:""},model:{value:t.settings.royalties,callback:function(e){t.$set(t.settings,"royalties",e)},expression:"settings.royalties"}}):t._e()],1),t._v(" "),t.settings.saas&&t.settings.royalties?a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"justify-center align-start"},[a("v-text-field",{staticClass:"pr-2",attrs:{label:t.$t("Artist Royalties"),outlined:"",type:"number",messages:t.$t("How much should an artist earn per 100 play. Enter the amount in cents")},model:{value:t.settings.artist_royalty,callback:function(e){t.$set(t.settings,"artist_royalty",e)},expression:"settings.artist_royalty"}}),t._v(" "),a("div",{staticClass:"price d-flex mt-3"},[a("div",{staticClass:"price__currency bold"},[t._v("\n                      "+t._s(t.defaultCurrency.symbol)+"\n                    ")]),t._v(" "),a("div",{staticClass:"price__amount bold"},[t._v("\n                      "+t._s(t.price(t.settings.artist_royalty))+t._s(" "+t.$t("for each")+" ")+"\n                      "),a("strong",[t._v("100")]),t._v("\n                      "+t._s(" "+t.$t("Play"))+".\n                    ")])])],1)]):t._e(),t._v(" "),t.settings.saas?a("v-col",[a("v-text-field",{staticClass:"pr-2",attrs:{label:t.$t("Artist Sale Cut"),outlined:"",type:"number",messages:t.$t("Artist cut after the sale of his product. Enter the amount in percentage (max. 100)")},model:{value:t.saleCut,callback:function(e){t.saleCut=e},expression:"saleCut"}})],1):t._e()]:t._e()],2)],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("External Links")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",[a("v-container",[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-sheet",{staticClass:"pt-2",attrs:{width:"150"}},[a("v-icon",[t._v("$vuetify.icons.facebook")]),t._v("\n                Facebook\n              ")],1)],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:"URL",value:t.settings.facebook_link,"hide-details":""},model:{value:t.settings.facebook_link,callback:function(e){t.$set(t.settings,"facebook_link",e)},expression:"settings.facebook_link"}})],1)],1),t._v(" "),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-sheet",{staticClass:"pt-2",attrs:{width:"150"}}),t._v(" "),a("v-icon",[t._v("$vuetify.icons.youtube")]),t._v("\n              Youtube\n            ")],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:"URL",value:t.settings.youtube_link,"hide-details":""},model:{value:t.settings.youtube_link,callback:function(e){t.$set(t.settings,"youtube_link",e)},expression:"settings.youtube_link"}})],1)],1),t._v(" "),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-sheet",{staticClass:"pt-2",attrs:{width:"150"}}),t._v(" "),a("v-icon",[t._v("$vuetify.icons.twitter")]),t._v("\n              Twitter\n            ")],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:"URL",value:t.settings.twitter_link,"hide-details":""},model:{value:t.settings.twitter_link,callback:function(e){t.$set(t.settings,"twitter_link",e)},expression:"settings.twitter_link"}})],1)],1),t._v(" "),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-sheet",{staticClass:"pt-2",attrs:{width:"150"}}),t._v(" "),a("v-icon",[t._v("$vuetify.icons.instagram")]),t._v("\n              Instagram\n            ")],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:"URL",value:t.settings.instagram_link,"hide-details":""},model:{value:t.settings.instagram_link,callback:function(e){t.$set(t.settings,"instagram_link",e)},expression:"settings.instagram_link"}})],1)],1),t._v(" "),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-sheet",{staticClass:"pt-2",attrs:{width:"150"}}),t._v(" "),a("v-icon",[t._v("$vuetify.icons.soundcloud")]),t._v("\n              Soundcloud\n            ")],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:"URL",value:t.settings.soundcloud_link,"hide-details":""},model:{value:t.settings.soundcloud_link,callback:function(e){t.$set(t.settings,"soundcloud_link",e)},expression:"settings.soundcloud_link"}})],1)],1),t._v(" "),a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"auto"}},[a("v-sheet",{staticClass:"pt-2",attrs:{width:"150"}}),t._v(" "),a("v-icon",[t._v("$vuetify.icons.spotify")]),t._v("\n              Spotify\n            ")],1),t._v(" "),a("v-col",[a("v-text-field",{attrs:{label:"URL",value:t.settings.spotify_link,"hide-details":""},model:{value:t.settings.spotify_link,callback:function(e){t.$set(t.settings,"spotify_link",e)},expression:"settings.spotify_link"}})],1)],1)],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Share Options")))]),t._v(" "),a("div",{staticClass:"sub"}),t._v(" "),a("v-divider")],1),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:"Facebook"},model:{value:t.settings.enable_share_facebook,callback:function(e){t.$set(t.settings,"enable_share_facebook",e)},expression:"settings.enable_share_facebook"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:"Twitter"},model:{value:t.settings.enable_share_twitter,callback:function(e){t.$set(t.settings,"enable_share_twitter",e)},expression:"settings.enable_share_twitter"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:"Whatsapp"},model:{value:t.settings.enable_share_whatsapp,callback:function(e){t.$set(t.settings,"enable_share_whatsapp",e)},expression:"settings.enable_share_whatsapp"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:"Telegram"},model:{value:t.settings.enable_share_telegram,callback:function(e){t.$set(t.settings,"enable_share_telegram",e)},expression:"settings.enable_share_telegram"}})],1)],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Agreement")))]),t._v(" "),a("div",{staticClass:"sub"}),t._v(" "),a("v-divider")],1),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:t.$t("Account creation Agreement"),outlined:"",messages:t.$t("The message that shows below the registration form")},model:{value:t.settings.account_agreement,callback:function(e){t.$set(t.settings,"account_agreement",e)},expression:"settings.account_agreement"}})],1)],1)],1)],1)],1)],1)}),[],!1,null,"4eb2fc6a",null);e.default=C.exports;l()(C,{VBtn:c.a,VCard:d.a,VCardTitle:u.c,VCol:v.a,VContainer:p.a,VDivider:g.a,VIcon:m.a,VImg:h.a,VRow:f.a,VSelect:_.a,VSheet:b.a,VSwitch:y.a,VTextField:$.a,VTextarea:x.a})},644:function(t,e,a){"use strict";a.r(e);var s=a(90),i={props:["settings","isLoading"],computed:{selectedPayoutMethods:{get:function(){return this.payoutOptions.filter((function(t){return t.active}))},set:function(t){console.log(t)}}},data:function(){return{currencies:s.a,isLoadingForButton:!1,payoutOptions:[]}},methods:{save:function(){var t=this;if(this.settings.enableBilling&&!this.settings.stripeGateway&&!this.settings.paypalGateway||this.settings.enableBilling&&this.settings.stripeGateway&&(!this.settings.stripeClientID||!this.settings.stripeSecret)||this.settings.enableBilling&&this.settings.paypalGateway&&(!this.settings.paypalClientID||!this.settings.paypalSecret))return this.$notify({group:"foo",type:"error",title:this.$t("Oops!"),text:this.$t("Please add your billing credentials.")});this.isLoadingForButton=!0;var e=new FormData;e.append("enable_billing",this.settings.enableBilling?1:0),e.append("stripe_gateway",this.settings.stripeGateway?1:0),e.append("paypal_gateway",this.settings.paypalGateway?1:0),e.append("default_currency",JSON.stringify(this.settings.default_currency)),this.settings.stripeGateway&&(e.append("stripe_client_id",this.settings.stripeClientID),e.append("stripe_secret",this.settings.stripeSecret)),this.settings.paypalGateway&&(e.append("paypal_client_id",this.settings.paypalClientID),e.append("paypal_secret",this.settings.paypalSecret),e.append("paypal_sandbox_mode",this.settings.paypalSandboxMode?1:0)),axios.post("/api/admin/save-billing-settings",e).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+" "+t.$t("updated successfully.")}),setTimeout((function(){location.reload()}),500)})).catch((function(e){e.response.data.message&&t.$notify({group:"foo",type:"error",title:t.$t("Error"),text:e.response.data.message})})).finally((function(){t.isLoadingForButton=!1}))}}},n=a(0),o=a(1),r=a.n(o),l=a(81),c=a(105),d=a(3),u=a(559),v=a(860),p=a(75),g=a(273),m=a(558),h=a(765),f=a(41),_=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.credit-card-outline")]),t._v("\n            "+t._s(t.$t("Billing"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v(t._s(t.$t("Save"))+"\n                ")])],1)]),t._v(" "),a("v-container",{staticClass:"pl-5 pb-5"},[a("v-row",{staticClass:"pl-4"},[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Enable Billing")},model:{value:t.settings.enableBilling,callback:function(e){t.$set(t.settings,"enableBilling",e)},expression:"settings.enableBilling"}})],1)],1),t._v(" "),t.settings.enableBilling?[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{attrs:{height:"100%"}},[a("v-card-title",[a("v-img",{attrs:{"max-width":"80",alt:"Stripe",src:"/storage/defaults/images/billing/stripe.png"}})],1),t._v(" "),a("v-card-text",[a("v-switch",{attrs:{label:"Stripe "+t.$t("Gateway")},model:{value:t.settings.stripeGateway,callback:function(e){t.$set(t.settings,"stripeGateway",e)},expression:"settings.stripeGateway"}}),t._v(" "),t.settings.stripeGateway?a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Stripe Client ID*"),outlined:"","hide-details":""},model:{value:t.settings.stripeClientID,callback:function(e){t.$set(t.settings,"stripeClientID",e)},expression:"\n                                                settings.stripeClientID\n                                            "}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"password",label:t.$t("Stripe Secret*"),outlined:"","hide-details":""},model:{value:t.settings.stripeSecret,callback:function(e){t.$set(t.settings,"stripeSecret",e)},expression:"settings.stripeSecret"}})],1)],1)],1):t._e()],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{attrs:{height:"100%"}},[a("v-card-title",[a("v-img",{attrs:{"max-width":"90",alt:"Paypal",src:"/storage/defaults/images/billing/paypal-logo.png"}})],1),t._v(" "),a("v-card-text",[a("v-switch",{attrs:{label:"PayPal "+t.$t("Gateway")},model:{value:t.settings.paypalGateway,callback:function(e){t.$set(t.settings,"paypalGateway",e)},expression:"settings.paypalGateway"}}),t._v(" "),t.settings.paypalGateway?a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("PayPal Client ID*"),"hide-details":"",outlined:""},model:{value:t.settings.paypalClientID,callback:function(e){t.$set(t.settings,"paypalClientID",e)},expression:"\n                                                settings.paypalClientID\n                                            "}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{type:"password",label:t.$t("PayPal Client Secret*"),outlined:"","hide-details":""},model:{value:t.settings.paypalSecret,callback:function(e){t.$set(t.settings,"paypalSecret",e)},expression:"settings.paypalSecret"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("PayPal Sandbox Mode")},model:{value:t.settings.paypalSandboxMode,callback:function(e){t.$set(t.settings,"paypalSandboxMode",e)},expression:"\n                                                settings.paypalSandboxMode\n                                            "}})],1)],1)],1):t._e()],1)],1)],1)],1)]:t._e()],2)],1)}),[],!1,null,null,null);e.default=_.exports;r()(_,{VBtn:l.a,VCard:c.a,VCardText:d.b,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VIcon:p.a,VImg:g.a,VRow:m.a,VSwitch:h.a,VTextField:f.a})},645:function(t,e,a){"use strict";a.r(e);var s=a(60),i={components:{draggable:a.n(s).a},props:["settings","isLoading"],data:function(){return{isLoadingForButton:!1,shuffleOptions:this.$store.getters.getSettings.shuffleOrder}},methods:{save:function(){var t=this;if(!this.settings.provider_spotify||this.settings.spotifyClientID&&this.settings.spotifyClientSecret){this.isLoadingForButton=!0;var e=new FormData;e.append("autoPlay",this.settings.autoPlay?1:0),e.append("crossfade",this.settings.crossfade?1:0),e.append("disableVideo",this.settings.disableVideo?1:0),e.append("hideDownloadButton",this.settings.hideDownloadButton?1:0),e.append("downloadButton",this.settings.downloadButton?1:0),e.append("playerVolume",this.settings.playerVolume),e.append("shuffleOrder",JSON.stringify(this.shuffleOptions)),axios.post("/api/admin/save-player-settings",e).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+" "+t.$t("updated successfully.")})})).catch((function(){})).finally((function(){t.isLoadingForButton=!1}))}else this.$notify({group:"foo",type:"error",title:this.$t("Oops!"),text:this.$t("You need to add your Spotify keys.")})},updateContent:function(t){this.$set(this.defaultPlaylist.content,this.assetIndex,t),this.attachAssetDialogBoolean=!1,this.assetIndex=null}}},n=(a(314),a(0)),o=a(1),r=a.n(o),l=a(81),c=a(105),d=a(3),u=a(559),v=a(860),p=a(152),g=a(75),m=a(558),h=a(246),f=a(765),_=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.motion-play")]),t._v("\n            "+t._s(t.$t("Player"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v(t._s(t.$t("Save"))+"\n                ")])],1)]),t._v(" "),a("v-container",[a("v-row",[a("v-col",[a("v-switch",{attrs:{label:t.$t("Hide Video")},model:{value:t.settings.disableVideo,callback:function(e){t.$set(t.settings,"disableVideo",e)},expression:"settings.disableVideo"}})],1),t._v(" "),a("v-col",[a("v-switch",{attrs:{label:t.$t("Hide Download Button")},model:{value:t.settings.hideDownloadButton,callback:function(e){t.$set(t.settings,"hideDownloadButton",e)},expression:"settings.hideDownloadButton"}})],1),t._v(" "),a("v-col",[a("v-slider",{attrs:{label:t.$t("Default Volume"),"thumb-color":"primary","hide-details":"","thumb-label":!0},model:{value:t.settings.playerVolume,callback:function(e){t.$set(t.settings,"playerVolume",e)},expression:"settings.playerVolume"}})],1)],1),t._v(" "),a("v-row",[a("v-col",[a("v-divider")],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Auto Play"),messages:t.$t("Shuffle songs automatically based on the settings you provide.")},model:{value:t.settings.autoPlay,callback:function(e){t.$set(t.settings,"autoPlay",e)},expression:"settings.autoPlay"}}),t._v(" "),t.settings.autoPlay?a("v-container",[a("v-row",[a("div",{staticClass:"pt-5"},[t._v("\n                            "+t._s(t.$t("Select the order in which the songs should be shuffled to the user based on the song he selected."))+"\n                        ")]),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("draggable",{model:{value:t.shuffleOptions,callback:function(e){t.shuffleOptions=e},expression:"shuffleOptions"}},t._l(t.shuffleOptions,(function(e){return a("div",{key:e.id,staticClass:"shuffle-option"},[a("div",{staticClass:"drag-icon pr-2"},[a("v-icon",[t._v("$vuetify.icons.menu")])],1),t._v(" "),a("div",{staticClass:"option-text"},[t._v("\n                                        "+t._s(e.text)+"\n                                    ")])])})),0)],1)],1)],1):t._e()],1)],1)],1)],1)}),[],!1,null,"73951dc4",null);e.default=_.exports;r()(_,{VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VDivider:p.a,VIcon:g.a,VRow:m.a,VSlider:h.a,VSwitch:f.a})},646:function(t,e,a){"use strict";a.r(e);var s={props:["settings","isLoading"],data:function(){return{isLoadingForButton:!1}},methods:{save:function(){var t=this;if(!this.settings.provider_spotify||this.settings.spotifyClientID&&this.settings.spotifyClientSecret){this.isLoadingForButton=!0;var e=new FormData;e.append("provider_spotify",this.settings.provider_spotify?1:0),e.append("provider_listenNotes",this.settings.provider_listenNotes?1:0),e.append("show_external_link_spotify",this.settings.show_external_link_spotify?1:0),e.append("spotify_search",this.settings.spotify_search?1:0),e.append("listenNotes_search",this.settings.listenNotes_search?1:0),e.append("spotifyClientID",this.settings.spotifyClientID),e.append("listenNotesClientID",this.settings.listenNotesClientID),e.append("spotifyClientSecret",this.settings.spotifyClientSecret),axios.post("/api/admin/save-providers",e).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+" "+t.$t("updated successfully.")})})).catch((function(){})).finally((function(){t.isLoadingForButton=!1}))}else this.$notify({group:"foo",type:"error",title:this.$t("Oops!"),text:this.$t("You need to add your Spotify keys.")})}}},i=a(0),n=a(1),o=a.n(n),r=a(81),l=a(105),c=a(3),d=a(559),u=a(860),v=a(152),p=a(75),g=a(558),m=a(765),h=a(41),f=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.api")]),t._v("\n            "+t._s(t.$t("Providers"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v(t._s(t.$t("Save"))+"\n                ")])],1)]),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Spotify API"},model:{value:t.settings.provider_spotify,callback:function(e){t.$set(t.settings,"provider_spotify",e)},expression:"settings.provider_spotify"}})],1),t._v(" "),t.settings.provider_spotify?[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{dense:"","hide-details":"",outlined:"",label:"Spotify Client ID"},model:{value:t.settings.spotifyClientID,callback:function(e){t.$set(t.settings,"spotifyClientID",e)},expression:"settings.spotifyClientID"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{dense:"","hide-details":"",outlined:"",label:"Spotify Client Secret"},model:{value:t.settings.spotifyClientSecret,callback:function(e){t.$set(t.settings,"spotifyClientSecret",e)},expression:"settings.spotifyClientSecret"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Search"),messages:t.$t("Includes search results from Spotify engine ( search bar of the player )")},model:{value:t.settings.spotify_search,callback:function(e){t.$set(t.settings,"spotify_search",e)},expression:"settings.spotify_search"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Show Spotify external links"),messages:t.$t("A Button shows on Spotify content pages that takes to the official page")},model:{value:t.settings.show_external_link_spotify,callback:function(e){t.$set(t.settings,"show_external_link_spotify",e)},expression:"settings.show_external_link_spotify"}})],1)]:t._e()],2),t._v(" "),a("v-row",[a("v-divider",{staticClass:"py-3"})],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:"Listen Notes API",messages:"The most comprehensive podcast database online."},model:{value:t.settings.provider_listenNotes,callback:function(e){t.$set(t.settings,"provider_listenNotes",e)},expression:"settings.provider_listenNotes"}})],1),t._v(" "),t.settings.provider_listenNotes?[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Listen Notes API Token"},model:{value:t.settings.listenNotesClientID,callback:function(e){t.$set(t.settings,"listenNotesClientID",e)},expression:"settings.listenNotesClientID"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Search"),messages:t.$t("Includes search results from Listen Notes engine ( search bar of the player )")},model:{value:t.settings.listenNotes_search,callback:function(e){t.$set(t.settings,"listenNotes_search",e)},expression:"settings.listenNotes_search"}})],1)]:t._e()],2)],1)],1)}),[],!1,null,null,null);e.default=f.exports;o()(f,{VBtn:r.a,VCard:l.a,VCardTitle:c.c,VCol:d.a,VContainer:u.a,VDivider:v.a,VIcon:p.a,VRow:g.a,VSwitch:m.a,VTextField:h.a})},647:function(t,a,s){"use strict";s.r(a);var i={props:["settings","isLoading"],data:function(){return{isLoadingForButton:!1}},methods:{save:function(){var t=this;if(!this.settings.ga4||this.settings.ga4MID){this.isLoadingForButton=!0;var a=new FormData;a.append("ga4",this.settings.ga4?1:0),a.append("ga4MID",this.settings.ga4MID),a.append("analytics_play_event",this.settings.analytics_play_event?1:0),a.append("analytics_like_event",this.settings.analytics_like_event?1:0),a.append("analytics_download_event",this.settings.analytics_download_event?1:0),a.append("analytics_adClick_event",this.settings.analytics_adClick_event?1:0),a.append("analytics_fileUpload_event",this.settings.analytics_fileUpload_event?1:0),a.append("analytics_chat_event",this.settings.analytics_chat_event?1:0),a.append("analytics_login_event",this.settings.analytics_login_event?1:0),a.append("analytics_purchase_event",this.settings.analytics_purchase_event?1:0),a.append("analytics_subscription_event",this.settings.analytics_subscription_event?1:0),axios.post("/api/admin/save-analytics-settings",a).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+" "+t.$t("updated successfully.")})})).catch((function(){t.$notify({group:"foo",type:"error",title:t.$t("Error"),text:Object.values(e.response.data.errors).join("<br />")})})).finally((function(){t.isLoadingForButton=!1}))}else this.$notify({group:"foo",type:"error",title:this.$t("Oops!"),text:this.$t("Please enter your valid GA4 measurement ID.")})}}},n=s(0),o=s(1),r=s.n(o),l=s(81),c=s(105),d=s(3),u=s(559),v=s(860),p=s(152),g=s(75),m=s(558),h=s(765),f=s(41),_=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.google-analytic")]),t._v("\n            "+t._s(t.$t("Analytics"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v(t._s(t.$t("Save"))+"\n                ")])],1)]),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"pl-4"},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-switch",{attrs:{label:t.$t("Google Analytics 4(GA4)")},model:{value:t.settings.ga4,callback:function(e){t.$set(t.settings,"ga4",e)},expression:"settings.ga4"}})],1)],1),t._v(" "),t.settings.ga4?[a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Measurement ID"),outlined:"",placeholder:"G-**********"},model:{value:t.settings.ga4MID,callback:function(e){t.$set(t.settings,"ga4MID",e)},expression:"settings.ga4MID"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Events")))]),t._v(" "),a("v-divider"),t._v(" "),a("div",{staticClass:"sub"},[t._v("Enable the events you want to report")])],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Play")},model:{value:t.settings.analytics_play_event,callback:function(e){t.$set(t.settings,"analytics_play_event",e)},expression:"settings.analytics_play_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Like")},model:{value:t.settings.analytics_like_event,callback:function(e){t.$set(t.settings,"analytics_like_event",e)},expression:"settings.analytics_like_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("File Download")},model:{value:t.settings.analytics_download_event,callback:function(e){t.$set(t.settings,"analytics_download_event",e)},expression:"settings.analytics_download_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Ad Click")},model:{value:t.settings.analytics_adClick_event,callback:function(e){t.$set(t.settings,"analytics_adClick_event",e)},expression:"settings.analytics_adClick_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("User Upload")},model:{value:t.settings.analytics_fileUpload_event,callback:function(e){t.$set(t.settings,"analytics_fileUpload_event",e)},expression:"settings.analytics_fileUpload_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Chat Message")},model:{value:t.settings.analytics_chat_event,callback:function(e){t.$set(t.settings,"analytics_chat_event",e)},expression:"settings.analytics_chat_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Login")},model:{value:t.settings.analytics_login_event,callback:function(e){t.$set(t.settings,"analytics_login_event",e)},expression:"settings.analytics_login_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Purchase")},model:{value:t.settings.analytics_purchase_event,callback:function(e){t.$set(t.settings,"analytics_purchase_event",e)},expression:"settings.analytics_purchase_event"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-switch",{attrs:{label:t.$t("Subscription")},model:{value:t.settings.analytics_subscription_event,callback:function(e){t.$set(t.settings,"analytics_subscription_event",e)},expression:"settings.analytics_subscription_event"}})],1)],1)],1)],1)]:t._e()],2)],1)}),[],!1,null,null,null);a.default=_.exports;r()(_,{VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VDivider:p.a,VIcon:g.a,VRow:m.a,VSwitch:h.a,VTextField:f.a})},648:function(t,a,s){"use strict";s.r(a);var i={props:["settings","isLoading"],data:function(){return{isLoadingForButton:!1,compatibleS3Storage:Boolean(this.settings.compatibleS3StorageEndpoint),storageMethods:[{disk:"public",name:"Local Storage"},{disk:"b2",name:"Blackblaze B2"},{disk:"s3",name:"AWS S3",endpoint:"s3.amazonaws.com"},{disk:"s3",name:"Wasabi S3",endpoint:"s3.wasabisys.com"},{disk:"s3",name:"Other S3 Compatible",endpoint:""}]}},computed:{},methods:{save:function(){var t=this;this.isLoadingForButton=!0;var a=new FormData;a.append("storageDisk",JSON.stringify(this.settings.storageDisk)),a.append("maxImageSize",this.settings.maxImageSize),a.append("maxFileSize",this.settings.maxFileSize),a.append("availableUserDiskSpace",this.settings.availableUserDiskSpace),a.append("availableArtistDiskSpace",this.settings.availableArtistDiskSpace),"s3"===this.settings.storageDisk.disk&&(a.append("S3Key",this.settings.S3Key),a.append("S3Secret",this.settings.S3Secret),a.append("S3Endpoint",this.settings.storageDisk.endpoint),a.append("S3Region",this.settings.S3Region),a.append("S3Bucket",this.settings.S3Bucket)),"b2"===this.settings.storageDisk.disk&&(a.append("blackblazeKeyID",this.settings.blackblazeKeyID),a.append("blackblazeApplicationKey",this.settings.blackblazeApplicationKey),a.append("blackblazeBucketID",this.settings.blackblazeBucketID),a.append("blackblazeBucketName",this.settings.blackblazeBucketName),a.append("blackblazeEndpoint",this.settings.blackblazeEndpoint)),axios.post("/api/admin/save-storage-settings",a).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+t.$t("updated successfully.")}),location.reload()})).catch((function(){t.$notify({group:"foo",type:"error",title:t.$t("Error"),text:Object.values(e.response.data.errors).join("<br />")})})).finally((function(){t.isLoadingForButton=!1}))}}},n=s(0),o=s(1),r=s.n(o),l=s(81),c=s(105),d=s(3),u=s(559),v=s(860),p=s(152),g=s(75),m=s(558),h=s(68),f=s(41),_=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.database")]),t._v("\n            "+t._s(t.$t("Storage"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v(t._s(t.$t("Save"))+"\n                ")])],1)]),t._v(" "),a("v-container",{staticClass:"pl-5"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.storageMethods,"return-object":"","item-text":"name",label:t.$t("Storage Disk"),"hide-details":"",outlined:""},model:{value:t.settings.storageDisk,callback:function(e){t.$set(t.settings,"storageDisk",e)},expression:"settings.storageDisk"}})],1)],1),t._v(" "),"s3"===t.settings.storageDisk.disk?[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v("S3 "+t._s(t.$t("Credentials")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[t.settings.storageDisk.endpoint?t._e():a("v-text-field",{attrs:{label:t.$t("S3 Compatbile Endpoint"),outlined:"","hide-details":""},model:{value:t.settings.storageDisk.endpoint,callback:function(e){t.$set(t.settings.storageDisk,"endpoint",e)},expression:"settings.storageDisk.endpoint"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("Access Key ID"),outlined:"","hide-details":""},model:{value:t.settings.S3Key,callback:function(e){t.$set(t.settings,"S3Key",e)},expression:"settings.S3Key"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{type:"password","hide-details":"",label:t.$t("Secret Access key"),outlined:""},model:{value:t.settings.S3Secret,callback:function(e){t.$set(t.settings,"S3Secret",e)},expression:"settings.S3Secret"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("S3 Region"),"hide-details":"",outlined:""},model:{value:t.settings.S3Region,callback:function(e){t.$set(t.settings,"S3Region",e)},expression:"settings.S3Region"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("S3 Bucket"),"hide-details":"",outlined:""},model:{value:t.settings.S3Bucket,callback:function(e){t.$set(t.settings,"S3Bucket",e)},expression:"settings.S3Bucket"}})],1)],1)]:t._e(),t._v(" "),"b2"===t.settings.storageDisk.disk?[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v("Blackblaze "+t._s(t.$t("Credentials")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Endpoint"),outlined:"","hide-details":"",placeholder:"s3.us-west-000.backblazeb2.com"},model:{value:t.settings.blackblazeEndpoint,callback:function(e){t.$set(t.settings,"blackblazeEndpoint",e)},expression:"settings.blackblazeEndpoint"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("Key ID"),outlined:"","hide-details":""},model:{value:t.settings.blackblazeKeyID,callback:function(e){t.$set(t.settings,"blackblazeKeyID",e)},expression:"settings.blackblazeKeyID"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("Application Key"),outlined:"","hide-details":""},model:{value:t.settings.blackblazeApplicationKey,callback:function(e){t.$set(t.settings,"blackblazeApplicationKey",e)},expression:"settings.blackblazeApplicationKey"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("Bucket ID"),outlined:"","hide-details":""},model:{value:t.settings.blackblazeBucketID,callback:function(e){t.$set(t.settings,"blackblazeBucketID",e)},expression:"settings.blackblazeBucketID"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("Bucket Name"),outlined:"","hide-details":""},model:{value:t.settings.blackblazeBucketName,callback:function(e){t.$set(t.settings,"blackblazeBucketName",e)},expression:"settings.blackblazeBucketName"}})],1)],1)]:t._e(),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Storage Limits")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"pb-4",attrs:{label:t.$t("Max File Size")+"(audio)",type:"number",messages:t.$t("Max file size allowed")+"("+t.$t("MB")+")",outlined:"","hide-details":"",required:"",suffix:t.$t("MB")},model:{value:t.settings.maxFileSize,callback:function(e){t.$set(t.settings,"maxFileSize",e)},expression:"settings.maxFileSize"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{attrs:{label:t.$t("Max Image Size"),type:"number","hide-details":"",messages:t.$t("Max image size allowed")+"("+t.$t("MB")+")",outlined:"",suffix:t.$t("MB")},model:{value:t.settings.maxImageSize,callback:function(e){t.$set(t.settings,"maxImageSize",e)},expression:"settings.maxImageSize"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"pb-4",attrs:{label:t.$t("Default User Disk Space"),type:"number",messages:t.$t("Available disk space for users"),outlined:"",suffix:t.$t("MB")},model:{value:t.settings.availableUserDiskSpace,callback:function(e){t.$set(t.settings,"availableUserDiskSpace",e)},expression:"settings.availableUserDiskSpace"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-text-field",{staticClass:"pb-4",attrs:{label:t.$t("Default Artist Disk Space"),type:"number",messages:t.$t("Available disk space for artists"),outlined:"",suffix:t.$t("MB")},model:{value:t.settings.availableArtistDiskSpace,callback:function(e){t.$set(t.settings,"availableArtistDiskSpace",e)},expression:"settings.availableArtistDiskSpace"}})],1)],1)],2)],1)}),[],!1,null,null,null);a.default=_.exports;r()(_,{VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VDivider:p.a,VIcon:g.a,VRow:m.a,VSelect:h.a,VTextField:f.a})},649:function(t,e,a){"use strict";a.r(e);var s={props:["settings","isLoading","isLoadingForButton"],data:function(){return{sitemapLoading:!1,defaultSettings:{siteTitle:"%site_name â Play Music Anywhere & Anytime",siteDescription:"%site_name â Play Music Anywhere & Anytime",homePageTitle:"Explore & listen | %site_name",homePageDescription:"Explore & start listening to pure music on %site_name",browsePageTitle:"Browse & discover music | %site_name",browsePageDescription:"Discover & enjoy listening to pure music on %site_name",podcastsPageTitle:"Podcasts | %site_name",podcastsPageDescription:"Discover & enjoy listening to podcasts on %site_name",artistPageDescription:"Enjoy hearing %artist_name  on %site_name for free",artistPageTitle:"%artist_name | Play on %site_name",songPageTitle:"%song_title â %artist_name | Play On %site_name",songPageDescription:"%creation_date â Play %song_name on %site_name for free",albumPageTitle:"%artist_name â %album_title | Play on %site_name",albumPageDescription:"Play & enjoy %album_title album by %artist_name on %site_name",podcastPageTitle:"%artist_name â %podcast_title | Play on %site_name",podcastPageDescription:"Play & enjoy %podcast_title podcast by %artist_name on %site_name",playlistPageTitle:"%playlist_title | Play on %site_name",playlistPageDescription:"Play & enjoy %playlist_title playlist by %user_name on %site_name",genrePageTitle:"Top %genre_name music | Play on %site_name",genrePageDescription:"Play & enjoy %genre_name music on %site_name",podcastGenrePageTitle:"Top %podcast-genre_name podcasts | Play on %site_name",podcastGenrePageDescription:"Play & enjoy %podcast-genre_name podcasts on %site_name",userProfilePageTitle:"%user_name | %site_name",userProfilePageDescription:"Check %user_name profile on %site_name"},url:null}},created:function(){var t=this;axios.get("/api/admin/url").then((function(e){t.url=e.data}))},methods:{save:function(){this.$emit("save-settings")},reset:function(){this.$emit("reset-settings")},resetSeoSettings:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna reset to the default settings?")),button:{no:this.$t("Cancel"),yes:this.$t("Yes")},callback:function(){Object.keys(t.defaultSettings).forEach((function(e){t.settings[e]=t.defaultSettings[e]}))}})},generateSitemap:function(){var t=this;this.sitemapLoading=!0,axios.get("/api/admin/generate-sitemap").then((function(){t.$notify({group:"foo",type:"success",title:"Generated",text:"Sitemap "+t.$t("generated successfully.")})})).finally((function(){return t.sitemapLoading=!1}))}}},i=(a(316),a(0)),n=a(1),o=a.n(n),r=a(565),l=a(81),c=a(105),d=a(3),u=a(559),v=a(860),p=a(152),g=a(75),m=a(558),h=a(274),f=a(602),_=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("Page-loading"):a("v-card",{staticClass:"seo-settings Page"},[a("v-card-title",[a("div",{staticClass:"Page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.text-box-search-outline")]),t._v("\n      "+t._s(t.$t("Seo"))+"\n    ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"Page__options"},[a("v-btn",{staticClass:"info",attrs:{small:"",disabled:t.isLoadingForButton},on:{click:t.resetSeoSettings}},[t._v(t._s(t.$t("Reset")))]),t._v(" "),a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton},on:{click:t.save}},[t._v(t._s(t.$t("Save")))])],1)],1),t._v(" "),a("v-container",{staticClass:"pl-5"},[a("v-row",[a("v-col",[a("v-alert",{staticClass:"mt-5",attrs:{border:"top","colored-border":"",type:"info",elevation:"2"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Quick Guide")))]),t._v(" "),a("div",{staticClass:"content"},[a("div",[t._v("Variable Placeholders:")]),t._v(" "),a("div",{staticClass:"var"},[a("code",[t._v("%site_name")]),t._v(" "+t._s(t.$t("will be replaced with"))+" the site name.\n            ")]),t._v(" "),a("div",{staticClass:"var"},[a("code",[t._v("%creation_date")]),t._v(" "+t._s(t.$t("will be replaced with"))+" the date of\n              creation of the specific content.\n            ")]),t._v(" "),a("div",{staticClass:"var"},[a("code",[t._v("%artist_name")]),t._v(" "+t._s(t.$t("will be replaced with"))+" the "+t._s(t.$t("Artist"))+" "+t._s(t.$t("Name"))+"\n              of the content(if it exists).\n            ")]),t._v(" "),a("div",{staticClass:"var"},[a("code",[t._v("%album_title")]),t._v(" "+t._s(t.$t("will be replaced with"))+" the "+t._s(t.$t("Artist"))+" "+t._s(t.$t("Name"))+"\n              of the content.\n            ")]),t._v(" "),a("div",{staticClass:"var"},[a("code",[t._v("%song_title")]),t._v(" "+t._s(t.$t("will be replaced with"))+" the song title.\n            ")]),t._v(" "),a("div",{staticClass:"div"},[t._v("\n              Others (name of the placeholder references it's value):\n            ")]),t._v(" "),a("div",{staticClass:"var"},[a("code",{staticClass:"mr-2"},[t._v("%user_name")]),a("code",{staticClass:"mr-2"},[t._v("%playlist_title")]),a("code",{staticClass:"mr-2"},[t._v("%genre_name")]),a("code",{staticClass:"mr-2"},[t._v("%podcast_title ")]),a("code",{staticClass:"mr-2"},[t._v("%podcast-genre_name")])]),t._v(" "),a("div",{staticClass:"mt-2"},[a("strong",[t._v("N.B.:")]),t._v(" make sure you use each of these\n              placeholders on the content that they belong to with the right\n              syntax, otherwise the replace won't happen.\n            ")])])]),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Site Title")},model:{value:t.settings.siteTitle,callback:function(e){t.$set(t.settings,"siteTitle",e)},expression:"settings.siteTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Site Description")},model:{value:t.settings.siteDescription,callback:function(e){t.$set(t.settings,"siteDescription",e)},expression:"settings.siteDescription"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Main"))+" "+t._s(t.$t("Pages")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Home Page Title")},model:{value:t.settings.homePageTitle,callback:function(e){t.$set(t.settings,"homePageTitle",e)},expression:"settings.homePageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Home Page Description")},model:{value:t.settings.homePageDescription,callback:function(e){t.$set(t.settings,"homePageDescription",e)},expression:"settings.homePageDescription"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Browse Page Title")},model:{value:t.settings.browsePageTitle,callback:function(e){t.$set(t.settings,"browsePageTitle",e)},expression:"settings.browsePageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Browse Page Description")},model:{value:t.settings.browsePageDescription,callback:function(e){t.$set(t.settings,"browsePageDescription",e)},expression:"settings.browsePageDescription"}})],1),t._v(" "),t.$store.getters.getSettings.enablePodcasts?a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Podcasts Page Title")},model:{value:t.settings.podcastsPageTitle,callback:function(e){t.$set(t.settings,"podcastsPageTitle",e)},expression:"settings.podcastsPageTitle"}})],1):t._e(),t._v(" "),t.$store.getters.getSettings.enablePodcasts?a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Podcasts Page Description")},model:{value:t.settings.podcastsPageDescription,callback:function(e){t.$set(t.settings,"podcastsPageDescription",e)},expression:"settings.podcastsPageDescription"}})],1):t._e()],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Artist"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.artistPageTitle,callback:function(e){t.$set(t.settings,"artistPageTitle",e)},expression:"settings.artistPageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.artistPageDescription,callback:function(e){t.$set(t.settings,"artistPageDescription",e)},expression:"settings.artistPageDescription"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Song"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.songPageTitle,callback:function(e){t.$set(t.settings,"songPageTitle",e)},expression:"settings.songPageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.songPageDescription,callback:function(e){t.$set(t.settings,"songPageDescription",e)},expression:"settings.songPageDescription"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Album"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.albumPageTitle,callback:function(e){t.$set(t.settings,"albumPageTitle",e)},expression:"settings.albumPageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.albumPageDescription,callback:function(e){t.$set(t.settings,"albumPageDescription",e)},expression:"settings.albumPageDescription"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Podcast"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.podcastPageTitle,callback:function(e){t.$set(t.settings,"podcastPageTitle",e)},expression:"settings.podcastPageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.podcastPageDescription,callback:function(e){t.$set(t.settings,"podcastPageDescription",e)},expression:"settings.podcastPageDescription"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Genre"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.genrePageTitle,callback:function(e){t.$set(t.settings,"genrePageTitle",e)},expression:"settings.genrePageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.genrePageDescription,callback:function(e){t.$set(t.settings,"genrePageDescription",e)},expression:"settings.genrePageDescription"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Playlist"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.playlistPageTitle,callback:function(e){t.$set(t.settings,"playlistPageTitle",e)},expression:"settings.playlistPageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.playlistPageDescription,callback:function(e){t.$set(t.settings,"playlistPageDescription",e)},expression:"settings.playlistPageDescription"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("Podcast Genre"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.podcastGenrePageTitle,callback:function(e){t.$set(t.settings,"podcastGenrePageTitle",e)},expression:"settings.podcastGenrePageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.podcastGenrePageDescription,callback:function(e){t.$set(t.settings,"podcastGenrePageDescription",e)},expression:"settings.podcastGenrePageDescription"}})],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"sub-title"},[t._v(t._s(t.$t("User Profile"))+" "+t._s(t.$t("Page")))]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Title")},model:{value:t.settings.userProfilePageTitle,callback:function(e){t.$set(t.settings,"userProfilePageTitle",e)},expression:"settings.userProfilePageTitle"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-textarea",{attrs:{outlined:"",dense:"",rows:"3",label:t.$t("Descriptiion")},model:{value:t.settings.userProfilePageDescription,callback:function(e){t.$set(t.settings,"userProfilePageDescription",e)},expression:"settings.userProfilePageDescription"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("v-row",[a("v-col",[a("div",{staticClass:"title mb-3"},[t._v("Sitemap")]),t._v(" "),a("v-divider",{staticClass:"pb-2"}),t._v(" "),a("v-btn",{staticClass:"primary",attrs:{disabled:t.sitemapLoading},on:{click:t.generateSitemap}},[t._v(t._s(t.$t("Generate"))+" Sitemap")]),t._v(" "),a("v-alert",{staticClass:"mt-5",attrs:{border:"top","colored-border":"",type:"info",elevation:"2"}},[t._v("\n          When you generate the sitemap, it will be available on:\n          "),a("code",[t._v(" "+t._s(t.url)+"/sitemap.xml ")]),t._v(" and the file will be on the\n          "),a("code",[t._v("public/")]),t._v(" directory.\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);e.default=_.exports;o()(_,{VAlert:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VDivider:p.a,VIcon:g.a,VRow:m.a,VSpacer:h.a,VTextarea:f.a})},650:function(t,e,a){"use strict";a.r(e);var s={props:["settings","isLoading"],data:function(){return{isLoadingForButton:!1,detailedError:"",mailers:[{text:"SMTP",value:"smtp"},{text:"Mailgun API",value:"mailgun"}]}},methods:{save:function(){var t=this;if(this.detailedError="",this.settings.enableMail)if("smtp"===this.settings.mailMailer&&this.settings.mailHost&&this.settings.mailPort&&this.settings.mailUsername&&this.settings.mailPassword&&this.settings.mailFromAddress&&this.settings.mailEncryption&&this.settings.mailFromName);else if(!("mailgun"===this.settings.mailMailer&&this.settings.mailgunURL&&this.settings.mailgunAPIKey&&this.settings.mailFromAddress&&this.settings.mailFromName))return void this.$notify({group:"foo",type:"error",title:this.$t("Oops!"),text:this.$t("Please fill all the information.")});this.isLoadingForButton=!0;var e=new FormData;e.append("enable_mail",this.settings.enableMail?1:""),e.append("contact_email_address",this.settings.contactEmailAddress),e.append("mailMailer",this.settings.mailMailer),"smtp"===this.settings.mailMailer?(e.append("username",this.settings.mailUsername.toString().trim()),e.append("password",this.settings.mailPassword.toString().trim()),e.append("encryption",this.settings.mailEncryption),e.append("host",this.settings.mailHost.toString().trim()),e.append("port",this.settings.mailPort.toString().trim())):"mailgun"===this.settings.mailMailer&&(e.append("mailgunAPIKey",this.settings.mailgunAPIKey.toString().trim()),e.append("mailgunURL",this.settings.mailgunURL.toString().trim())),e.append("from_address",this.settings.mailFromAddress.toString().trim()),e.append("from_name",this.settings.mailFromName.toString().trim()),axios.post("/api/admin/save-mail-settings",e).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+" "+t.$t("updated successfully.")})})).catch((function(e){t.detailedError=e.response.data.detailed_message})).finally((function(){t.isLoadingForButton=!1}))}}},i=a(0),n=a(1),o=a.n(n),r=a(565),l=a(81),c=a(105),d=a(3),u=a(559),v=a(860),p=a(75),g=a(558),m=a(68),h=a(765),f=a(41),_=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.email-multiple")]),t._v("\n      "+t._s(t.$t("Email"))+"\n    ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton,loading:t.isLoadingForButton},on:{click:t.save},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v(t._s(t.$t("Save"))+"\n        ")])],1)]),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",{staticClass:"pl-4"},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-switch",{attrs:{label:t.$t("Enable Emails"),messages:t.$t("Enable to receive Emails from users. Enable to verify users Email addresses.")},model:{value:t.settings.enableMail,callback:function(e){t.$set(t.settings,"enableMail",e)},expression:"settings.enableMail"}})],1)],1),t._v(" "),t.settings.enableMail?[a("v-row",[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("From Address"),messages:t.$t("The address that the users receive an Email from you."),outlined:""},model:{value:t.settings.mailFromAddress,callback:function(e){t.$set(t.settings,"mailFromAddress",e)},expression:"settings.mailFromAddress"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("From Name"),messages:t.$t("The name that the users will see when they receive an Email from you."),outlined:""},model:{value:t.settings.mailFromName,callback:function(e){t.$set(t.settings,"mailFromName",e)},expression:"settings.mailFromName"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("Mailer"),outlined:"",items:t.mailers,"item-value":"value","item-text":"text"},model:{value:t.settings.mailMailer,callback:function(e){t.$set(t.settings,"mailMailer",e)},expression:"settings.mailMailer"}})],1),t._v(" "),"smtp"===t.settings.mailMailer?[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("SMTP Host"),outlined:""},model:{value:t.settings.mailHost,callback:function(e){t.$set(t.settings,"mailHost",e)},expression:"settings.mailHost"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("SMTP Username"),outlined:""},model:{value:t.settings.mailUsername,callback:function(e){t.$set(t.settings,"mailUsername",e)},expression:"settings.mailUsername"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("SMTP Password"),type:"password",outlined:""},model:{value:t.settings.mailPassword,callback:function(e){t.$set(t.settings,"mailPassword",e)},expression:"settings.mailPassword"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("SMTP Port"),outlined:""},model:{value:t.settings.mailPort,callback:function(e){t.$set(t.settings,"mailPort",e)},expression:"settings.mailPort"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-select",{attrs:{outlined:"",label:t.$t("Encryption"),items:["tls","ssl"]},model:{value:t.settings.mailEncryption,callback:function(e){t.$set(t.settings,"mailEncryption",e)},expression:"settings.mailEncryption"}})],1)]:t._e(),t._v(" "),"mailgun"===t.settings.mailMailer?[a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Domain"),outlined:"",messages:t.$t("Usually your domain (Not API base URL)")},model:{value:t.settings.mailgunURL,callback:function(e){t.$set(t.settings,"mailgunURL",e)},expression:"settings.mailgunURL"}})],1),t._v(" "),a("v-col",{attrs:{md:"6",cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("API Key"),outlined:""},model:{value:t.settings.mailgunAPIKey,callback:function(e){t.$set(t.settings,"mailgunAPIKey",e)},expression:"settings.mailgunAPIKey"}})],1)]:t._e(),t._v(" "),a("v-col",[t.detailedError?a("v-alert",{attrs:{type:"error"}},[a("h2",[t._v(t._s(t.$t("Detailed error message")))]),t._v(" "),a("div",[t._v("\n              "+t._s(t.detailedError)+"\n            ")])]):t._e()],1)],2)]:t._e()],2)],1)}),[],!1,null,null,null);e.default=_.exports;o()(_,{VAlert:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VIcon:p.a,VRow:g.a,VSelect:m.a,VSwitch:h.a,VTextField:f.a})},651:function(t,e,a){"use strict";a.r(e);var s={props:["settings","isLoading","isLoadingForButton"],data:function(){return{googleClientIdRule:[function(t){return".apps.googleusercontent.com"===t.substr(t.length-27)||"Please add a valid Google OAuth Client ID."}]}},methods:{save:function(){this.$emit("save-settings")}}},i=a(0),n=a(1),o=a.n(n),r=a(81),l=a(105),c=a(3),d=a(559),u=a(860),v=a(152),p=a(75),g=a(558),m=a(765),h=a(41),f=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.account-key-outline")]),t._v("\n      "+t._s(t.$t("Authentication"))+"\n    ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton},on:{click:t.save}},[t._v(t._s(t.$t("Save")))])],1)]),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Disable Registration"),messages:t.$t("Remove user registration from the application")},model:{value:t.settings.disableRegistration,callback:function(e){t.$set(t.settings,"disableRegistration",e)},expression:"settings.disableRegistration"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Require Authentication"),messages:t.$t("Require authentication will force visitors to authenticate.")},model:{value:t.settings.requireAuth,callback:function(e){t.$set(t.settings,"requireAuth",e)},expression:"settings.requireAuth"}})],1),t._v(" "),a("v-divider"),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Google OAuth")},model:{value:t.settings.enableGoogleLogin,callback:function(e){t.$set(t.settings,"enableGoogleLogin",e)},expression:"settings.enableGoogleLogin"}}),t._v(" "),t.settings.enableGoogleLogin?a("v-text-field",{attrs:{label:t.$t("Google Client ID"),outlined:"",rules:t.googleClientIdRule,hint:"xxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com"},model:{value:t.settings.google_oauth_client_id,callback:function(e){t.$set(t.settings,"google_oauth_client_id",e)},expression:"settings.google_oauth_client_id"}}):t._e()],1)],1)],1)],1)}),[],!1,null,null,null);e.default=f.exports;o()(f,{VBtn:r.a,VCard:l.a,VCardTitle:c.c,VCol:d.a,VContainer:u.a,VDivider:v.a,VIcon:p.a,VRow:g.a,VSwitch:m.a,VTextField:h.a})},652:function(t,e,a){"use strict";a.r(e);var s={components:{AreaChart:function(){return Promise.all([a.e(0),a.e(32)]).then(a.bind(null,248))},PieChart:function(){return Promise.all([a.e(0),a.e(34)]).then(a.bind(null,249))},BarChart:function(){return Promise.all([a.e(0),a.e(33)]).then(a.bind(null,709))}},mixins:[a(23).a],data:function(){return{stats:null,playsChartReset:!1,salesChartReset:!1,timeOptions:[{name:this.$t("Last 7 days"),param:"lw"},{name:this.$t("Last Month"),param:"lm"},{name:this.$t("Last Year"),param:"ly"}],timeOption:{name:this.$t("Last 7 days"),param:"lw"},timeOptionEarnings:{name:this.$t("Last 7 days"),param:"lw"},populars:[{text:"Songs",name:"songs",icon:"mdi-music-note",headers:[{text:this.$t("#"),value:"rank",sortable:!1},{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("Created At"),value:"created_at"}],items:[]},{text:"Radio Stations",name:"radioStations",icon:"mdi-radio-tower",headers:[{text:this.$t("#"),value:"rank",sortable:!1},{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("Created At"),value:"created_at"}],items:[]},{text:"Albums",name:"albums",icon:"mdi-album",headers:[{text:this.$t("#"),value:"rank",sortable:!1},{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},,{text:this.$t("Created At"),value:"created_at"}],items:[]},{text:"Podcasts",name:"podcasts",icon:"mdi-microphone",headers:[{text:this.$t("#"),value:"rank",sortable:!1},{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("Created At"),value:"created_at"}],items:[]},{text:"Playlists",name:"playlists",icon:"mdi-playlist-music",headers:[{text:this.$t("#"),value:"rank",sortable:!1},{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("User"),value:"user",align:"center"}],items:[]},{text:"Artists",name:"artists",icon:"mdi-account-music",headers:[{text:this.$t("#"),value:"rank",sortable:!1},{text:this.$t("Avatar"),sortable:!1,value:"avatar"},{text:this.$t("Displayname"),value:"displayname"},{text:this.$t("User account"),value:"user",align:"center"}],items:[]}],analyticsCards:[{title:this.$store.getters.getSettings.enable_selling?"Sales":"Songs",icon:this.$store.getters.getSettings.enable_selling?"currency-usd":"music-note-eighth",number:0,gradient:"45deg,#00cdac,#02aab0",this_month:"0"},{icon:"account",title:"Users",number:0,gradient:"45deg,#8C366C, #6E64E7",this_month:"0"},{icon:"account-music",title:"Artists",number:0,gradient:"45deg, #904e95, #e96443",this_month:"0"},{icon:"album",title:"Albums",number:0,gradient:"45deg,#f09819,#edde5d",this_month:"0"}],plays:[],chartPlaysData:{labels:[],datasets:[{data:[],fill:!0,borderColor:"#2196f3",backgroundColor:"#4245a8",borderWidth:1}],options:{legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{precision:0,beginAtZero:!0}}]}}},chartSalesData:{labels:[],datasets:[{data:[],fill:!0,borderColor:"#2196f3",backgroundColor:"#4245a8",borderWidth:1}],options:{legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{precision:0,beginAtZero:!0}}]}}},chartMostVisitingCountries:{labels:[],datasets:[{data:[],backgroundColor:["#6E64E7","#8C85E5","#6D67B6","#9467B6","#B667B0"]}],options:{tooltips:{callbacks:{title:function(t,e){return e.labels[t[0].index]},label:function(t,e){var a=e.datasets[0].data.reduce((function(t,e){return t+e})),s=e.datasets[0].data[t.index];return Math.floor(s/a*100)+"%"}}},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{display:!1,ticks:{display:!1,beginAtZero:!0}}]}}},chartMostVisitingBrowsers:{labels:[],datasets:[{data:[],backgroundColor:["#6E64E7","#8C85E5","#6D67B6","#9467B6","#B667B0"]}],options:{tooltips:{callbacks:{title:function(t,e){return e.labels[t[0].index]},label:function(t,e){var a=e.datasets[0].data.reduce((function(t,e){return t+e})),s=e.datasets[0].data[t.index];return Math.floor(s/a*100)+"%"}}},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{display:!1,ticks:{display:!1,beginAtZero:!0}}]}}}}},methods:{updatePlaysChart:function(){var t,e=this;axios.get("/api/admin/plays/"+this.timeOption.param).then((function(e){t=e.data})).then((function(){e.calculateChartData(t,"plays")})),setTimeout((function(){e.salesChartReset=!1}),300)},updateSalesChart:function(){var t,e=this;axios.get("/api/admin/sales/"+this.timeOptionEarnings.param).then((function(e){t=e.data})).then((function(){e.calculateChartData(t,"sales")})),setTimeout((function(){e.salesChartReset=!1}),300)},calculateChartData:function(t,e){var a=this,s="sales"!==e?this.timeOption.param:this.timeOptionEarnings.param;if("lw"===s){for(var i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n=[],o=1;o<=7;o++){var r=this.moment().subtract(1,"weeks").add(o,"d");n.push({day:i[r.day()],date:r.format("YYYY-MM-DD")})}var l=n.map((function(a){return t.some((function(t){return t.date===a.date}))?a["sales"===e?"total":"plays"]=t.find((function(t){return t.date===a.date}))["sales"===e?"total":"plays"]:a["sales"===e?"total":"plays"]=0,a}))}else if("lm"===s){for(var c=[],d=1;d<=30;d++){var u=this.moment().subtract(30,"days").add(d,"d");c.push({day:u.format("ll"),date:u.format("YYYY-MM-DD")})}l=c.map((function(a){return t.some((function(t){return t.date===a.date}))?a["sales"===e?"total":"plays"]=t.find((function(t){return t.date===a.date}))["sales"===e?"total":"plays"]:a["sales"===e?"total":"plays"]=0,a}))}else if("ly"===s){for(var v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=[],g=1;g<=12;g++){var m=this.moment().subtract(12,"months").add(g,"M");p.push({month:v[m.month()],date:m.format("M")})}l=p.map((function(a){return t.some((function(t){return t.date===parseInt(a.date)}))?a["sales"===e?"total":"plays"]=t.find((function(t){return t.date===parseInt(a.date)}))["sales"===e?"total":"plays"]:a["sales"===e?"total":"plays"]=0,a}))}"plays"==e?(this.chartPlaysData.labels=l.map((function(t){return t.month?t.month:t.day})),this.chartPlaysData.datasets[0].data=l.map((function(t){return t.plays})),this.playsChartReset=!0):"sales"===e&&(this.chartSalesData.labels=l.map((function(t){return t.month?t.month:t.day})),this.chartSalesData.datasets[0].data=l.map((function(t){return a.price(t.total)})),this.salesChartReset=!0)}},created:function(){var t=this;axios.get("/api/admin/analytics").then((function(e){t.stats=e.data,t.updatePlaysChart(),t.$store.getters.getSettings.enable_selling&&t.updateSalesChart(),t.$store.getters.getSettings.enable_selling?(t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/sale/i)}))].number=t.stats.nb_sales,t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/sale/i)}))].this_month=t.stats.nb_sales_this_month):(t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/song/i)}))].number=t.stats.nb_songs,t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/song/i)}))].this_month=t.stats.nb_songs_this_month),t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/user/i)}))].number=t.stats.nb_users,t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/user/i)}))].this_month=t.stats.nb_users_this_month,t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/artist/i)}))].number=t.stats.nb_artists,t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/artist/i)}))].this_month=t.stats.nb_artists_this_month,t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/album/i)}))].number=t.stats.nb_albums,t.analyticsCards[t.analyticsCards.findIndex((function(t){return t.title.match(/album/i)}))].this_month=t.stats.nb_albums_this_month;for(var a=0;a<t.populars.length;a++)t.populars[a].items=t.stats.populars[t.populars[a].name];var s=t.stats.visiting_browsers.slice(0,5),i=t.stats.visiting_countries.slice(0,5);t.chartMostVisitingBrowsers.labels=s.map((function(t){return t.name})),t.chartMostVisitingBrowsers.datasets[0].data=s.map((function(t){return t.visitors})),t.chartMostVisitingCountries.labels=i.map((function(t){return t.name})),t.chartMostVisitingCountries.datasets[0].data=i.map((function(t){return t.visitors}))}))}},i=(a(328),a(0)),n=a(1),o=a.n(n),r=a(150),l=a(105),c=a(3),d=a(559),u=a(860),v=a(872),p=a(75),g=a(273),m=a(558),h=a(68),f=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.stats?a("div",{staticClass:"analytics-wrapper"},[a("v-container",{attrs:{fluid:""}},[a("v-row",t._l(t.analyticsCards,(function(e,s){return a("v-col",{key:s,attrs:{cols:"12",sm:"6",lg:"3"}},[a("v-card",{staticClass:"analytic-info-card",attrs:{rounded:"",outlined:""}},[a("v-card-title",[a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{attrs:{cols:"8"}},[a("h5",{staticClass:"analytic-info-card__headline max-1-lines"},[t._v("\n                                    "+t._s(t.$t(e.title))+"\n                                ")]),t._v(" "),a("div",{staticClass:"analytic-info-card__subline"},[t._v("\n                                    "+t._s(e.number)+"\n                                ")])]),t._v(" "),a("v-col",{staticClass:"flex-end",attrs:{cols:"4"}},[a("v-avatar",[a("v-img",{staticClass:"d-flex justify-align-center analytics-card-icon",attrs:{gradient:e.gradient}},[a("v-icon",{attrs:{color:"white",large:""}},[t._v("$vuetify.icons."+t._s(e.icon))])],1)],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"percetage px-3 pb-2"},[a("strong",{class:(0===e.this_month?"secondary":"success")+"--text"},[t._v(t._s((e.this_month>0?"+":"")+e.this_month))]),t._v(" "),a("span",{staticClass:"muted"},[t._v(t._s(t.$t("New this month")))])])],1)],1)})),1)],1),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"mt-2",attrs:{cols:"12"}},[a("v-card",{staticClass:"chart",attrs:{height:"550px",outlined:"",rounded:""}},[a("v-card-title",[a("div",{staticClass:"flex flex-grow-1 align-center plays-chart-card-title"},[a("v-icon",{staticClass:"ml-3",attrs:{color:"primary",large:""}},[t._v("$vuetify.icons.music-note")]),t._v(" "),a("h5",{staticClass:"analytic-info-card__headline"},[t._v("\n                                "+t._s(t.$t("Plays Chart"))+"\n                            ")]),t._v(" "),a("div",{staticClass:"card-subline ml-2"},[t._v("\n                                "+t._s(t.$t("Number of plays per interval"))+"\n                            ")])],1),t._v(" "),a("div",{staticClass:"flex-grow-1"},[a("v-select",{staticClass:"ml-auto plays-chart-card-title__select",attrs:{items:t.timeOptions,"item-text":"name","return-object":"",label:t.$t("Interval"),dense:""},on:{change:t.updatePlaysChart},model:{value:t.timeOption,callback:function(e){t.timeOption=e},expression:"timeOption"}})],1)]),t._v(" "),a("div",[t.chartPlaysData.datasets[0].data.length?a("area-chart",{attrs:{chartdata:t.chartPlaysData,options:t.chartPlaysData.options,reset:t.playsChartReset},on:{resetOver:function(e){t.playsChartReset=!1}}}):t._e()],1)],1)],1),t._v(" "),t.$store.getters.getSettings.enable_selling?a("v-col",{staticClass:"mt-2",attrs:{cols:"12"}},[a("v-card",{staticClass:"chart",attrs:{height:"550px",outlined:"",rounded:""}},[a("v-card-title",[a("div",{staticClass:"flex flex-grow-1 align-center plays-chart-card-title"},[a("v-icon",{staticClass:"ml-3",attrs:{color:"primary",large:""}},[t._v("$vuetify.icons.music-note")]),t._v(" "),a("h5",{staticClass:"analytic-info-card__headline"},[t._v("\n                                "+t._s(t.$t("Earnings"))+"\n                            ")]),t._v(" "),a("div",{staticClass:"card-subline ml-2"},[t._v("\n                                "+t._s(t.$t("Total earnings ("+t.defaultCurrency.symbol+") per interval"))+"\n                            ")])],1),t._v(" "),a("div",{staticClass:"flex-grow-1"},[a("v-select",{staticClass:"ml-auto plays-chart-card-title__select",attrs:{items:t.timeOptions,"item-text":"name","return-object":"",label:t.$t("Interval"),dense:""},on:{change:t.updateSalesChart},model:{value:t.timeOptionEarnings,callback:function(e){t.timeOptionEarnings=e},expression:"timeOptionEarnings"}})],1)]),t._v(" "),a("div",[t.chartSalesData.datasets[0].data.length?a("area-chart",{attrs:{chartdata:t.chartSalesData,options:t.chartSalesData.options,reset:t.salesChartReset},on:{resetOver:function(e){t.salesChartReset=!1}}}):t._e()],1)],1)],1):t._e(),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"chart",attrs:{height:"550px",outlined:"",rounded:""}},[a("v-card-title",[a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{staticClass:"flex-grow-0"},[a("v-icon",{staticClass:"ml-3",attrs:{color:"primary",large:""}},[t._v("$vuetify.icons.music-note")])],1),t._v(" "),a("v-col",[a("h5",{staticClass:"analytic-info-card__headline"},[t._v("\n                                    "+t._s(t.$t("Top Visiting Countries"))+"\n                                ")])])],1)],1),t._v(" "),t.chartMostVisitingCountries.datasets[0].data.length?a("pie-chart",{attrs:{chartdata:t.chartMostVisitingCountries,options:t.chartMostVisitingCountries.options}}):a("div",{staticClass:"v-data-table__empty-wrapper no-data-chart"},[t._v("\n                        "+t._s(t.$t("No data to show yet!"))+"\n                    ")])],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",{staticClass:"chart",attrs:{height:"550px",outlined:"",rounded:""}},[a("v-card-title",[a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{staticClass:"flex-grow-0"},[a("v-icon",{staticClass:"ml-3",attrs:{color:"primary",large:""}},[t._v("$vuetify.icons.music-note")])],1),t._v(" "),a("v-col",[a("h5",{staticClass:"analytic-info-card__headline"},[t._v("\n                                    "+t._s(t.$t("Top Visiting Browsers"))+"\n                                ")])])],1)],1),t._v(" "),t.chartMostVisitingBrowsers.datasets[0].data.length?a("pie-chart",{attrs:{chartdata:t.chartMostVisitingBrowsers,options:t.chartMostVisitingBrowsers.options}}):a("div",{staticClass:"v-data-table__empty-wrapper no-data-chart"},[t._v("\n                        "+t._s(t.$t("No data to show yet!"))+"\n                    ")])],1)],1)],1)],1),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",t._l(t.populars,(function(e,s){return a("v-col",{key:s,attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-card-title",[a("v-row",[a("v-col",{staticClass:"flex-grow-0"},[a("v-icon",{staticClass:"ml-3",attrs:{color:"primary",large:""}},[t._v(t._s(e.icon))])],1),t._v(" "),a("v-col",[a("h5",{staticClass:"analytic-info-card__headline"},[t._v("\n                                    "+t._s(t.$t("Popular"))+"\n                                    "+t._s(t.$t(e.text))+"\n                                ")])])],1)],1),t._v(" "),a("v-data-table",{attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:e.headers,items:e.items,"hide-default-footer":""},scopedSlots:t._u([{key:"item.rank",fn:function(s){var i=s.item;return[0==e.items.indexOf(i)?a("span",{staticClass:"rank rank-one"},[t._v("1.")]):1==e.items.indexOf(i)?a("span",{staticClass:"rank rank-two"},[t._v("2.")]):2==e.items.indexOf(i)?a("span",{staticClass:"rank rank-three"},[t._v("3.")]):a("span",[t._v(t._s(e.items.indexOf(i))+".")])]}},{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar song-cover",attrs:{src:e.cover,alt:e.title,width:"50",height:"50"}})],1)]}},{key:"item.avatar",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar song-cover",attrs:{src:e.avatar,width:"50",height:"50"}})],1)]}},{key:"item.title",fn:function(e){var a=e.item;return[t._v("\n                            "+t._s(a.title?a.title:a.name)+"\n                        ")]}},{key:"item.user",fn:function(e){var s=e.item;return[s.user?[a("router-link",{staticClass:"router-link",attrs:{to:{name:"profile",params:{id:s.id}},target:"_blank"}},[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.user.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n                                        "+t._s(s.user.email)+"\n                                    ")])])]:[t._v(" - ")]]}},{key:"item.artists",fn:function(e){var a=e.item;return[t._v("\n                            "+t._s(t.getArtists(a.artists))+"\n                        ")]}},{key:"item.created_at",fn:function(e){var a=e.item;return[t._v("\n                            "+t._s(t.moment(a.created_at).format("ll"))+"\n                        ")]}}],null,!0)})],1)],1)})),1)],1)],1):a("page-loading")}),[],!1,null,null,null);e.default=f.exports;o()(f,{VAvatar:r.a,VCard:l.a,VCardTitle:c.c,VCol:d.a,VContainer:u.a,VDataTable:v.a,VIcon:p.a,VImg:g.a,VRow:m.a,VSelect:h.a})},653:function(t,e,a){"use strict";a.r(e);var s={components:{editSongDialog:a(70).a},computed:{isShowing:function(){var t=this;return function(e){return t.songs[t.songs.findIndex((function(t){return t.id===e}))].isShowing}}},data:function(){return{songs:null,search:"",headers:[{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("Artist")+"("+this.$t("Account")+")",value:"artist",align:"center"},{text:this.$t("Artists"),value:"artists"},{text:this.$t("Plays"),value:"nb_plays",align:"center"},{text:this.$t("Downloads"),value:"nb_downloads",align:"center"},{text:this.$t("Likes"),value:"nb_likes",align:"center"},{text:this.$t("Created At"),value:"created_at"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingSong:null}},created:function(){this.fetchSongs()},methods:{fetchSongs:function(){var t=this;axios.get("/api/admin/songs").then((function(e){t.songs=e.data}))},wakeSongDialog:function(t){this.editDialog=!0;var e=this.songs.findIndex((function(e){return e.id===t}));this.$set(this.songs[e],"isShowing",!0)},sleepSongDialog:function(t){this.editDialog=!1;var e=this.songs.findIndex((function(e){return e.id===t}));this.$set(this.songs[e],"isShowing",!1),this.$forceUpdate()},closeSong:function(t){var e=this.songs.findIndex((function(e){return e.id===t}));this.songs[e].isShowing&&(this.editDialog=!1),this.songs[e].new&&this.songs.splice(e,1),this.$set(this.songs[e],"isActive",!1),this.$set(this.songs[e],"isShowing",!1),this.$forceUpdate()},hideAllsongs:function(){for(var t=0;t<this.songs.length;t++)this.$set(this.songs[t],"isShowing",!1);this.editDialog=!1},updateProgress:function(t,e){var a=this.songs.findIndex((function(t){return t.id===e}));this.$set(this.songs[a],"progress",t)},deleteSong:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Song")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){if(a){var s=e.songs.findIndex((function(e){return e.id===t}));e.songs[s].requestSource&&e.songs[s].requestSource.cancel(),axios.delete("/api/songs/"+t,{song_id:t}).then((function(){e.songs.splice(s,1),e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Song")+" "+e.$t("Deleted")+"."})})).catch((function(){}))}}})},editSong:function(t){"new"===t?(this.songs.unshift({id:Math.floor(95e3*Math.random()+1e5),new:!0,artists:[],cover:"/storage/defaults/images/song_cover.png",genres:[],isActive:!0,isShowing:!0,nb_plays:0,nb_likes:0,public:!0,source:"",source_format:"file"}),this.editDialog=!0):(this.songs[this.songs.findIndex((function(e){return e.id===t.id}))].isActive=!0,this.songs[this.songs.findIndex((function(e){return e.id===t.id}))].isShowing=!0,this.editDialog=!0)},songEdited:function(t){var e=this.songs.findIndex((function(e){return e.id===t}));this.$set(this.songs[e],"progress",0),this.$set(this.songs[e],"isActive",!1),this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Song")+" "+this.$t("Updated")+"."})},songCreated:function(){this.$notify({group:"foo",type:"success",title:this.$t("Created"),text:this.$t("Song")+" "+this.$t("Created")+"."})}}},i=a(0),n=a(1),o=a.n(n),r=a(150),l=a(81),c=a(105),d=a(3),u=a(872),v=a(564),p=a(75),g=a(273),m=a(112),h=a(274),f=a(41),_=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"songs-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.music-note")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editSong("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v("\n                "+t._s(t.$t("New"))+"\n            ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.songs||[],loading:!t.songs,"items-per-page":25,search:t.search},scopedSlots:t._u([{key:"item.cover",fn:function(e){var s=e.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar song-cover",attrs:{src:s.cover&&s.cover.image||s.cover,alt:s.title,width:"50",height:"50"}},[null!=s.progress&&s.progress<100?a("div",{staticClass:"upload-percentage"},[a("div",{staticClass:"content-text"},[s.progress<99?[t._v("\n                                    "+t._s(s.progress)+"%\n                                ")]:[a("v-progress-circular",{attrs:{size:15,width:3,color:"grey",indeterminate:""}})]],2)]):t._e()])],1)]}},{key:"item.title",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{name:"song",params:{id:s.id}},target:"_blank"}},[t._v("\n                    "+t._s(s.title)),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editSong(s)}}},[a("v-icon",{attrs:{dark:t.$store.state.darkTheme||"dark"==t.$store.getters.getSettings.defaultTheme}},[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deleteSong(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.artists",fn:function(t){var e=t.item;return[a("artists",{attrs:{showLinker:!0,artists:e.artists}})]}},{key:"item.artist",fn:function(e){var s=e.item;return[s.artist?[a("router-link",{staticClass:"router-link",attrs:{to:{name:"artist",params:{id:s.artist.id}},target:"_blank"}},[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.artist.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n                            "+t._s(s.artist.displayname)+" "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)])]:[t._v(" - ")]]}},{key:"item.created_at",fn:function(e){var a=e.item;return[t._v("\n                "+t._s(t.moment(a.created_at).format("ll"))+"\n            ")]}}])})],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"950"},on:{"click:outside":t.hideAllsongs},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t._l(t.songs,(function(e){return[e.isActive?a("edit-song-dialog",{directives:[{name:"show",rawName:"v-show",value:t.isShowing(e.id),expression:"isShowing(song.id)"}],key:e.id,attrs:{uploader:"admin",song:e},on:{updated:function(a){return t.songEdited(e.id)},progress:function(a){return t.updateProgress(a,e.id)},created:t.songCreated,close:function(a){return t.closeSong(e.id)},sleep:function(a){return t.sleepSongDialog(e.id)},wake:function(a){return t.wakeSongDialog(e.id)}}}):t._e()]}))],2)],1)}),[],!1,null,null,null);e.default=_.exports;o()(_,{VAvatar:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VDataTable:u.a,VDialog:v.a,VIcon:p.a,VImg:g.a,VProgressCircular:m.a,VSpacer:h.a,VTextField:f.a})},654:function(t,e,a){"use strict";a.r(e);var s={components:{editAlbumDialog:a(126).a},data:function(){return{albums:null,search:"",editingAlbum:{},headers:[{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("Artists"),value:"artists",align:"center"},{text:this.$t("Plays"),value:"plays"},{text:this.$t("Likes"),value:"likes"},{text:this.$t("Released At"),value:"release_date"},{text:this.$t("Created At"),value:"created_at"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1}},created:function(){this.fetchAlbums()},methods:{fetchAlbums:function(){var t=this;return axios.get("/api/admin/albums").then((function(e){t.albums=e.data}))},deleteAlbum:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Album")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/albums/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Album")+" "+e.$t("Deleted")+"."}),e.fetchAlbums()})).catch()}})},editAlbum:function(t){t?"new"===t?(this.editingAlbum={new:!0,artists:[]},this.editDialog=!0):(this.editingAlbum=t,this.editDialog=!0):(this.editDialog=!1,this.editingAlbum={})},albumEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Album")+" "+this.$t("Updated")+"."}),this.fetchAlbums()},albumCreated:function(){var t=this;this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Created"),text:this.$t("Album")+" "+this.$t("Created")+"."}),this.fetchAlbums().then((function(){t.editingAlbum=t.albums[0],t.editDialog=!0}))}}},i=(a(344),a(0)),n=a(1),o=a.n(n),r=a(150),l=a(81),c=a(105),d=a(3),u=a(872),v=a(564),p=a(75),g=a(273),m=a(274),h=a(41),f=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"albums-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.album")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editAlbum("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.albums||[],"items-per-page":25,loading:!t.albums,search:t.search},scopedSlots:t._u([{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"album-cover",attrs:{src:e.cover,alt:e.title,width:"50",height:"50"}})],1)]}},{key:"item.artists",fn:function(t){var e=t.item;return[a("artists",{attrs:{artists:e.artists}})]}},{key:"item.title",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{name:"album",params:{id:s.id}},target:"_blank"}},[t._v("\n          "+t._s(s.title)+"\n          "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editAlbum(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deleteAlbum(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.artist",fn:function(e){var s=e.item;return[s.artist?[a("router-link",{staticClass:"router-link",attrs:{to:{name:"artist",params:{id:s.artist.id}},target:"_blank"}},[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.artist.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n              "+t._s(s.artist.displayname)+"\n              "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)])]:[t._v(" - ")]]}},{key:"item.release_date",fn:function(e){var s=e.item;return[a("div",[t._v("\n          "+t._s(t.moment(s.release_date).format("ll"))+"\n        ")])]}},{key:"item.created_at",fn:function(e){var s=e.item;return[a("div",[t._v("\n          "+t._s(t.moment(s.created_at).format("ll"))+"\n        ")])]}}])})],1),t._v(" "),a("v-dialog",{attrs:{fullscreen:!t.editingAlbum.new,"max-width":"950","no-click-animation":"",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-album-dialog",{attrs:{album:t.editingAlbum,creator:"admin"},on:{beforeDestroy:t.fetchAlbums,updated:t.albumEdited,created:t.albumCreated,close:function(e){return t.editAlbum(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=f.exports;o()(f,{VAvatar:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VDataTable:u.a,VDialog:v.a,VIcon:p.a,VImg:g.a,VSpacer:m.a,VTextField:h.a})},655:function(t,e,a){"use strict";a.r(e);var s={components:{editPodcastDialog:a(125).a},data:function(){return{podcasts:null,search:"",headers:[{text:this.$t("Cover"),align:"start",sortable:!1,value:"cover"},{text:this.$t("Title"),value:"title"},{text:this.$t("Podcaster"),value:"artist",align:"center"},{text:this.$t("Followers"),value:"followers_count"},{text:this.$t("Created At"),value:"created_at"},{text:this.$t("Operations"),value:"operations",align:"center"}],editDialog:!1,editingPodcast:{}}},created:function(){this.fetchPodcasts()},methods:{fetchPodcasts:function(){var t=this;return axios.get("/api/admin/podcasts").then((function(e){t.podcasts=e.data}))},deletePodcast:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("podcast")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/podcasts/"+t).then((function(){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Podcast")+" "+e.$t("Deleted")+"."}),e.fetchPodcasts()})).catch()}})},editPodcast:function(t){t?"new"===t?(this.editingPodcast={new:!0,description:"",genres:[],artist:null},this.editDialog=!0):(this.editingPodcast=t,this.editDialog=!0):(this.editDialog=!1,this.editingPodcast={})},podcastEdited:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("Podcast")+" "+this.$t("Updated")+"."}),this.fetchPodcasts()},podcastCreated:function(){var t=this;this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Created"),text:this.$t("Podcast")+" "+this.$t("Created")+"."}),this.fetchPodcasts().then((function(){t.editingPodcast=t.podcasts[0],t.editDialog=!0}))}}},i=a(0),n=a(1),o=a.n(n),r=a(150),l=a(81),c=a(105),d=a(3),u=a(872),v=a(564),p=a(75),g=a(273),m=a(274),h=a(41),f=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"podcasts-wrapper relative"},[t.$store.getters.getSettings.enablePodcasts?t._e():a("disabled-page",{attrs:{text:t.$t("Podcasts are disabled.")}}),t._v(" "),a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.podcast")]),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editPodcast("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.podcasts||[],"items-per-page":25,loading:!t.podcasts,search:t.search},scopedSlots:t._u([{key:"item.cover",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar podcast-cover",attrs:{src:e.cover,alt:e.title,width:"50",height:"50"}})],1)]}},{key:"item.title",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{name:"podcast",params:{id:s.id}},target:"_blank"}},[t._v("\n          "+t._s(s.title)+"\n          "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editPodcast(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1),t._v(" "),a("v-btn",{attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deletePodcast(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.artist",fn:function(e){var s=e.item;return[s.artist?[a("router-link",{staticClass:"router-link",attrs:{to:{name:"artist",params:{id:s.artist.id}},target:"_blank"}},[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.artist.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n              "+t._s(s.artist.displayname)+"\n            ")])])]:[t._v(" - ")]]}},{key:"item.release_date",fn:function(e){var s=e.item;return[a("div",[t._v("\n          "+t._s(t.moment(s.release_date).format("ll"))+"\n        ")])]}},{key:"item.created_at",fn:function(e){var s=e.item;return[a("div",[t._v("\n          "+t._s(t.moment(s.created_at).format("ll"))+"\n        ")])]}}])})],1),t._v(" "),a("v-dialog",{attrs:{fullscreen:!t.editingPodcast.new,"max-width":"950","no-click-animation":"",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-podcast-dialog",{attrs:{creator:"admin",podcast:t.editingPodcast},on:{updated:t.podcastEdited,created:t.podcastCreated,close:function(e){return t.editPodcast(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=f.exports;o()(f,{VAvatar:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VDataTable:u.a,VDialog:v.a,VIcon:p.a,VImg:g.a,VSpacer:m.a,VTextField:h.a})},656:function(t,e,a){"use strict";a.r(e);var s={data:function(){return{tabs:[{text:"General",icon:"application-cog",routeName:"appearance.general"},{text:"Landing",icon:"airplane-landing",routeName:"appearance.landing"},{text:"Navigation",icon:"navigation-outline",routeName:"appearance.navigation"},{text:"Themes",icon:"palette",routeName:"appearance.themes"},{text:"Preview",icon:"eye-outline",routeName:"appearance.preview"}]}}},i=(a(346),a(0)),n=a(1),o=a.n(n),r=a(559),l=a(860),c=a(75),d=a(558),u=a(65),v=a(862),p=a(863),g=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"appearance-container"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-sheet",{attrs:{elevation:"6"}},[a("v-tabs",{attrs:{"center-active":"",grow:""}},t._l(t.tabs,(function(e){return a("v-tab",{key:e.routeName,attrs:{to:{name:e.routeName}}},[a("v-icon",{staticClass:"mr-2"},[t._v("$vuetify.icons."+t._s(e.icon))]),t._v(" "),a("span",[t._v(t._s(t.$t(e.text)))])],1)})),1)],1)],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("router-view")],1)],1)],1)],1)}),[],!1,null,null,null);e.default=g.exports;o()(g,{VCol:r.a,VContainer:l.a,VIcon:c.a,VRow:d.a,VSheet:u.a,VTab:v.a,VTabs:p.a})},657:function(t,e,a){"use strict";a.r(e);var s=a(27),i=a.n(s),n=a(68),o=a(127),r={components:{veutifySelect:n.a,imagePicker:o.a},created:function(){var t=this;this.isLoading=!0,i.a.get("/api/admin/pages-infos").then((function(e){return e.data.map((function(e){return t.playerLandingPageOptions.push(e)}))})).finally((function(){return t.isLoading=!1}))},data:function(){return{isLoading:!1,isLoadingForButton:!1,appLogo:JSON.parse(JSON.stringify(this.$store.getters.getSettings.appLogo)),appFavicon:JSON.parse(JSON.stringify(this.$store.getters.getSettings.appFavicon)),appLogoDefault:"/storage/defaults/favicon/logo.png",appFaviconDefault:"/storage/defaults/favicon/icon-192x192.png",playerLandingPageOptions:[{path:"/browse",name:this.$t("Browse")},{path:"/podcasts",name:this.$t("Podcasts")}],themes:[{text:this.$t("Dark"),value:"Dark"},{text:this.$t("Light"),value:"Light"}]}},methods:{changeTheme:function(t){this.$vuetify.theme.dark="Dark"===t},resetDefault:function(t){"logo"===t?this.appLogo=this.appLogoDefault:"favicon"===t&&(this.appFavicon=this.appFaviconDefault)},saveSettings:function(){var t=this;this.isLoadingForButton=!0;var e=new FormData;return e.append("logo",this.appLogo.file||this.appLogo),e.append("defaultTheme",this.$store.getters.getSettings.defaultTheme),e.append("playerLanding",this.$store.getters.getSettings.playerLanding),e.append("hideRightSidebar",this.$store.getters.getSettings.hideRightSidebar?1:0),e.append("enableThemeSwitcher",this.$store.getters.getSettings.enableThemeSwitcher?1:0),e.append("favicon",this.appFavicon.file||this.appFavicon),i.a.post("/api/admin/save-general-settings",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.isLoadingForButton=!1,t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings")+" "+t.$t("updated successfully.")}),setTimeout((function(){location.reload()}),300)}))}}},l=a(0),c=a(1),d=a.n(c),u=a(81),v=a(105),p=a(3),g=a(559),m=a(860),h=a(152),f=a(75),_=a(558),b=a(765),y=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("page-loading"):a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.application-cog")]),t._v("\n            "+t._s(t.$t("General"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoadingForButton},on:{click:t.saveSettings},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!1,4282660390)},[t._v(t._s(t.$t("Save"))+"\n                                     ")])],1)]),t._v(" "),a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("veutify-select",{attrs:{items:t.themes,"item-value":"value","item-text":"text","hide-details":"",label:t.$t("Default Theme"),outlined:""},on:{change:t.changeTheme},model:{value:t.$store.getters.getSettings.defaultTheme,callback:function(e){t.$set(t.$store.getters.getSettings,"defaultTheme",e)},expression:"$store.getters.getSettings.defaultTheme"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("veutify-select",{attrs:{items:t.playerLandingPageOptions,"item-value":"path","item-text":"name",label:t.$t("Home Page"),messages:t.$t("Select the landing page of your platform. You can create custom pages."),outlined:""},model:{value:t.$store.getters.getSettings.playerLanding,callback:function(e){t.$set(t.$store.getters.getSettings,"playerLanding",e)},expression:"$store.getters.getSettings.playerLanding"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-switch",{attrs:{label:t.$t("Enable theme switcher"),messages:t.$t("Offer your users the possibility to switch the theme.")+" "+t.$t("The theme switcher will show on the navbar.")},model:{value:t.$store.getters.getSettings.enableThemeSwitcher,callback:function(e){t.$set(t.$store.getters.getSettings,"enableThemeSwitcher",e)},expression:"$store.getters.getSettings.enableThemeSwitcher"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-switch",{attrs:{label:t.$t("Hide Right-sidebar")},model:{value:t.$store.getters.getSettings.hideRightSidebar,callback:function(e){t.$set(t.$store.getters.getSettings,"hideRightSidebar",e)},expression:"$store.getters.getSettings.hideRightSidebar"}})],1)],1),t._v(" "),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Images & Icons")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("image-picker",{attrs:{image_name:t.$t("Logo"),src:t.appLogo.base64||t.appLogo},on:{image:function(e){t.appLogo=e},default:function(e){return t.resetDefault("logo")}}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("image-picker",{attrs:{image_name:t.$t("Favicon"),src:t.appFavicon.base64||t.appFavicon},on:{image:function(e){t.appFavicon=e},default:function(e){return t.resetDefault("favicon")}}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=y.exports;d()(y,{VBtn:u.a,VCard:v.a,VCardTitle:p.c,VCol:g.a,VContainer:m.a,VDivider:h.a,VIcon:f.a,VRow:_.a,VSwitch:b.a})},658:function(t,e,a){"use strict";a.r(e);var s=a(12),i=a.n(s);function n(t,e,a,s,i,n,o){try{var r=t[n](o),l=r.value}catch(t){return void a(t)}r.done?e(l):Promise.resolve(l).then(s,i)}function o(t){return function(){var e=this,a=arguments;return new Promise((function(s,i){var o=t.apply(e,a);function r(t){n(o,s,i,r,l,"next",t)}function l(t){n(o,s,i,r,l,"throw",t)}r(void 0)}))}}var r={components:{imagePicker:a(127).a},created:function(){this.landingPage.sections=JSON.parse(this.landingPage.sections),this.landingPage.showContactUs=Boolean(parseInt(this.landingPage.showContactUs))},data:function(){return{isLoading:!1,headerBackground:"",headerBackgroundLayerColor:"",landingPage:JSON.parse(JSON.stringify(this.$store.getters.getSettings.landingPage))||{},defaultLandingPage:{customLandingPageHeader:"1",headerBackground:"",headerBackgroundLayerColor:"rgba(255,255,255,0)",headerTitle:"",headerDescription:"",callToAction:"Play now",sections:[],showContactUs:!0,footerTitle:"Are you an Artist? Do you want to share your content?",footerDescription:"Sign up on Muzzie now and request an Artist account. Get up to 500 MB of free space and more!",footerBackground:"/images/background.png"}}},methods:{save:function(){var t=this;return o(i.a.mark((function e(){var a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isLoading=!0,a=new FormData,!t.$store.getters.getSettings.enableLandingPage){e.next=9;break}return t.landingPage.headerBackgroundLayerColor=t.landingPage.headerBackgroundLayerColor?t.landingPage.headerBackgroundLayerColor.hexa?t.landingPage.headerBackgroundLayerColor.hexa:t.landingPage.headerBackgroundLayerColor:"",Object.keys(t.landingPage).forEach((function(e){"sections"!==e&&a.append(e,!0===t.landingPage[e]?1:!1===t.landingPage[e]?0:t.landingPage[e]||"")})),e.next=7,Promise.all(t.landingPage.sections.map(function(){var t=o(i.a.mark((function t(e){var a,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=new FormData).append("title",e.title||""),a.append("description",e.description||""),a.append("background",e.background||""),t.next=6,axios.post("/api/admin/upload-section-background",a,{headers:{"Content-Type":"multipart/form-data"}});case 6:return s=t.sent,t.abrupt("return",s.data);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:s=e.sent,a.append("sections",JSON.stringify(s));case 9:a.append("enableLandingPage",t.$store.getters.getSettings.enableLandingPage?1:0),axios.post("/api/admin/save-landing-page-settings",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Settings updated successfully.")}),setTimeout((function(){}),500)})).finally((function(){return t.isLoading=!1}));case 11:case"end":return e.stop()}}),e)})))()},newSection:function(){this.landingPage.sections||(this.landingPage.sections=[]),this.landingPage.sections.push({title:"",description:"",background:""})},deleteSection:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Section")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&e.landingPage.sections.splice(t,1)}})},reset:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna reset to default settings?")),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(e){e&&(t.isLoading=!0,t.landingPage=t.defaultLandingPage,t.save())}})}}},l=a(0),c=a(1),d=a.n(c),u=a(150),v=a(81),p=a(105),g=a(3),m=a(559),h=a(635),f=a(860),_=a(152),b=a(75),y=a(157),$=a(558),x=a(765),C=a(41),k=a(602),w=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.airplane-landing")]),t._v("\n            "+t._s(t.$t("Landing Page"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"info white--text",attrs:{small:"",disabled:t.isLoading},on:{click:t.reset}},[t._v(t._s(t.$t("Reset")))]),t._v(" "),a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoading},on:{click:t.save}},[t._v(t._s(t.$t("Save")))])],1)]),t._v(" "),a("v-container",[a("v-row",{staticClass:"pb-3"},[a("v-col",[a("v-switch",{attrs:{label:t.$t("Enable Landing Page"),messages:t.$t("The welcome page. Disable if you want the visitors to access the player directly.")},model:{value:t.$store.getters.getSettings.enableLandingPage,callback:function(e){t.$set(t.$store.getters.getSettings,"enableLandingPage",e)},expression:"$store.getters.getSettings.enableLandingPage"}})],1)],1)],1),t._v(" "),t.$store.getters.getSettings.enableLandingPage?a("v-container",[a("v-card",[a("v-card-title",[t._v(" "+t._s(t.$t("Header"))+" ")]),t._v(" "),a("v-row",{staticClass:"px-3"},[a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",label:t.$t("Call to action button")},model:{value:t.landingPage.callToAction,callback:function(e){t.$set(t.landingPage,"callToAction",e)},expression:"landingPage.callToAction"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{outlined:"",label:t.$t("Header Title")},model:{value:t.landingPage.headerTitle,callback:function(e){t.$set(t.landingPage,"headerTitle",e)},expression:"landingPage.headerTitle"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("v-textarea",{attrs:{outlined:"","hide-details":"",label:t.$t("Header Subtitle")},model:{value:t.landingPage.headerDescription,callback:function(e){t.$set(t.landingPage,"headerDescription",e)},expression:"landingPage.headerDescription"}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}},[a("image-picker",{attrs:{image_name:t.$t("Background Image"),src:"string"==typeof t.landingPage.headerBackground?t.landingPage.headerBackground:"",cogIcon:!1},on:{image:function(e){t.landingPage.headerBackground=e.file}}})],1),t._v(" "),a("v-col",{attrs:{cols:"6"}}),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.landingPage.headerBackgroundLayerColor?t.landingPage.headerBackgroundLayerColor.hexa?t.landingPage.headerBackgroundLayerColor.hexa:t.landingPage.headerBackgroundLayerColor:""}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v("\n                                        "+t._s(t.$t("Background Layer Color"))+"\n                                    ")]),t._v(" "),a("div",{staticClass:"color__details opacity-high"})]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v("\n                                                "+t._s(t.$t("Change"))+"\n                                            ")])]}}],null,!1,2440122711)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200",mode:"rgba"},model:{value:t.landingPage.headerBackgroundLayerColor,callback:function(e){t.$set(t.landingPage,"headerBackgroundLayerColor",e)},expression:"\n                                                landingPage.headerBackgroundLayerColor\n                                            "}})],1)],1)])])],1)],1)],1),t._v(" "),a("v-divider",{staticClass:"py-3"}),t._v(" "),a("v-row",{staticClass:"my-2"},[a("v-col",[a("v-card",[a("v-card-title",[t._v("\n                        "+t._s(t.$t("Sections"))+"\n                        "),a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:t.newSection}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("Add"))+"\n                        ")],1)],1),t._v(" "),a("v-container",t._l(t.landingPage.sections,(function(e,s){return a("v-row",{key:s},[a("v-col",[a("v-textarea",{attrs:{outlined:"",label:t.$t("Title")},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"section.title"}})],1),t._v(" "),a("v-col",[a("v-textarea",{attrs:{outlined:"",label:t.$t("Description")},model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"section.description"}})],1),t._v(" "),a("v-col",[a("image-picker",{attrs:{image_name:t.$t("Image")+" "+(s+1),src:"string"==typeof e.background?e.background:"",cogIcon:!1},on:{image:function(t){e.background=t.file}}})],1),t._v(" "),a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.deleteSection(s)}}},[a("v-icon",[t._v("$vuetify.icons.close")])],1)],1)})),1)],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-container",{staticClass:"my-2"},[a("v-row",[a("v-col",[a("v-switch",{attrs:{messages:t.$t("Make sure to add your SMTP credentials in the Email settings."),label:t.$t("Show Contact Us form")},model:{value:t.landingPage.showContactUs,callback:function(e){t.$set(t.landingPage,"showContactUs",e)},expression:"landingPage.showContactUs"}})],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-row",[a("v-col",[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("Footer")))]),t._v(" "),a("v-container",[a("v-row",[a("v-col",[a("v-textarea",{attrs:{outlined:"",label:t.$t("Title")},model:{value:t.landingPage.footerTitle,callback:function(e){t.$set(t.landingPage,"footerTitle",e)},expression:"landingPage.footerTitle"}})],1),t._v(" "),a("v-col",[a("v-textarea",{attrs:{outlined:"",label:t.$t("Description")},model:{value:t.landingPage.footerDescription,callback:function(e){t.$set(t.landingPage,"footerDescription",e)},expression:"landingPage.footerDescription"}})],1),t._v(" "),a("v-col",[a("image-picker",{attrs:{image_name:t.$t("Footer Background"),src:"string"==typeof t.landingPage.footerBackground?t.landingPage.footerBackground:"",cogIcon:!1},on:{image:function(e){t.landingPage.footerBackground=e.file}}})],1)],1)],1)],1)],1)],1)],1):t._e()],1)}),[],!1,null,null,null);e.default=w.exports;d()(w,{VAvatar:u.a,VBtn:v.a,VCard:p.a,VCardTitle:g.c,VCol:m.a,VColorPicker:h.a,VContainer:f.a,VDivider:_.a,VIcon:b.a,VMenu:y.a,VRow:$.a,VSwitch:x.a,VTextField:C.a,VTextarea:k.a})},659:function(t,e,a){"use strict";a.r(e);var s=a(60),i={components:{draggable:a.n(s).a},created:function(){var t=this;axios.get("/api/navigation-items").then((function(e){return t.navigationItems=e.data})),axios.get("/api/admin/pages-infos").then((function(e){return t.pages=e.data}))},data:function(){return{navigationItems:null,isLoading:!1,selectedPage:{},navigationOptions:[{text:this.$t("Custom Page"),value:"Custom Page"},{text:this.$t("Custom URL"),value:"Custom URL"}],icons:Object.keys(this.$vuetify.icons.values),pages:[]}},methods:{saveSidebarSettings:function(){var t=this;this.isLoading=!0,axios.post("/api/admin/save-navigation-items",{items:this.navigationItems}).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Sidebar")+" "+t.$t("updated successfully.")})})).finally((function(){return t.isLoading=!1}))},resetToDefault:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna reset to default settings?")),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(e){e&&(t.isLoading=!0,t.navigationItems=[],axios.post("/api/admin/reset-navigation-items").then((function(){axios.get("/api/navigation-items").then((function(e){return t.navigationItems=e.data})),t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Sidebar")+" "+t.$t("updated successfully.")})})).finally((function(){return t.isLoading=!1})))}})},deleteItem:function(t){this.navigationItems.splice(t,1)},hideItem:function(t){this.navigationItems[t].visibility=!this.navigationItems[t].visibility},addNavigationItem:function(){this.navigationItems.push({custom:1,name:"custom",path:"",icon:"link",rank:this.navigationItems[this.navigationItems.length-1]?this.navigationItems[this.navigationItems.length-1].rank+1:0,visibility:1,endpoint_protected:0,navigatesTo:null}),this.$notify({group:"foo",type:"success",title:this.$t("Added"),text:this.$t("Sidebar")+" "+this.$t("added successfully.")})}}},n=(a(360),a(0)),o=a(1),r=a.n(o),l=a(81),c=a(105),d=a(3),u=a(559),v=a(860),p=a(152),g=a(75),m=a(113),h=a(10),f=a(157),_=a(558),b=a(68),y=a(65),$=a(41),x=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.navigation-outline")]),t._v("\n            "+t._s(t.$t("Navigation"))+"\n        ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"info",attrs:{small:"",disabled:t.isLoading,loading:t.isLoading},on:{click:t.resetToDefault},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}])},[t._v(t._s(t.$t("Reset"))+"\n                ")]),t._v(" "),a("v-btn",{staticClass:"success",attrs:{small:"",width:"120",disabled:t.isLoading,loading:t.isLoading},on:{click:t.saveSidebarSettings},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}])},[t._v(t._s(t.$t("Save"))+"\n                ")])],1)]),t._v(" "),t.navigationItems?a("v-container",[a("v-row",[a("v-col",[a("div",{staticClass:"add_button"},[a("v-btn",{staticClass:"info m-2",attrs:{dark:"",small:""},on:{click:function(e){return t.addNavigationItem()}}},[a("v-icon",{staticClass:"mr-2"},[t._v("$vuetify.icons.plus")]),t._v(t._s(t.$t("New Item")))],1)],1)])],1),t._v(" "),a("v-row",[a("v-col",[a("div",{staticClass:"navigation-items-container"},[a("div",{staticClass:"sidebar-like py-3 px-5"},[a("div",{staticClass:"sidebar-list-default"},[a("draggable",{staticClass:"list-group mt-5",model:{value:t.navigationItems,callback:function(e){t.navigationItems=e},expression:"navigationItems"}},[a("transition-group",{attrs:{name:"flip-list"}},[t._l(t.navigationItems,(function(e,s){return[a("v-card",{key:s,staticClass:"item-wrapper mb-3",class:{fade:!e.visibility}},[a("v-container",[a("v-row",{staticClass:"py-2",attrs:{justify:"space-between"}},[a("div",{staticClass:"prev"},[a("v-list-item",{staticClass:"sidebar-item",attrs:{link:""}},[a("div",[a("v-icon",{attrs:{left:""}},[t._v("$vueitfy.icons."+t._s(e.icon))])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:t._s(e.name)}})],1)],1)],1),t._v(" "),a("v-icon",{attrs:{small:""}},[t._v("$vuetify.icons.cursor-move")]),t._v(" "),a("div",{staticClass:"ops"},[a("v-row",[a("v-col",[a("v-menu",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{color:"primary",dark:"",small:""}},"v-btn",i,!1),s),[a("v-icon",{attrs:{left:""}},[t._v("$vuetify.icons.tag-faces")]),t._v("\n                                                                        \n                                                                        "+t._s(t.$t("Icon"))+"\n                                                                    ")],1)]}}],null,!0)},[t._v(" "),a("v-sheet",{attrs:{height:"400px"}},[a("v-card",{attrs:{"max-width":"500px"}},[a("v-container",[a("v-row",t._l(t.icons,(function(s,i){return a("v-col",{key:i,attrs:{cols:"1"}},[a("v-icon",{staticClass:"selectable-icon p-1",on:{click:function(t){e.icon=s}}},[t._v("\n                                                                                        $vuetify.icons."+t._s(s)+"\n                                                                                    ")])],1)})),1)],1)],1)],1)],1)],1),t._v(" "),e.custom?a("v-col",[e.endpoint_protected?t._e():a("v-btn",{staticClass:"error",attrs:{small:"","max-width":"120"},on:{click:function(e){return t.deleteItem(s)}}},[a("v-icon",{attrs:{left:""}},[t._v("$vuetify.icons.delete")]),t._v("\n                                                                "+t._s(t.$t("Delete"))+"\n                                                            ")],1)],1):a("v-col",[e.visibility?[a("v-btn",{attrs:{small:"","max-width":"120",color:"info"},on:{click:function(e){return t.hideItem(s)}}},[a("v-icon",{attrs:{left:""}},[t._v("$vuetify.icons.eye-outline")]),t._v("\n                                                                    "+t._s(t.$t("Hide"))+"\n                                                                ")],1)]:[a("v-btn",{attrs:{small:"","max-width":"120",color:"info"},on:{click:function(e){return t.hideItem(s)}}},[a("v-icon",{attrs:{left:""}},[t._v("$vuetify.icons.eye-off-outline")]),t._v("\n                                                                    "+t._s(t.$t("Show"))+"\n                                                                ")],1)]],2)],1)],1)],1),t._v(" "),a("v-divider",{staticClass:"py-2"}),t._v(" "),a("v-row",[e.custom?a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-select",{staticClass:"pr-1",attrs:{items:t.navigationOptions,"hide-details":"",dense:"",outlined:"",label:t.$t("Navigates to")},on:{change:function(a){"Custom Page"===a?e.path=t.selectedPage&&t.selectedPage.name?"/page/"+t.selectedPage.name:"":(e.path="",e.endpoint_protected=0)}},model:{value:e.navigatesTo,callback:function(a){t.$set(e,"navigatesTo",a)},expression:"\n                                                                item.navigatesTo\n                                                            "}})],1):t._e(),t._v(" "),"Custom Page"===e.navigatesTo?a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-select",{staticClass:"pr-1",attrs:{items:t.pages,"hide-details":"",dense:"",outlined:"","item-text":"name",label:t.$t("Select Page"),"item-value":"id"},on:{change:function(a){e.path=t.pages.find((function(t){return t.id===a})).path,e.name=t.pages.find((function(t){return t.id===a})).name,e.icon=t.pages.find((function(t){return t.id===a})).icon}},model:{value:e.page_id,callback:function(a){t.$set(e,"page_id",a)},expression:"\n                                                                item.page_id\n                                                            "}})],1):t._e(),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-text-field",{staticClass:"pr-1",attrs:{"hide-details":"",dense:"",outlined:"",label:t.$t("Name")},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"\n                                                                item.name\n                                                            "}},[t._v(t._s(e.name))])],1),t._v(" "),a("v-col",{attrs:{cols:"6",sm:"4"}},[a("v-text-field",{staticClass:"pr-1",attrs:{"hide-details":"",dense:"",outlined:"",label:t.$t("Path"),disabled:Boolean(!e.custom)||"Custom Page"===e.navigatesTo},model:{value:e.path,callback:function(a){t.$set(e,"path",a)},expression:"\n                                                                item.path\n                                                            "}},[t._v(t._s(e.path))])],1)],1)],1)],1)]}))],2)],1)],1)])])])],1)],1):a("page-loading",{staticClass:"loading"})],1)}),[],!1,null,"ee626ec8",null);e.default=x.exports;r()(x,{VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VDivider:p.a,VIcon:g.a,VListItem:m.a,VListItemContent:h.a,VListItemTitle:h.c,VMenu:f.a,VRow:_.a,VSelect:b.a,VSheet:y.a,VTextField:$.a})},660:function(t,e,a){"use strict";a.r(e);var s={created:function(){var t=this;axios.get("/api/admin/themes").then((function(e){return t.themeColors=e.data}))},data:function(){return{isLoading:!1,themeColorsDefault:{primary:"#4245a8",secondary:"#8C366C",dark:{background:"#010d1f",text:"#ebebeb",panel:"#182131"},light:{background:"#ffffff",text:"#09021d",panel:"#f7f7f7"}},themeColors:{}}},methods:{saveColors:function(){var t=this;return this.isLoading=!0,axios.post("/api/admin/save-themes",{themes:this.themeColors}).then((function(){t.isLoading=!1,t.updateColors(t.themeColors),t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Themes")+" "+t.$t("updated successfully.")})}))},resetThemes:function(){var t=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna reset to the default settings?")),button:{no:this.$t("Cancel"),yes:this.$t("Reset")},callback:function(e){e&&(t.themeColors=JSON.parse(JSON.stringify(t.themeColorsDefault)),t.saveColors().then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Reset"),text:t.$t("Themes")+" "+t.$t("reset successfully.")})})).catch())}})}}},i=a(0),n=a(1),o=a.n(n),r=a(150),l=a(81),c=a(105),d=a(3),u=a(559),v=a(635),p=a(860),g=a(75),m=a(157),h=a(558),f=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.themeColors.primary?a("v-card",{staticClass:"page"},[a("v-card-title",[a("div",{staticClass:"page__title"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.palette")]),t._v("\n      "+t._s(t.$t("Colors"))+"\n    ")],1),t._v(" "),a("div",{staticClass:"page__options"},[a("v-btn",{staticClass:"info white--text",attrs:{small:"",disabled:t.isLoading},on:{click:t.resetThemes}},[t._v(t._s(t.$t("Reset")))]),t._v(" "),a("v-btn",{staticClass:"success",attrs:{small:"",disabled:t.isLoading},on:{click:t.saveColors}},[t._v(t._s(t.$t("Save")))])],1)]),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-row",[a("v-col",[a("v-card",{attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.primary}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Primary Color")))]),t._v(" "),a("div",{staticClass:"color__details opacity-high"},[a("small",[t._v(t._s(t.$t("For buttons,icons, nav items, active items...")))])])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v("\n                        "+t._s(t.$t("Change"))+"\n                      ")])]}}],null,!1,4028521079)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.primary,callback:function(e){t.$set(t.themeColors,"primary",e)},expression:"themeColors.primary"}})],1)],1)])])],1),t._v(" "),a("v-col",[a("v-card",{attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.secondary}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Secondary Color")))]),t._v(" "),a("div",{staticClass:"color__details opacity-high"},[a("small",[t._v(t._s(t.$t("For gradients with Prim. Color( Ex: progress bar of the player)")))])])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v("\n                        "+t._s(t.$t("Change"))+"\n                      ")])]}}],null,!1,4028521079)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.secondary,callback:function(e){t.$set(t.themeColors,"secondary",e)},expression:"themeColors.secondary"}})],1)],1)])])],1)],1)],1),t._v(" "),a("v-col",{attrs:{lg:"6",md:"6",sm:"12"}},[a("div",{staticClass:"card-title-medium"},[t._v(t._s(t.$t("Dark Theme")))]),t._v(" "),a("v-card",{staticClass:"mb-2",attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.dark.background}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Background Color")))])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v(" "+t._s(t.$t("Change"))+" ")])]}}],null,!1,464896951)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.dark.background,callback:function(e){t.$set(t.themeColors.dark,"background",e)},expression:"themeColors.dark.background"}})],1)],1)])]),t._v(" "),a("v-card",{staticClass:"mb-2",attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.dark.panel}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Panel Color")))]),t._v(" "),a("div",{staticClass:"color__details opacity-high"},[a("small",[t._v(t._s(t.$t("Chat, Friendlist...etc")))])])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v(" "+t._s(t.$t("Change"))+" ")])]}}],null,!1,464896951)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.dark.panel,callback:function(e){t.$set(t.themeColors.dark,"panel",e)},expression:"themeColors.dark.panel"}})],1)],1)])]),t._v(" "),a("v-card",{staticClass:"mb-2",attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.dark.text}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Text Color")))])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v(" "+t._s(t.$t("Change"))+" ")])]}}],null,!1,464896951)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.dark.text,callback:function(e){t.$set(t.themeColors.dark,"text",e)},expression:"themeColors.dark.text"}})],1)],1)])])],1),t._v(" "),a("v-col",{attrs:{lg:"6",md:"6",sm:"12"}},[a("div",{staticClass:"card-title-medium"},[t._v(t._s(t.$t("Light Theme")))]),t._v(" "),a("v-card",{staticClass:"mb-2",attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.light.background}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Background Color")))])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v(" "+t._s(t.$t("Change"))+" ")])]}}],null,!1,464896951)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.light.background,callback:function(e){t.$set(t.themeColors.light,"background",e)},expression:"themeColors.light.background"}})],1)],1)])]),t._v(" "),a("v-card",{staticClass:"mb-2",attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.light.panel}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Panel Color")))]),t._v(" "),a("div",{staticClass:"color__details opacity-high"},[a("small",[t._v(t._s(t.$t("Chat, Friendlist...etc")))])])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v(" "+t._s(t.$t("Change"))+" ")])]}}],null,!1,464896951)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.light.panel,callback:function(e){t.$set(t.themeColors.light,"panel",e)},expression:"themeColors.light.panel"}})],1)],1)])]),t._v(" "),a("v-card",{staticClass:"mb-2",attrs:{outlined:""}},[a("div",{staticClass:"color flex align-center p-2"},[a("div",{staticClass:"color__sample mr-2"},[a("v-avatar",{attrs:{size:"35",color:t.themeColors.light.text}})],1),t._v(" "),a("div",{staticClass:"color__details"},[a("div",{staticClass:"color__name"},[t._v(t._s(t.$t("Text Color")))])]),t._v(" "),a("div",{staticClass:"color__picker ml-auto"},[a("v-menu",{attrs:{top:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({attrs:{text:"",small:""}},"v-btn",i,!1),s),[t._v(" "+t._s(t.$t("Change"))+" ")])]}}],null,!1,464896951)},[t._v(" "),a("v-color-picker",{attrs:{"dot-size":"25","swatches-max-height":"200"},model:{value:t.themeColors.light.text,callback:function(e){t.$set(t.themeColors.light,"text",e)},expression:"themeColors.light.text"}})],1)],1)])])],1)],1)],1)],1):a("page-loading")}),[],!1,null,null,null);e.default=f.exports;o()(f,{VAvatar:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VColorPicker:v.a,VContainer:p.a,VIcon:g.a,VMenu:m.a,VRow:h.a})},661:function(t,e,a){"use strict";a.r(e);var s=a(128),i=a(266);function n(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var r={components:{SelectUsers:s.a,TextEditor:function(){return a.e(16).then(a.bind(null,694))},SelectArtists:i.default},data:function(){return{contactOptions:[{text:this.$t("All Users"),value:"all_users"},{text:this.$t("All Artists"),value:"all_artists"},{text:this.$t("Specific Users"),value:"specific_users"},{text:this.$t("Specific Artists"),value:"specific_artists"}],contact:{to:null,title:"",message:"",usersToBeContacted:[]},loading:!1,sent:!1}},methods:{sendMessage:function(){var t=this;this.loading=!0,axios.post("/api/admin/contact",function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?n(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.contact)).then((function(){t.loading=!1,t.sent=!0,t.$notify({group:"foo",type:"success",title:t.$t("Sent"),text:t.$t("Message")+" "+t.$t("sent successfully.")})})).catch((function(){t.loading=!1,t.$notify({group:"foo",type:"error",title:t.$t("Error"),text:t.$t("Some error occurred. Please try again!")})}))}}},l=a(0),c=a(1),d=a.n(c),u=a(81),v=a(105),p=a(3),g=a(559),m=a(860),h=a(152),f=a(558),_=a(68),b=a(765),y=a(41),$=Object(l.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"800px",outlined:""}},[a("v-card-title",[t._v(t._s(t.$t("Contact")))]),t._v(" "),a("div",{staticClass:"card-body pb-3"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{items:t.contactOptions,outlined:"","item-text":"text","item-value":"value",label:t.$t("Send to"),"hide-details":""},model:{value:t.contact.to,callback:function(e){t.$set(t.contact,"to",e)},expression:"contact.to"}})],1),t._v(" "),"specific_users"===t.contact.to?[a("v-col",{attrs:{cols:"12"}},[a("select-users",{attrs:{multiple:!0,users:t.contact.usersToBeContacted},on:{users:function(e){t.contact.usersToBeContacted=e}}})],1)]:t._e(),t._v(" "),"specific_artists"===t.contact.to?[a("v-col",{attrs:{cols:"12"}},[a("select-artists",{attrs:{multiple:!0,engines:"local",artists:t.contact.usersToBeContacted},on:{artists:function(e){t.contact.usersToBeContacted=e}}})],1)]:t._e(),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:t.$t("Title"),outlined:""},model:{value:t.contact.title,callback:function(e){t.$set(t.contact,"title",e)},expression:"contact.title"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"message py-2"},[a("div",{staticClass:"title"},[t._v(t._s(t.$t("Message")))]),t._v(" "),a("v-divider")],1),t._v(" "),a("TextEditor",{attrs:{placeholder:t.$t("Add your message here"),initialContent:t.contact.message},on:{content:function(e){t.contact.message=e}}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-switch",{attrs:{label:t.$t("Mark As Important Message")},model:{value:t.contact.important,callback:function(e){t.$set(t.contact,"important",e)},expression:"contact.important"}})],1)],2),t._v(" "),a("v-row",[a("v-col",{staticClass:"text-center"},[a("v-btn",{staticClass:"success py-3",attrs:{"min-width":"100",disabled:t.sent||t.loading,loading:t.loading},on:{click:t.sendMessage}},[t._v(t._s(t.$t("Send")))])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=$.exports;d()($,{VBtn:u.a,VCard:v.a,VCardTitle:p.c,VCol:g.a,VContainer:m.a,VDivider:h.a,VRow:f.a,VSelect:_.a,VSwitch:b.a,VTextField:y.a})},662:function(t,e,a){"use strict";a.r(e);var s=a(49),i=(a(116),a(27)),n=a.n(i),o={components:{swiper:s.swiper,swiperSlide:s.swiperSlide},created:function(){this.fetchLangs()},data:function(){return{newTranslation:{key:"",value:""},activatingLangLoading:!1,search:"",headers:[{text:this.$t("Key"),value:"key",sortable:!1},{text:this.$t("Translation"),value:"value",sortable:!1},{text:this.$t("Operations"),value:"delete",sortable:!1}],editMessageDialog:!1,createLangDialog:!1,locales:[],messages:[],currentLocale:null,editedLang:{name:"",similar:{locale:"en",name:"English"},new:!0,status:!0,isDefault:!1},isSaveLocalesLoading:!1,isUpdateMessagesLoading:!1,createLangDialogLoading:!1,isDataLoading:!0,swiperOptions:{slidesPerView:1,spaceBetween:20,slidesPerColumn:2,breakpoints:{1920:{slidesPerView:4,spaceBetweenSlides:10},1680:{slidesPerView:4,spaceBetweenSlides:10},1300:{slidesPerView:3,spaceBetweenSlides:10},1050:{slidesPerView:2,spaceBetweenSlides:10},500:{slidesPerView:1,spaceBetweenSlides:10}}},flagsPath:"/storage/defaults/icons/flags/"}},methods:{fetchLangs:function(){var t=this;return n.a.get("/api/admin/locales/language").then((function(e){t.locales=e.data,t.currentLocale=t.locales.find((function(t){return t.isDefault})).locale,t.fetchMessages(t.currentLocale)})).then((function(){return t.locales.sort((function(t,e){return t.isDefault?-1:e.isDefault?1:0}))}))},createLang:function(){var t=this;this.createLangDialogLoading=!0,n.a.post("/api/admin/locales/language",{name:this.editedLang.name,locale:this.editedLang.name,similar:this.editedLang.similar,status:1,isDeletable:1,isDefault:this.editedLang.isDefault}).then((function(e){t.fetchLangs(),t.currentLocale=e.data.locale,t.fetchMessages(t.currentLocale)})).finally((function(){t.createLangDialogLoading=!1,t.editedLang={},t.editedLang.new=!0,t.createLangDialog=!1}))},setupEditLangDialog:function(t){this.editedLang={new:!1,similar:null,name:t.name,status:t.status,isDefault:t.isDefault,id:t.id},this.createLangDialog=!0},editLang:function(){var t=this;this.createLangDialogLoading=!0,n.a.post("/api/admin/locales/language/"+this.editedLang.id+"/update",{name:this.editedLang.name,status:this.editedLang.status,isDefault:this.editedLang.isDefault}).then((function(e){t.fetchLangs(),t.editedLang.isDefault&&localStorage.setItem("pref-locale",e.data.locale),t.currentLocale=e.data.locale,t.fetchMessages(t.currentLocale),setTimeout((function(){location.reload()}),500)})).finally((function(){t.editedLang={},t.editedLang.new=!0,t.createLangDialogLoading=!1,t.createLangDialog=!1}))},activateLanguage:function(t){var e=this;this.activatingLangLoading=!0,n.a.post("/api/admin/locales/activate-language/"+t.id).then((function(){e.switchLang(t.locale),e.locales.find((function(e){return t.id===e.id})).status=1,e.$notify({group:"foo",type:"success",title:e.$t("Activated"),text:e.$t("Language")+" "+e.$t("activated successfully.")})})).finally((function(){e.activatingLangLoading=!1}))},deleteLang:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("Language")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&n.a.delete("/api/admin/locales/language/"+t.id).then((function(t){e.fetchLangs(),e.currentLocale=t.data.locale,e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Language")+" "+e.$t("deleted successfully.")})}))}})},addMessage:function(){this.messages.unshift({key:this.newTranslation.key,value:this.newTranslation.value,locale:this.currentLocale,group:"_json",status:1}),this.editMessageDialog=!1,this.newTranslation={}},deleteTrans:function(t){var e=this.messages.findIndex((function(e){return e.id===t.id}));this.messages[e].status=-1},switchLang:function(t){this.currentLocale=t,this.fetchMessages(t)},fetchMessages:function(t){var e=this;this.isDataLoading=!0,n.a.get("/api/admin/locales/"+t+"/messages").then((function(t){return e.messages=t.data})).finally((function(){return e.isDataLoading=!1}))},updateMessages:function(){var t=this;this.isUpdateMessagesLoading=!0,n.a.post("/api/admin/locales/save-messages/"+this.currentLocale,{messages:this.messages}).then((function(e){t.$notify({group:"foo",type:"success",title:t.$t("Updated"),text:t.$t("Messages")+" "+t.$t("updated successfully.")}),t.messages=e.data})).finally((function(){return t.isUpdateMessagesLoading=!1}))},resetEditDialog:function(){this.editedLang={},this.editedLang.new=!0,this.createLangDialog=!1}}},r=(a(364),a(0)),l=a(1),c=a.n(l),d=a(81),u=a(105),v=a(3),p=a(860),g=a(872),m=a(564),h=a(75),f=a(273),_=a(68),b=a(274),y=a(765),$=a(41),x=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",{staticClass:"justify-space-between"},[a("div",{staticClass:"left"},[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.translate")]),t._v(" "),t.hasPermission("CED translations")?a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){t.createLangDialog=!0}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New Language"))+"\n                ")],1):t._e()],1)]),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card",{staticClass:"p-3 my-3",attrs:{outlined:""}},[a("v-container",{staticClass:"pb-4"},[a("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions,slidesPerColumn:2}},[t._l(t.locales,(function(e,s){return a("swiper-slide",{key:s},[-1==e.status?a("div",{staticClass:"disabledCoverLayer px-1 py-2"},[a("v-btn",{attrs:{color:"success",loading:t.activatingLangLoading,width:"150px"},on:{click:function(a){return a.stopPropagation(),t.activateLanguage(e)}},scopedSlots:t._u([{key:"loader",fn:function(){return[t._v("\n                                "+t._s(t.$t("Please wait"))+"\n                                "),a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}],null,!0)},[t._v("\n                            "+t._s(t.$t("Activate"))+"\n                            ")])],1):t._e(),t._v(" "),a("div",{staticClass:"px-1 py-2",class:{disabledCard:-1==e.status}},[a("v-card",{attrs:{hover:"",link:""},on:{click:function(a){return t.switchLang(e.locale)}}},[e.locale===t.currentLocale?a("div",{staticClass:"absolute fill active-layer"}):t._e(),t._v(" "),a("div",{staticClass:"d-flex px-3 py-2"},[a("div",{staticClass:"details  align-center"},[a("v-img",{attrs:{"max-width":"40",src:t.flagsPath+e.flag+".svg"}}),t._v(" "),a("div",{staticClass:"ml-2"},[a("div",{staticClass:"title language-title"},[t._v("\n                                            "+t._s(e.name)+"\n                                        ")]),t._v(" "),a("div",{staticClass:"sub"},[t._v("\n                                            "+t._s(e.locale)+"\n                                        ")])])],1),t._v(" "),a("v-card-actions",{staticClass:"top-right"},[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(a){return a.stopPropagation(),t.setupEditLangDialog(e)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1)],1),t._v(" "),e.isDeletable?a("v-card-actions",{staticClass:"bottom-right"},[a("v-btn",{attrs:{"x-small":"",icon:"",color:"error"},on:{click:function(a){return a.stopPropagation(),t.deleteLang(e)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"status pb-2 pl-2"},[e.isDefault?a("v-btn",{attrs:{"x-small":"",outlined:"",dense:"",color:"primary"}},[t._v(t._s(t.$t("Default")))]):t._e(),t._v(" "),1==e.status?a("v-btn",{attrs:{"x-small":"",outlined:"",dense:"",color:"success"}},[t._v(t._s(t.$t("Activated")))]):a("v-btn",{attrs:{"x-small":"",outlined:"",dense:"",color:"error"}},[t._v(t._s(t.$t("Deactivated")))])],1)])],1)])})),t._v(" "),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)],1),t._v(" "),a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-card-actions",[t.hasPermission("Create artists")?a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){t.editMessageDialog=!0}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New Translation"))+"\n                ")],1):t._e(),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{small:"",color:"success",loading:t.isUpdateMessagesLoading,disabled:t.isUpdateMessagesLoading},on:{click:t.updateMessages},scopedSlots:t._u([{key:"loader",fn:function(){return[a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[t._v("$vuetify.icons.cached")])],1)]},proxy:!0}])},[t._v("\n                    "+t._s(t.$t("Update"))+"\n                ")])],1),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search Translation"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.messages.filter((function(t){return-1!==t.status})),"items-per-page":100,search:t.search,loading:t.isDataLoading},scopedSlots:t._u([{key:"item.delete",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",icon:""},on:{click:function(e){return t.deleteTrans(s)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1)]}},{key:"item.value",fn:function(e){var s=e.item;return[a("v-text-field",{attrs:{"hide-details":""},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"item.value"}})]}}])}),t._v(" "),a("v-dialog",{attrs:{"max-width":"500",persistent:t.createLangDialogLoading},on:{"click:outside":function(e){!t.createLangDialogLoading&&t.resetEditDialog}},model:{value:t.createLangDialog,callback:function(e){t.createLangDialog=e},expression:"createLangDialog"}},[t.createLangDialog?a("edit-dialog",{attrs:{callToActionText:"Save",loading:t.createLangDialogLoading,title:t.editedLang.new?t.$t("Add New Language"):t.$t("Edit Language")},on:{callToAction:function(e){t.editedLang.new?t.createLang():t.editLang()},cancel:t.resetEditDialog},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",[a("v-container",[a("v-text-field",{attrs:{label:t.$t("Name"),name:"locale",outlined:""},model:{value:t.editedLang.name,callback:function(e){t.$set(t.editedLang,"name",e)},expression:"editedLang.name"}}),t._v(" "),t.editedLang.new?a("v-select",{attrs:{label:t.$t("Select Similar Language"),messages:"Select a similar language to fill the translations.",items:t.locales,"item-value":"locale","item-text":"name",outlined:""},model:{value:t.editedLang.similar,callback:function(e){t.$set(t.editedLang,"similar",e)},expression:"editedLang.similar"}}):t._e(),t._v(" "),a("v-switch",{attrs:{label:t.$t("Active")},on:{change:function(e){!e&&(t.editedLang.isDefault=!1)}},model:{value:t.editedLang.status,callback:function(e){t.$set(t.editedLang,"status",e)},expression:"editedLang.status"}}),t._v(" "),t.editedLang.status?a("v-switch",{attrs:{label:t.$t("Default")},model:{value:t.editedLang.isDefault,callback:function(e){t.$set(t.editedLang,"isDefault",e)},expression:"editedLang.isDefault"}}):t._e()],1)],1)]},proxy:!0}],null,!1,2690311752)}):t._e()],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.editMessageDialog,callback:function(e){t.editMessageDialog=e},expression:"editMessageDialog"}},[a("edit-dialog",{attrs:{callToActionText:"Add",loading:!1,title:t.$t("Add New Translation")},on:{callToAction:function(e){return t.addMessage(e)},cancel:function(e){t.editMessageDialog=!1}},scopedSlots:t._u([{key:"body",fn:function(){return[a("v-container",[a("v-text-field",{attrs:{label:t.$t("key")},model:{value:t.newTranslation.key,callback:function(e){t.$set(t.newTranslation,"key",e)},expression:"newTranslation.key"}}),t._v(" "),a("v-text-field",{attrs:{label:t.$t("value")},model:{value:t.newTranslation.value,callback:function(e){t.$set(t.newTranslation,"value",e)},expression:"newTranslation.value"}})],1)]},proxy:!0}])})],1)],1)],1)}),[],!1,null,"3f377038",null);e.default=x.exports;c()(x,{VBtn:d.a,VCard:u.a,VCardActions:v.a,VCardTitle:v.c,VContainer:p.a,VDataTable:g.a,VDialog:m.a,VIcon:h.a,VImg:f.a,VSelect:_.a,VSpacer:b.a,VSwitch:y.a,VTextField:$.a})},663:function(t,e,a){"use strict";a.r(e);var s={components:{editArtistDialog:a(123).a},data:function(){return{artists:null,search:"",headers:[{text:this.$t("Avatar"),sortable:!1,value:"picture"},{text:this.$t("Displayname"),value:"displayname"},{text:this.$t("Firstname"),value:"firstname"},{text:this.$t("Lastname"),value:"lastname"},{text:this.$t("User Account"),value:"user",align:"center"},{text:this.$t("Followers"),value:"nb_followers",align:"center"},{text:this.$t("Albums"),value:"nb_albums",align:"center"},{text:this.$t("Operations"),value:"operations"}],editDialog:!1,editingArtist:null}},created:function(){this.fetchArtists()},methods:{fetchArtists:function(){var t=this;axios.get("/api/admin/artists").then((function(e){t.artists=e.data}))},deleteArtist:function(t){var e=this;this.$confirm({message:"".concat(this.$t("Are you sure you wanna delete this")+" "+this.$t("artist")+"?"),button:{no:this.$t("No"),yes:this.$t("Yes")},callback:function(a){a&&axios.delete("/api/admin/artists/"+t).then((function(t){e.$notify({group:"foo",type:"success",title:e.$t("Deleted"),text:e.$t("Artist")+" "+e.$t("Deleted")+"."}),e.fetchArtists()})).catch()}})},editArtist:function(t){t?"new"===t?(this.editingArtist={new:!0},this.editDialog=!0):(this.editingArtist=t,this.editDialog=!0):(this.editDialog=!1,this.editingArtist=null)},artistUpdated:function(){this.editDialog=!1,this.$notify({group:"foo",type:"success",title:this.$t("Saved"),text:this.$t("User")+" "+this.$t("Updated")+"."}),this.fetchArtists()}}},i=a(0),n=a(1),o=a.n(n),r=a(150),l=a(81),c=a(105),d=a(3),u=a(872),v=a(564),p=a(75),g=a(273),m=a(274),h=a(41),f=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"artists-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.account-music")]),t._v(" "),t.hasPermission("create artists")?a("v-btn",{staticClass:"mx-2",attrs:{dark:"",small:"",color:"primary"},on:{click:function(e){return t.editArtist("new")}}},[a("v-icon",[t._v("$vuetify.icons.plus")]),t._v(" "+t._s(t.$t("New"))+"\n      ")],1):t._e(),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.artists||[],search:t.search,"items-per-page":25,loading:!t.artists},scopedSlots:t._u([{key:"item.displayname",fn:function(e){var s=e.item;return[a("router-link",{staticClass:"router-link",attrs:{to:{name:"artist",params:{id:s.id}},target:"_blank"}},[t._v("\n          "+t._s(s.displayname)+"\n          "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)]}},{key:"item.picture",fn:function(t){var e=t.item;return[a("div",{staticClass:"img-container py-2"},[a("v-img",{staticClass:"user-avatar artist-avatar",attrs:{src:e.avatar,alt:e.name,width:"50",height:"50"}})],1)]}},{key:"item.user",fn:function(e){var s=e.item;return[s.user?[a("router-link",{staticClass:"router-link",attrs:{to:{name:"artist",params:{id:s.id}},target:"_blank"}},[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.user.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n              "+t._s(s.user.email)+"\n              "),a("v-icon",{staticClass:"mb-1 ml-1",attrs:{"x-small":""}},[t._v("$vuetify.icons.open-in-new")])],1)])]:[t._v(" - ")]]}},{key:"item.firstname",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.firstname||"-")+"\n      ")]}},{key:"item.lastname",fn:function(e){var a=e.item;return[t._v("\n        "+t._s(a.lastname||"-")+"\n      ")]}},{key:"item.operations",fn:function(e){var s=e.item;return[t.hasPermission("Edit artists")?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"info"},on:{click:function(e){return t.editArtist(s)}}},[a("v-icon",[t._v("$vuetify.icons.pencil")])],1):t._e(),t._v(" "),t.hasPermission("Delete artists")?a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",fab:"",dark:"",color:"error"},on:{click:function(e){return t.deleteArtist(s.id)}}},[a("v-icon",[t._v("$vuetify.icons.delete")])],1):t._e()]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"1200"},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[t.editDialog?a("edit-artist-dialog",{attrs:{artist:t.editingArtist},on:{updated:t.artistUpdated,close:function(e){return t.editArtist(null)}}}):t._e()],1)],1)}),[],!1,null,null,null);e.default=f.exports;o()(f,{VAvatar:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VDataTable:u.a,VDialog:v.a,VIcon:p.a,VImg:g.a,VSpacer:m.a,VTextField:h.a})},664:function(t,e,a){"use strict";a.r(e);var s=a(68),i={components:{VuetifySelect:s.a},data:function(){return{isLoading:!1,rect_ad:{code:this.parseAd(this.$store.getters.getSettings.rect_ad).code,position:this.parseAd(this.$store.getters.getSettings.rect_ad).position,positions:[{text:this.$t("Top of content pages"),value:"tcp"},{text:this.$t("Bottom of content pages"),value:"bcp"}],showInfoDialog:!1},square_ad:{code:this.parseAd(this.$store.getters.getSettings.square_ad).code,position:this.parseAd(this.$store.getters.getSettings.square_ad).position,positions:[{text:this.$t("Top of the right-sidebar"),value:"trs"},{text:this.$t("Bottom of right-sidebar"),value:"brs"}],showInfoDialog:!1}}},methods:{save:function(){var t=this;this.isLoading=!0;var e=this.$store.getters.getSettings.enableAds,a={code:this.rect_ad.code,position:this.rect_ad.position},s={code:this.square_ad.code,position:this.square_ad.position};axios.post("/api/admin/save-ads",{enableAds:e,rect_ad:a,square_ad:s}).then((function(){t.$notify({group:"foo",type:"success",title:t.$t("Saved"),text:t.$t("Saved successfully.")}),location.reload()})).finally((function(){return t.isLoading=!1}))}}},n=(a(366),a(0)),o=a(1),r=a.n(o),l=a(81),c=a(105),d=a(3),u=a(559),v=a(860),p=a(564),g=a(75),m=a(273),h=a(558),f=a(274),_=a(765),b=a(602),y=Object(n.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"advertising-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.google-ads")]),t._v(" "),a("div",{staticClass:"advertising-wrapper__title"},[t._v("\n                "+t._s(t.$t("Advertisements"))+"\n            ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"success",disabled:t.isLoading},on:{click:t.save}},[t._v(t._s(t.$t("Save")))])],1),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"21"}},[a("v-switch",{attrs:{label:t.$t("Enable Ads")},model:{value:t.$store.getters.getSettings.enableAds,callback:function(e){t.$set(t.$store.getters.getSettings,"enableAds",e)},expression:"$store.getters.getSettings.enableAds"}})],1)],1),t._v(" "),a("row"),t._v(" "),t.$store.getters.getSettings.enableAds?a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}}),t._v("\n                            Leaderboard Ad\n                            "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"info"},on:{click:function(e){t.rect_ad.showInfoDialog=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n                                    $vuetify.icons.help\n                                ")])],1)],1),t._v(" "),a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:t.$t("Ad code"),outlined:"",messages:""},model:{value:t.rect_ad.code,callback:function(e){t.$set(t.rect_ad,"code",e)},expression:"rect_ad.code"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-select",{attrs:{label:t.$t("position"),items:t.rect_ad.positions,"item-text":"text","item-value":"value"},model:{value:t.rect_ad.position,callback:function(e){t.$set(t.rect_ad,"position",e)},expression:"rect_ad.position"}})],1)],1)],1)],1)],1),t._v(" "),a("v-col",{attrs:{cols:"12"}},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}}),t._v("\n                            Square Ad\n                            "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"","x-small":"",color:"info"},on:{click:function(e){t.square_ad.showInfoDialog=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("\n                                    $vuetify.icons.help\n                                ")])],1)],1),t._v(" "),a("v-container",[a("v-row",[a("v-col",{staticClass:"p-2",attrs:{cols:"12"}},[a("v-textarea",{attrs:{label:t.$t("Ad code"),outlined:""},model:{value:t.square_ad.code,callback:function(e){t.$set(t.square_ad,"code",e)},expression:"square_ad.code"}}),t._v(" "),a("v-select",{attrs:{label:t.$t("position"),items:t.square_ad.positions,"item-text":"text","item-value":"value"},model:{value:t.square_ad.position,callback:function(e){t.$set(t.square_ad,"position",e)},expression:"square_ad.position"}})],1)],1)],1)],1)],1)],1):t._e()],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"950"},model:{value:t.rect_ad.showInfoDialog,callback:function(e){t.$set(t.rect_ad,"showInfoDialog",e)},expression:"rect_ad.showInfoDialog"}},[a("v-card",[a("v-img",{attrs:{src:"/storage/defaults/images/ads/ad_leaderboard_preview.png",alt:"ad_leaderboard_preview",width:"100%"}})],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"950"},model:{value:t.square_ad.showInfoDialog,callback:function(e){t.$set(t.square_ad,"showInfoDialog",e)},expression:"square_ad.showInfoDialog"}},[a("v-card",[a("v-img",{attrs:{src:"/storage/defaults/images/ads/ad_square_preview.png",alt:"ad_square_preview",width:"100%"}})],1)],1)],1)}),[],!1,null,null,null);e.default=y.exports;r()(y,{VBtn:l.a,VCard:c.a,VCardTitle:d.c,VCol:u.a,VContainer:v.a,VDialog:p.a,VIcon:g.a,VImg:m.a,VRow:h.a,VSelect:s.a,VSpacer:f.a,VSwitch:_.a,VTextarea:b.a})},665:function(t,e,a){"use strict";a.r(e);var s={mixins:[a(23).a],data:function(){return{sales:null,search:"",headers:[{text:this.$t("User"),value:"user",align:"center"},{text:this.$t("Total"),value:"total_price",align:"center"},{text:this.$t("Gateway"),value:"gateway",align:"center"},{text:this.$t("Details"),value:"operations",align:"center"}],detailsDialog:!1,sale:null}},created:function(){this.fetchSales()},methods:{fetchSales:function(){var t=this;axios.get("/api/admin/sales").then((function(e){t.sales=e.data}))}}},i=a(0),n=a(1),o=a.n(n),r=a(150),l=a(81),c=a(105),d=a(3),u=a(860),v=a(872),p=a(564),g=a(152),m=a(75),h=a(273),f=a(113),_=a(155),b=a(10),y=a(558),$=a(554),x=a(274),C=a(41),k=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sales-wrapper"},[a("v-card",{attrs:{outlined:""}},[a("v-card-title",[a("v-icon",{attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.shopping")]),t._v(" "+t._s(t.$t("Sales"))+"\n             "),a("v-spacer"),t._v(" "),a("v-spacer"),t._v(" "),a("div",{staticClass:"admin-search-bar"},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:t.$t("Search"),"single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{"no-data-text":t.$t("No data available"),"loading-text":t.$t("Fetching data")+"...",headers:t.headers,items:t.sales||[],"items-per-page":25,loading:!t.sales},scopedSlots:t._u([{key:"item.user",fn:function(e){var s=e.item;return[s.user?[a("div",{staticClass:"avatar"},[a("v-avatar",{attrs:{size:"35"}},[a("v-img",{attrs:{src:s.user.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"artist-name"},[t._v("\n                         "+t._s(s.user.email)+"\n                     ")])]:t._e()]}},{key:"item.total_price",fn:function(e){var s=e.item;return[a("div",{staticClass:"order-price success--text bold"},[t._v("\n                     "+t._s(t.price(s.total_price)+t.defaultCurrency.symbol)+"\n                 ")])]}},{key:"item.gateway",fn:function(e){var s=e.item;return["paypal"==s.gateway?[a("div",{staticClass:"justify-center"},[a("v-img",{attrs:{"max-width":"80",src:"/storage/defaults/images/billing/paypal-logo.png"}})],1)]:"stripe"==s.gateway?[a("div",{staticClass:"justify-center"},[a("v-img",{attrs:{"max-width":"80",src:"/storage/defaults/images/billing/stripe.png"}})],1)]:[t._v("\n                     -\n                 ")]]}},{key:"item.operations",fn:function(e){var s=e.item;return[a("v-btn",{attrs:{"x-small":"",fab:"",color:"info"},on:{click:function(e){t.sale=s,t.detailsDialog=!0}}},[a("v-icon",[t._v("$vuetify.icons.file-find")])],1)]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}},[t.sale?a("v-card",[a("v-card-title",[t._v("\n                 "+t._s(t.$t("Sale details"))+"\n             ")]),t._v(" "),a("div",{staticClass:"p-3"},[a("div",{attrs:{cols:"12"}},[t._v("\n                         "+t._s(t.$t("Buyer"))+"\n                         "),a("v-divider")],1),t._v(" "),a("div",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex align-center"},[a("div",{staticClass:"user-avatar"},[a("v-avatar",{attrs:{size:"60"}},[a("v-img",{attrs:{src:t.sale.user.avatar}})],1)],1),t._v(" "),a("div",{staticClass:"user-details p-2 pl-3"},[a("v-container",[a("v-row",{attrs:{align:"center"}},[a("div",{staticClass:"name"},[a("strong",[t._v(t._s(t.$t("Name"))+":\n                                             ")]),t._v("\n                                             "+t._s(t.sale.user.name)+"\n                                         ")])]),t._v(" "),a("v-row",[a("div",{staticClass:"email"},[a("strong",[t._v(t._s(t.$t("Email"))+":\n                                             ")]),t._v("\n                                             "+t._s(t.sale.user.email)+"\n                                         ")])])],1)],1)])]),t._v(" "),a("div",{staticClass:"pt-3"},[t._v("\n                         "+t._s(t.$t("Bought items"))+"\n                         "),a("v-divider")],1),t._v(" "),a("div",{attrs:{cols:"12"}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[t._v("\n                                             Product\n                                         ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                             License\n                                         ")]),t._v(" "),a("th",{staticClass:"text-left"},[t._v("\n                                             Payed\n                                         ")])])]),t._v(" "),a("tbody",t._l(t.sale.products,(function(e,s){return a("tr",{key:s},[a("td",[a("v-list-item",[a("v-list-item-avatar",{staticClass:"asset-shadow",attrs:{width:"35",height:"35",rounded:"0"}},[a("img",{attrs:{src:e.item.cover}})]),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.item.title))]),t._v(" "),a("v-list-item-subtitle",[t._v(t._s(t.getMainArtist(e.item)))])],1)],1)],1),t._v(" "),a("td",[t._v(t._s(e.price.name))]),t._v(" "),a("td",[a("div",{staticClass:"price success--text bold"},[t._v("\n                                                 "+t._s(t.price(e.price.amount)+e.price.currency_symbol)+"\n                                             ")])])])})),0)]},proxy:!0}],null,!1,399454377)})],1)])],1):t._e()],1)],1)}),[],!1,null,null,null);e.default=k.exports;o()(k,{VAvatar:r.a,VBtn:l.a,VCard:c.a,VCardTitle:d.c,VContainer:u.a,VDataTable:v.a,VDialog:p.a,VDivider:g.a,VIcon:m.a,VImg:h.a,VListItem:f.a,VListItemAvatar:_.a,VListItemContent:b.a,VListItemSubtitle:b.b,VListItemTitle:b.c,VRow:y.a,VSimpleTable:$.a,VSpacer:x.a,VTextField:C.a})},707:function(t,e,a){"use strict";a.r(e);a(362);var s=a(0),i=a(1),n=a.n(i),o=a(105),r=Object(s.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("v-card",[e("div",{staticClass:"iframe-container"},[e("iframe",{attrs:{src:"/home",width:"100%",height:"100%"}})])])}),[],!1,null,null,null);e.default=r.exports;n()(r,{VCard:o.a})},88:function(t,e,a){"use strict";var s=a(12),i=a.n(s);function n(t,e,a,s,i,n,o){try{var r=t[n](o),l=r.value}catch(t){return void a(t)}r.done?e(l):Promise.resolve(l).then(s,i)}var o={components:{purchaseBtn:a(83).a},props:{section:{type:Object},contentLoading:{type:Boolean},content:{type:Object},isOnEditPage:{type:Boolean},isOnSectionEdit:{type:Boolean},isEndpoint:{type:Boolean},showEmpty:{type:Boolean}},created:function(){this.content?(this.contentLength=this.content.length,this.$emit("contentLength",this.content.length)):this.getContent()},computed:{mo7tawa:function(){return this.content&&this.content.length?this.content:this.contents&&this.contents.length?this.contents:[]}},data:function(){return{contents:[],contentLength:0,isContentLoading:!1,serverError:!1}},watch:{content:function(t){this.contents=t}},methods:{getContent:function(){var t=this;this.serverError=!1,this.isContentLoading=!0,axios.get("/api/section/content/"+this.section.id).then((function(e){t.contents=e.data,t.contentLength=e.data.length,t.$emit("content"),t.$emit("contentLength",e.data.length?0:-1)})).catch((function(){t.contents=[],t.serverError=!0})).finally((function(){t.isContentLoading=!1,t.$emit("content",t.contents)}))},play:function(t){var e,a=this;return(e=i.a.mark((function e(){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(s={})[t.type]=t,s.reset=!0,"radio-station"!==t.type?a.$store.dispatch("play"+t.type[0].toUpperCase()+t.type.substr(1),s):a.$store.dispatch("playRadioStation",{radioStation:t});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(s,i){var o=e.apply(t,a);function r(t){n(o,s,i,r,l,"next",t)}function l(t){n(o,s,i,r,l,"throw",t)}r(void 0)}))})()}}},r=(a(283),a(0)),l=a(1),c=a.n(l),d=a(81),u=a(75),v=a(273),p=Object(r.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.serverError?t._e():a("div",{staticClass:"section-container featured-section"},[a("div",{staticClass:"section-header"},[a("div",{staticClass:"section-header__title"},[t._v("\n      "+t._s(t.$t(t.section.title))+"\n    ")])]),t._v(" "),a("div",{staticClass:"section-body"},[t.isContentLoading?t._l(8,(function(t){return a("div",{key:t,staticClass:"featured-card featured-card__skeleton"},[a("content-placeholders",{attrs:{rounded:!0}},[a("content-placeholders-img")],1)],1)})):[t.mo7tawa.length?[t._l(t.mo7tawa,(function(e,s){return[t.isEndpoint||e||!t.isOnSectionEdit?e&&"genre"!==e.type?a("div",{key:e.id,staticClass:"featured-card"},[a("div",{staticClass:"body"},[a("div",{staticClass:"cover-layer absolute fill",on:{click:function(a){"radio-station"!==e.type&&t.$router.push({name:e.type,params:{id:e.id}})}}}),t._v(" "),a("div",{staticClass:"cover"},[a("v-img",{staticClass:"img",attrs:{src:e.cover}},[t.$store.getters.isCurrentlyPlaying(e)?a("div",{staticClass:"dark-layer"},[a("div",{staticClass:"icon icon-inside-cover absolute fill"},[a("div",{staticClass:"epico_music-is-playing-container"},[a("span"),t._v(" "),a("span"),t._v(" "),a("span")])])]):a("div",{staticClass:"dark-layer play"},[a("div",{staticClass:"play-button"},[a("v-btn",{staticClass:"btn",attrs:{icon:"",color:"white"},on:{click:function(a){!t.isOnEditPage&&t.play(e)}}},[a("v-icon",{attrs:{size:"45"}},[t._v("$vuetify.icons.play-circle")])],1)],1)])]),t._v(" "),e.streamEndpoint?a("div",{staticClass:"live-dot"},[a("span",{staticClass:"absolute top-0"},[a("svg",{staticClass:"blinking",attrs:{height:"20",width:"20"}},[a("circle",{attrs:{cx:"10",cy:"10",r:"4",fill:"red"}})])])]):t._e()],1),t._v(" "),a("div",{staticClass:"right-side"},[a("div",{staticClass:"card-title max-1-lines",domProps:{textContent:t._s("radio-station"==e.type?e.name:e.title)}}),t._v(" "),t.isOnEditPage||e.streamEndpoint?t._e():a("td",[a("div",{staticClass:"menu-button option-menu",on:{click:function(a){return t.$store.commit("setSongMenu","album-"+e.id)}}},[a("song-menu",{attrs:{item:e,closeOnContentClick:!0},on:{close:function(e){return t.$store.commit("setSongMenu",null)}}})],1)]),t._v(" "),a("purchase-btn",{attrs:{item:e,size:"small"}})],1)])]):t._e():a("div",{key:s,staticClass:"featured-card-placeholder"},[a("div",{staticClass:"child absolute fill-5 align-justify-center",on:{click:function(e){return t.$emit("attachAsset",s)}}},[a("v-icon",{staticClass:"pointer",attrs:{size:"30"}},[t._v("$vuetify.icons.plus")])],1)])]}))]:t.mo7tawa.length||t.isContentLoading?t._e():a("empty-page",{directives:[{name:"show",rawName:"v-show",value:t.showEmpty,expression:"showEmpty"}],attrs:{headline:t.$t("No content!"),sub:t.$t("There is no content available yet for this section.")}})]],2)])}),[],!1,null,null,null);e.a=p.exports;c()(p,{VBtn:d.a,VIcon:u.a,VImg:v.a})},90:function(t,e,a){"use strict";e.a=[{value:"USD",text:"United States Dollar(USD)",symbol:"$"},{value:"EUR",text:"Euro(EUR)",symbol:"â¬"},{value:"GBP",text:"British Pound(GBP)",symbol:"Â£"},{value:"AUD",text:"Australian Dollar(AUD)"},{value:"BRL",text:"Brazilian Real(BRL)"},{value:"CAD",text:"Canadian Dollar(CAD)"},{value:"CNY",text:"Chinese Renminbi Yuan(CNY)"},{value:"JPY",text:"Japanese Yen(JPY)",symbol:"Â¥"},{value:"RUB",text:"Russian Ruble(RUB)"},{value:"USD",text:"United States Dollar(USD)"}]}}]);