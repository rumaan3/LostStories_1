(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{118:function(t,e,i){"use strict";var s={props:["artist"],mixins:[i(23).a],computed:{totalSalesProfit:function(){return this.artist.sales.reduce((function(t,e){return t+e.amount*e.artist_cut/100}),0)},totalRoyaltiesProfit:function(){return this.artist.royalties.reduce((function(t,e){return t+e.total_royalties*(e.price/100)}),0)},payedPayouts:function(){return this.artist.payouts.filter((function(t){return"payed"===t.status}))}}},r=i(0),a=i(1),o=i.n(a),n=i(105),u=i(3),l=i(559),c=i(860),d=i(152),v=i(75),p=i(113),h=i(155),m=i(10),f=i(558),y=i(554),_=i(274),A=Object(r.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{staticClass:"p-3"},[i("v-card-title",[i("v-icon",{staticClass:"mr-3",attrs:{color:"primary","x-large":""}},[t._v("$vuetify.icons.currency-usd")]),t._v("\n        "+t._s(t.$t("Earnings"))+"\n        "),i("v-spacer"),t._v(" "),i("v-spacer"),t._v(" "),i("div",{staticClass:"total-earnings__value price bold success--text"},[t._v("\n            "+t._s(t.price(t.artist.funds)+t.defaultCurrency.symbol)+"\n        ")])],1),t._v(" "),i("v-card-text",[i("div",{staticClass:"title"},[t._v("\n            "+t._s(t.$t("Details"))+"\n        ")]),t._v(" "),i("v-divider"),t._v(" "),i("div",{staticClass:"details"},[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",lg:"6"}},[i("v-card",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-card-title",[t._v("\n                                            "+t._s(t.$t("Sales"))+"\n                                            "),i("v-spacer"),t._v(" "),i("v-spacer"),t._v(" "),i("div",{staticClass:"total-earnings__value bold price small success--text"},[t._v("\n                                                "+t._s(t.price(t.totalSalesProfit)+t.defaultCurrency.symbol)+"\n                                            ")])],1),t._v(" "),i("v-divider")],1),t._v(" "),i("v-col",{attrs:{cols:"12"}},[i("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Product"))+"\n                                                        ")]),t._v(" "),i("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("License"))+"\n                                                        ")]),t._v(" "),i("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Price"))+"\n                                                        ")]),t._v(" "),i("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Earned"))+"\n                                                        ")])])]),t._v(" "),i("tbody",t._l(t.artist.sales,(function(e,s){return i("tr",{key:s},[i("td",[i("v-list-item",[i("v-list-item-avatar",{staticClass:"asset-shadow",attrs:{width:"35",height:"35",rounded:"0"}},[i("img",{attrs:{src:e.cover}})]),t._v(" "),i("v-list-item-content",[i("v-list-item-title",[t._v(t._s(e.itemTitle))])],1)],1)],1),t._v(" "),i("td",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(e.priceName)+"\n                                                        ")]),t._v(" "),i("td",{staticClass:"text-left"},[i("div",{staticClass:"price success--text bold"},[t._v("\n                                                                "+t._s(t.price(e.amount)+e.priceSymbol)+"\n                                                            ")])]),t._v(" "),i("td",{staticClass:"text-left"},[i("div",{staticClass:"price success--text bold"},[t._v("\n                                                                "+t._s(t.price(e.amount*e.artist_cut/100)+e.priceSymbol)+"\n                                                            ")])])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1),t._v(" "),i("v-col",{attrs:{cols:"12",lg:"6"}},[i("v-card",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("v-card-title",[t._v("\n                                            "+t._s(t.$t("Royalties"))+"\n                                            "),i("v-spacer"),t._v(" "),i("v-spacer"),t._v(" "),i("div",{staticClass:"total-earnings__value price small bold success--text"},[t._v("\n                                                "+t._s(t.price(t.totalRoyaltiesProfit)+t.defaultCurrency.symbol)+"\n                                            ")])],1),t._v(" "),i("v-divider")],1),t._v(" "),i("v-col",{attrs:{cols:"12"}},[i("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Total Plays"))+"\n                                                        ")]),t._v(" "),i("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Artist Royalty"))+"\n                                                        ")]),t._v(" "),i("th",{staticClass:"text-left"},[t._v("\n                                                            "+t._s(t.$t("Total"))+"\n                                                        ")])])]),t._v(" "),i("tbody",t._l(t.artist.royalties,(function(e,s){return i("tr",{key:s},[i("td",[t._v("\n                                                            "+t._s(e.total_royalties)+"\n                                                        ")]),t._v(" "),i("td",[t._v("\n                                                            "+t._s(t.price(e.price)+t.defaultCurrency.symbol)+"\n                                                            "+t._s("("+t.$t("for each 100 play")+")")+"\n                                                        ")]),t._v(" "),i("td",[i("div",{staticClass:"price success--text bold"},[t._v("\n                                                                "+t._s(t.price(e.total_royalties*(e.price/100))+t.defaultCurrency.symbol)+"\n                                                            ")])])])})),0)]},proxy:!0}])})],1)],1)],1)],1)],1),t._v(" "),i("v-col",{attrs:{cols:"12"}},[i("v-card",[i("v-card-title",[t._v("\n                                "+t._s(t.$t("Previous Payouts"))+"\n                            ")]),t._v(" "),t.payedPayouts&&t.payedPayouts.length?i("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-left"},[t._v("\n                                                Payout N°\n                                            ")]),t._v(" "),i("th",{staticClass:"text-left"},[t._v("\n                                                Date\n                                            ")]),t._v(" "),i("th",{staticClass:"text-left"},[t._v("\n                                                Amount\n                                            ")])])]),t._v(" "),i("tbody",t._l(t.payedPayouts,(function(e){return i("tr",{key:e.id},[i("td",{staticClass:"text-left"},[t._v("\n                                                "+t._s(e.id)+"\n                                            ")]),t._v(" "),i("td",{staticClass:"text-left"},[t._v("\n                                                "+t._s(t.moment(e.created_at).format("ll"))+"\n                                            ")]),t._v(" "),i("td",{staticClass:"text-left bold error--text"},[t._v("\n                                                "+t._s(-t.price(e.amount)+t.defaultCurrency.symbol)+"\n                                            ")])])})),0)]},proxy:!0}],null,!1,1689849607)}):i("div",{staticClass:"text-center"},[t._v("\n                                "+t._s(t.$t("No previous payouts"))+"\n                            ")])],1)],1),t._v(" "),i("v-col",{attrs:{cols:"12"}},[i("v-card",[i("v-card-title",[t._v("\n                                "+t._s(t.$t("Summary"))+"\n                            ")]),t._v(" "),i("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-center"}),t._v(" "),i("th",{staticClass:"text-center"}),t._v(" "),i("th",{staticClass:"text-right"},[t._v("\n                                                "+t._s(t.$t("Account Funds"))+"\n                                            ")])])]),t._v(" "),i("tbody",[i("tr",[i("td"),t._v(" "),i("td"),t._v(" "),i("td",{staticClass:"text-right bold success--text"},[t._v("\n                                                "+t._s(t.price(t.artist.funds)+t.defaultCurrency.symbol)+"\n                                            ")])])])]},proxy:!0}])})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.a=A.exports;o()(A,{VCard:n.a,VCardText:u.b,VCardTitle:u.c,VCol:l.a,VContainer:c.a,VDivider:d.a,VIcon:v.a,VListItem:p.a,VListItemAvatar:h.a,VListItemContent:m.a,VListItemTitle:m.c,VRow:f.a,VSimpleTable:y.a,VSpacer:_.a})},123:function(t,e,i){"use strict";var s=i(118),r=i(87),a={props:["artist"],components:{ArtistEarningDetails:s.a},data:function(){return{editedArtist:this.artist,countriesList:r.a,firstCopy:JSON.parse(JSON.stringify(this.artist)),available_disk_space:this.artist.available_disk_space||this.$store.getters.getSettings.availableArtistDiskSpace,available_disk_space_unit:"MB",isLoading:!1,defaultAvatarPath:"/storage/defaults/images/artist_avatar.png"}},methods:{imageReady:function(t){this.artist.avatar=t},closeWindow:function(){var t=this,e=!1;JSON.stringify(this.editedArtist)!=JSON.stringify(this.firstCopy)&&(e=!0),e?this.$confirm({message:"".concat(this.$t("Are you sure you wanna quit without saving the changes?")),button:{no:this.$t("Cancel"),yes:this.$t("Discard")},callback:function(e){e&&(t.editedArtist=t.firstCopy,t.$emit("close"))}}):this.$emit("close")},saveArtist:function(){var t=this,e=new FormData;if(this.isLoading=!0,e.append("firstname",this.editedArtist.firstname||""),e.append("lastname",this.editedArtist.lastname||""),e.append("displayname",this.editedArtist.displayname||""),e.append("country",this.editedArtist.country||""),e.append("phone",this.editedArtist.phone||""),e.append("email",this.editedArtist.email||""),e.append("address",this.editedArtist.address||""),e.append("spotify_link",this.editedArtist.spotify_link||""),e.append("youtube_link",this.editedArtist.youtube_link||""),e.append("soundcloud_link",this.editedArtist.soundcloud_link||""),e.append("itunes_link",this.editedArtist.itunes_link||""),"GB"===this.available_disk_space_unit)var i=1024*this.available_disk_space;else if("KB"===this.available_disk_space_unit)i=this.available_disk_space/1024;else i=this.available_disk_space;this.editedArtist.available_disk_space=i,e.append("available_disk_space",i),this.editedArtist.avatar&&this.editedArtist.avatar.data?e.append("avatar",this.editedArtist.avatar.data,this.editedArtist.avatar.title):this.editedArtist.avatar&&!this.editedArtist.avatar.data?e.append("avatar",this.editedArtist.avatar):e.append("avatar",this.defaultAvatarPath),this.editedArtist.new?axios.post("/api/admin/artists",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})):(e.append("_method","PUT"),axios.post("/api/admin/artists/"+this.editedArtist.id,e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){t.$emit("updated"),t.isLoading=!1})).catch((function(e){t.isLoading=!1,t.errors=e.response.data.errors})))}}},o=i(0),n=i(1),u=i.n(n),l=i(105),c=i(3),d=i(559),v=i(860),p=i(152),h=i(558),m=i(68),f=i(41),y=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("edit-dialog",{attrs:{loading:t.isLoading,editing:"artist"},on:{callToAction:t.saveArtist,cancel:t.closeWindow},scopedSlots:t._u([{key:"body",fn:function(){return[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"auto"}},[i("upload-image",{attrs:{source:t.artist.avatar||t.defaultAvatarPath},on:{imageReady:function(e){return t.imageReady(e)}}})],1),t._v(" "),i("v-col",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:t.$t("Firstname"),readonly:!t.artist.new},model:{value:t.editedArtist.firstname,callback:function(e){t.$set(t.editedArtist,"firstname",e)},expression:"editedArtist.firstname"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:t.$t("Lastname"),readonly:!t.artist.new},model:{value:t.editedArtist.lastname,callback:function(e){t.$set(t.editedArtist,"lastname",e)},expression:"editedArtist.lastname"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:t.$t("Displayname"),readonly:!t.artist.new},model:{value:t.editedArtist.displayname,callback:function(e){t.$set(t.editedArtist,"displayname",e)},expression:"editedArtist.displayname"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-select",{attrs:{label:t.$t("Country"),readonly:!t.artist.new,items:t.countriesList},model:{value:t.editedArtist.country,callback:function(e){t.$set(t.editedArtist,"country",e)},expression:"editedArtist.country"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:t.$t("Address"),readonly:!t.artist.new},model:{value:t.editedArtist.address,callback:function(e){t.$set(t.editedArtist,"address",e)},expression:"editedArtist.address"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:t.$t("Phone"),readonly:!t.artist.new},model:{value:t.editedArtist.phone,callback:function(e){t.$set(t.editedArtist,"phone",e)},expression:"editedArtist.phone"}})],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"6"}},[i("v-text-field",{attrs:{label:t.$t("Email"),readonly:!t.artist.new},model:{value:t.editedArtist.email,callback:function(e){t.$set(t.editedArtist,"email",e)},expression:"editedArtist.email"}})],1)],1)],1)],1),t._v(" "),t.editedArtist.user?i("v-col",{attrs:{cols:"12"}},[i("v-card",[i("v-card-title",[t._v("\n                            "+t._s(t.$t("Storage Space"))+"\n                        ")]),t._v(" "),i("v-divider"),t._v(" "),i("v-card-text",[i("v-container",[i("v-row",[i("v-col",{attrs:{cols:"9"}},[i("v-text-field",{attrs:{label:t.$t("Size"),type:"number",messages:t.editedArtist.used_disk_space?(t.editedArtist.used_disk_space/1024/1024).toFixed(1)+" MB "+this.$t("used already."):""},model:{value:t.available_disk_space,callback:function(e){t.available_disk_space=e},expression:"available_disk_space"}})],1),t._v(" "),i("v-col",{attrs:{cols:"3"}},[i("veutify-select",{attrs:{type:"number",items:["MB","GB","KB"]},model:{value:t.available_disk_space_unit,callback:function(e){t.available_disk_space_unit=e},expression:"\n                                                available_disk_space_unit\n                                            "}})],1)],1)],1)],1)],1)],1):t._e()],1),t._v(" "),i("v-row",[i("edit-external-links",{attrs:{item:t.editedArtist},on:{spotify_link:function(e){t.editedArtist.spotify_link=e},youtube_link:function(e){t.editedArtist.youtube_link=e},soundcloud_link:function(e){t.editedArtist.soundcloud_link=e},itunes_link:function(e){t.editedArtist.itunes_link=e},deezer_link:function(e){t.editedArtist.deezer_link=e}}})],1),t._v(" "),t.$store.getters.getSettings.saas&&!t.editedArtist.new?i("v-row",[i("ArtistEarningDetails",{attrs:{artist:t.artist}})],1):t._e()],1)]},proxy:!0}])})}),[],!1,null,null,null);e.a=y.exports;u()(y,{VCard:l.a,VCardText:c.b,VCardTitle:c.c,VCol:d.a,VContainer:v.a,VDivider:p.a,VRow:h.a,VSelect:m.a,VTextField:f.a})},226:function(t,e,i){var s=i(445);"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,r);s.locals&&(t.exports=s.locals)},227:function(t,e,i){var s=i(447);"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,r);s.locals&&(t.exports=s.locals)},228:function(t,e,i){var s=i(449);"string"==typeof s&&(s=[[t.i,s,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,r);s.locals&&(t.exports=s.locals)},444:function(t,e,i){"use strict";i(226)},445:function(t,e,i){(t.exports=i(5)(!1)).push([t.i,'#container[data-v-665f704a]{max-width:1024px;margin:auto;width:800px;height:450px}@media screen and (max-width:900px){#container[data-v-665f704a]{width:500px;height:300px}}@media screen and (max-width:600px){#container[data-v-665f704a]{width:90%}}@media screen and (max-width:600px){#container.small-screen[data-v-665f704a],#container.small-screen.phone-layout[data-v-665f704a]{width:95%;height:300px}}#monitor[data-v-665f704a]{background:#000;width:100%;height:100%;position:relative;border-top:3px solid #888;padding:2% 2% 4%;border-radius:10px;border-bottom-left-radius:50% 2%;border-bottom-right-radius:50% 2%;transition:margin-right 1s}#monitor[data-v-665f704a]:after{content:"";display:block;position:absolute;bottom:3%;left:36%;height:.5%;width:28%;background:#ddd;border-radius:50%;box-shadow:0 0 3px 0 #fff}.small-screen__icon[data-v-665f704a]{position:absolute;top:3px;right:3px}#monitorscreen[data-v-665f704a]{background-color:#000;width:100%;height:100%}#container.small-screen[data-v-665f704a]{width:auto;height:auto}#container.small-screen #monitor[data-v-665f704a]:after{display:none}#container.small-screen #monitor[data-v-665f704a]{background:transparent;position:relative;border-top:none;margin:0;padding:0;border-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}#container.small-screen #monitorscreen[data-v-665f704a]{background-color:transparent;border-top:none;border-radius:0}',""])},446:function(t,e,i){"use strict";i(227)},447:function(t,e,i){(t.exports=i(5)(!1)).push([t.i,".play-button-container{height:3em;width:3em;position:relative;display:flex;justify-content:center}.play-button-container .progress-circle{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.play-button-container .play-button{margin:0!important}",""])},448:function(t,e,i){"use strict";i(228)},449:function(t,e,i){(t.exports=i(5)(!1)).push([t.i,".epico_audio-title{text-align:center;padding:0 1em 1em}",""])},617:function(t,e,i){"use strict";i.r(e);var s=i(12),r=i.n(s),a={data:function(){return{smallScreen:!0}},methods:{switchToSmallScreen:function(){this.$emit("small-screen"),this.smallScreen=!0},switchToTVScreen:function(){this.$emit("large-screen"),this.smallScreen=!1}}},o=(i(444),i(0)),n=i(1),u=i.n(n),l=i(75),c=Object(o.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"small-screen":t.smallScreen},attrs:{id:"container"}},[i("div",{attrs:{id:"monitor"}},[i("div",{staticClass:"small-screen__icon"},[t.smallScreen?i("v-icon",{attrs:{dark:""},on:{click:t.switchToTVScreen}},[t._v("$vuetify.icons.fullscreen")]):i("v-icon",{attrs:{title:t.$t("Small Window"),dark:""},on:{click:t.switchToSmallScreen}},[t._v("$vuetify.icons.fullscreen-exit")])],1),t._v(" "),i("div",{attrs:{id:"monitorscreen"}},[t._t("default")],2)])])}),[],!1,null,"665f704a",null),d=c.exports;u()(c,{VIcon:l.a});var v={components:{Artist:i(123).a},data:function(){return{showAddMenu:!1,showPlaylist:!1,vol:this.volume}},computed:{fullScreenPlayer:{get:function(){return this.fullScreenPlayerProp},set:function(){this.$emit("fullScreenPlayer")}},currentTitle:function(){return this.currentAudio.title}},props:["playlist","currentAudio","fullScreenPlayerProp","getUp","isLoading","downloadLoading","buttons","volumebarInnerWidth","playbackRate","volumeButton","isLiked","isArtistFollowed","isPodcastEpisode","isCurrentAudioAStream","isCurrentAudioAFileAudio","volumeButton","volume","duration","isPurchasable","isOwned"]},p=(i(446),i(81)),h=i(105),m=i(140),f=i(273),y=i(112),_=i(558),A=i(246),g=Object(o.a)(v,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"epico_footer-layout",style:{transform:t.getUp?t.fullScreenPlayer?"translateY(-50px)":"translateY(0px)":"translateY(120px)",opacity:t.fullScreenPlayer?.5:1},attrs:{id:"player-wrapper"}},[i("div",{staticClass:"epico_player-main-container"},[i("div",{staticClass:"epico_audio-info epico_audio-info-u500h"},[t.isPodcastEpisode||t.isCurrentAudioAStream?t._e():i("div",{staticClass:"plus-container"},[i("song-menu",{attrs:{item:t.currentAudio,icon:"plus",isOnPlayer:!0,closeOnContentClick:!0},on:{close:function(e){return t.$store.commit("setSongMenu",null)}}})],1),t._v(" "),i("div",{staticClass:"chevron-up-container px-3 pb-1",on:{click:function(e){t.fullScreenPlayer=!0}}},[i("v-icon",{staticClass:"pointer"},[t._v("$vuetify.icons.chevron-up")])],1),t._v(" "),i("v-card",{staticClass:"song-img transparent ml-2",attrs:{elevation:"0"}},[i("v-img",{staticClass:"img",attrs:{src:t.currentAudio.cover,"aspect-ratio":"1"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("content-placeholders",{staticStyle:{width:"100%"},attrs:{rounded:!0}},[i("content-placeholders-img")],1)],1)]},proxy:!0}])})],1),t._v(" "),i("div",{staticClass:"infos"},[t.isCurrentAudioAStream?i("div",{staticClass:"current-info"},[i("div",{staticClass:"now-playing"},[t.isLoading?[t._v("\n                            "+t._s(t.$t("Loading"))+"...\n                        ")]:t._e(),t._v(" "),!t.isLoading&&t.currentAudio.title?[t._v("\n                            "+t._s(t.$t("Now Playing"))+"\n                        ")]:t._e()],2),t._v(" "),i("div",{staticClass:"live-stream-title-container"},[i("div",{staticClass:"hiding-box-left"}),t._v(" "),i("div",{staticClass:"live-stream-title",class:{slideAnimation:t.currentAudio.title&&t.currentAudio.title.length>25},attrs:{id:"live-stream-title"}},[t._v("\n                            "+t._s(t.currentAudio.title||t.currentAudio.name)+"\n                        ")]),t._v(" "),i("div",{staticClass:"hiding-box-right"})]),t._v(" "),t.currentAudio.artist?i("div",{staticClass:"audio-artists max-1-lines"},[t._v("\n                        "+t._s(t.currentAudio.artist)+"\n                    ")]):t._e()]):i("div",{staticClass:"current-info"},[t.currentAudio.album&&t.currentAudio.album.title!==t.currentAudio.title?i("div",{staticClass:"audio-album max-1-lines"},[i("router-link",{staticClass:"router-link",attrs:{to:{name:"album",params:{id:t.currentAudio.album.id}}}},[t._v("\n                            "+t._s(t.currentAudio.album.title)+"\n                        ")])],1):t.currentAudio.podcast?i("div",{staticClass:"audio-album max-1-lines"},[i("router-link",{staticClass:"router-link",attrs:{title:t.currentAudio.podcast.title,to:{name:"podcast",params:{id:t.currentAudio.podcast.id}}}},[t._v("\n                            "+t._s(t.currentAudio.podcast.title)+"\n                        ")])],1):t._e(),t._v(" "),i("div",{staticClass:"audio-title max-1-lines",attrs:{title:t.currentAudio.title}},[t.isPodcastEpisode?[t._v(t._s(t.currentAudio.title))]:i("router-link",{staticClass:"router-link",attrs:{title:t.currentAudio.title,to:{name:"song",params:{id:t.currentAudio.id}}}},[t._v(t._s(t.currentAudio.title))])],2),t._v(" "),t.isCurrentAudioAStream?t._e():i("div",{staticClass:"audio-artists max-1-lines"},[i("artists",{attrs:{artists:t.currentAudio.artists}})],1)]),t._v(" "),t.isCurrentAudioAStream||t.$store.getters.getSettings.disableRegistration||"episode"===t.currentAudio.type?t._e():[t.isLiked?i("v-btn",{staticClass:"align-center ml-2",attrs:{icon:"",small:""},on:{click:function(e){return t.$emit("like",t.currentAudio)}}},[i("v-icon",{attrs:{small:"",color:"primary",title:t.$t("Dislike")}},[t._v("$vuetify.icons.heart")])],1):i("v-btn",{staticClass:"align-center ml-2",attrs:{icon:"",small:""},on:{click:function(e){return t.$emit("like",t.currentAudio)}}},[i("v-icon",{attrs:{title:t.$t("Like"),small:""}},[t._v("$vuetify.icons.heart-outline")])],1)]],2)],1),t._v(" "),i("div",{staticClass:"epico_main-control-section"},[i("div",{staticClass:"epico_progressbar-container"},[t.isCurrentAudioAStream?i("div",{staticClass:"epico_progressbar epico_progressbar-u500h",attrs:{id:"progress-bar"},on:{click:function(e){return t.$emit("updateProgress",e)}}},[i("div",{staticClass:"epico_progressbar-inner",style:{width:"100%"}})]):i("div",{staticClass:"epico_progressbar epico_progressbar-u500h",attrs:{id:"progress-bar"},on:{click:function(e){return t.$emit("updateProgress",e)}}},[i("div",{staticClass:"epico_progressbar-inner",style:{width:t.currentAudio.progress+"%"}},[i("span",{staticClass:"epico_progress-circle"})])]),t._v(" "),i("span",{staticClass:"epico_loading-circle",staticStyle:{opacity:"0"}}),t._v(" "),i("div",{staticClass:"times"},[i("span",{staticClass:"current-audio-time"},[t._v("\n                        "+t._s(t.currentAudio.currentTime)+"\n                    ")]),t._v(" "),t.isCurrentAudioAStream?i("div",{staticClass:"live-animation"},[i("div",{staticClass:"align-center"},[i("svg",{staticClass:"blinking",attrs:{height:"20",width:"13"}},[i("circle",{attrs:{cx:"5",cy:"10",r:"3",fill:"red"}})]),t._v("\n                            "+t._s(t.$t("Live"))+"\n                        ")])]):i("span",{staticClass:"current-audio-duration",domProps:{textContent:t._s(t.duration)}})])]),t._v(" "),i("div",{staticClass:"play-next-previous-container"},[t.isCurrentAudioAStream?t._e():[t.isPodcastEpisode?i("button",{staticClass:"random-button",class:{activeButton:t.buttons.shuffle},attrs:{disabled:t.playlist.length<=1,title:t.$t("Shuffle")},on:{click:function(e){return t.$emit("shuffleAudio")}}},[i("v-icon",{attrs:{size:20,color:t.buttons.shuffle?"primary":"textContMedium"}},[t._v("$vuetify.icons.shuffle-variant")])],1):i("button",{staticClass:"repeat-button",class:{activeButton:t.buttons.loop},attrs:{title:t.$t("Loop")},on:{click:function(e){return t.$emit("loopAudio")}}},[i("v-icon",{attrs:{color:t.buttons.loop?"primary":"textContMedium"}},[t._v("$vuetify.icons.refresh")])],1),t._v(" "),t.isPodcastEpisode?i("button",{staticClass:"epico_previous-button epico_rewind-button",attrs:{title:t.$t("Rewind")},on:{click:function(e){return t.$emit("rewindAudio",-10)}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.rewind-10")])],1):i("button",{staticClass:"previous-button",attrs:{title:t.$t("Previous"),disabled:!t.playlist[t.currentAudio.index-1]},on:{click:function(e){return t.$emit("goPrevious")}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.skip-previous")])],1)],t._v(" "),i("div",{staticClass:"play-button-container"},[t.isLoading?[i("div",{staticClass:"progress-circl"},[i("v-progress-circular",{staticClass:"loading-circle-e",attrs:{size:39,width:5,color:"primary",indeterminate:""}})],1)]:[t.currentAudio.isPlaying?i("button",{staticClass:"play-button",on:{click:function(e){return t.$emit("playPause")}}},[i("v-icon",{attrs:{size:"54",large:"",color:t.$vuetify.theme.dark?"textContMedium":"primary"}},[t._v("$vuetify.icons.pause-circle")])],1):i("button",{staticClass:"play-button",attrs:{title:t.$t("Play")+"/"+t.$t("Pause")},on:{click:function(e){return t.$emit("playPause")}}},[i("v-icon",{attrs:{size:"54",large:"",color:t.$vuetify.theme.dark?"textContMedium":"primary"}},[t._v("$vuetify.icons.play-circle")])],1)]],2),t._v(" "),t.isCurrentAudioAStream?t._e():[t.isPodcastEpisode?i("button",{staticClass:"epico_next-button epico_forwrad-button",attrs:{title:t.$t("Rewind")},on:{click:function(e){return t.$emit("rewindAudio",30)}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.fast-forward-30")])],1):i("button",{staticClass:"next-button",attrs:{title:t.$t("Next"),disabled:!t.playlist[t.currentAudio.index+1]},on:{click:function(e){return t.$emit("goNext")}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.skip-next")])],1),t._v(" "),t.isPodcastEpisode?i("button",{staticClass:"playback_rate__button",attrs:{title:t.$t("Play Speed")},on:{click:function(e){return t.$emit("adjustPlayspeed")}}},[i("span",{staticClass:"playback_rate",attrs:{color:t.playbackRate>1?"primary":"textContMedium"}},[t._v(t._s(t.playbackRate)+"x")])]):i("button",{staticClass:"random-button",class:{activeButton:t.buttons.shuffle},attrs:{disabled:t.playlist.length<=1},on:{click:function(e){return t.$emit("shuffleAudio")}}},[i("v-icon",{attrs:{title:t.$t("Shuffle"),size:"20",color:t.buttons.shuffle?"primary":"textContMedium"}},[t._v("$vuetify.icons.shuffle-variant")])],1)]],2)]),t._v(" "),i("div",{staticClass:"epico_option-section epico_option-section-u500h"},[i("div",{staticClass:"epico_option-section__group"},[i("div",{staticClass:"btn-group d-flex align-center"},[t.isOwned&&t.currentAudio.isProduct?i("div",{staticClass:"owned-icon"},[i("div",{staticClass:"premium",attrs:{title:t.$t("Premium")}},[i("v-icon",{attrs:{color:"#FFA500"}},[t._v("$vuetify.icons.crown")])],1)]):t.isPurchasable?i("div",{staticClass:"purchase-button"},[i("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",title:t.$t("Purchase"),color:"#FF8F00",dark:"",fab:"",dense:""},on:{click:function(e){return t.$emit("showPurchaseDialog")}}},[i("v-icon",[t._v("$vuetify.icons.cart")])],1)],1):t._e(),t._v(" "),t.isCurrentAudioAFileAudio&&"local"===t.currentAudio.origin&&!t.$store.getters.getSettings.hideDownloadButton?i("div",{staticClass:"download-button"},[i("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",title:t.$t("Download"),color:"primary",disabled:t.downloadLoading,fab:"",loading:t.downloadLoading,dense:""},on:{click:function(e){return t.$emit("downloadAudio")}}},[i("v-icon",[t._v("$vuetify.icons.download-circle")])],1)],1):t._e(),t._v(" "),t.playlist.length>1?i("v-chip",{staticClass:"ma-2",attrs:{outlined:"",small:""},on:{click:function(e){t.showPlaylist=!t.showPlaylist}}},[i("v-icon",{attrs:{left:"",color:"textContMedium"}},[t._v("$vuetify.icons.playlist-play")]),t._v(" "),t.$store.getters.getScreenWidth>900?i("span",[t._v(t._s(t.$t("Queue")))]):t._e(),t._v(" "),i("v-icon",{style:{transform:t.showPlaylist?"rotate(0deg)":"rotate(180deg)"}},[t._v("$vuetify.icons.chevron-up")])],1):t._e()],1)]),t._v(" "),i("div",{staticClass:"epico_volume-button-container"},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.$emit("mute",e)}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons."+t._s(t.volumeButton))])],1),t._v(" "),i("div",{staticClass:"epico_volumebar-container epico_volumebar-container-u500h"},[i("v-slider",{attrs:{"thumb-color":"primary","tick-size":"50","thumb-size":"22","hide-details":"","thumb-label":!0},on:{change:function(e){return t.$emit("volume",t.vol)}},model:{value:t.vol,callback:function(e){t.vol=e},expression:"vol"}})],1)],1)]),t._v(" "),i("div",{staticClass:"epico_play-circle-phone-layout"},[t.currentAudio.isPlaying?i("button",{staticClass:"play-button",on:{click:function(e){return t.$emit("playPause")}}},[i("v-progress-circular",{staticClass:"progress-circle",attrs:{rotate:-90,size:36,width:5,value:t.isCurrentAudioAStream?100:t.currentAudio.progress,color:"primary"}}),t._v(" "),i("div",[i("v-icon",{attrs:{size:"50",large:"",color:t.$vuetify.theme.dark?"textContMedium":"primary"}},[t._v("$vuetify.icons.pause-circle")])],1)],1):i("button",{staticClass:"play-button",attrs:{title:t.$t("Play")+"/"+t.$t("Pause")},on:{click:function(e){return t.$emit("playPause")}}},[i("v-progress-circular",{staticClass:"progress-circle",attrs:{rotate:-90,size:36,width:5,value:t.isCurrentAudioAStream?100:t.currentAudio.progress,color:"primary"}}),t._v(" "),i("div",[i("v-icon",{attrs:{size:"50",large:"",color:t.$vuetify.theme.dark?"textContMedium":"primary"}},[t._v("$vuetify.icons.play-circle")])],1)],1)])]),t._v(" "),t.playlist.length>1?i("div",{staticClass:"epico_playlist-container"},[i("div",{staticClass:"epico_playlist-ul-wrapper",style:{transform:t.showPlaylist?"translateY(0em)":"translateY(100%) "}},[i("ul",{staticClass:"epico_playlist-ul"},t._l(t.playlist,(function(e,s){return i("li",{key:s,staticClass:"epico_playlist-audio",class:{"active-Song":t.currentAudio.index==s},on:{click:function(e){return t.$emit("updateCurrentAudio",[s,!0])}}},[i("div",{staticClass:"audio-cover"},[i("v-img",{staticClass:"img",attrs:{src:e.cover},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("div",{staticClass:"fill-height"},[i("content-placeholders",{attrs:{rounded:!0}},[i("content-placeholders-img")],1)],1)]},proxy:!0}],null,!0)},[t._v(" "),t.$store.getters.isCurrentlyPlaying(e)?i("div",{staticClass:"dark-layer absolute fill justify-align-center"},[i("div",{staticClass:"epico_music-is-playing-container white-bars"},[i("span"),t._v(" "),i("span"),t._v(" "),i("span")])]):t._e()])],1),t._v(" "),i("div",{staticClass:"audio-title max-1-lines"},[t._v("\n                        "+t._s(e.title)+"\n                    ")]),t._v(" "),i("div",{staticClass:"audio-artist max-1-lines",on:{click:function(t){t.preventDefault()}}},[i("artists",{attrs:{artists:e.artists}})],1)])})),0)])]):t._e()])}),[],!1,null,null,null),b=g.exports;u()(g,{VBtn:p.a,VCard:h.a,VChip:m.a,VIcon:l.a,VImg:f.a,VProgressCircular:y.a,VRow:_.a,VSlider:A.a});var C={data:function(){return{showAddMenu:!1,showPlaylist:!1}},computed:{fullScreenPlayer:{get:function(){return this.fullScreenPlayerProp},set:function(){this.$emit("fullScreenPlayer")}}},props:["playlist","currentAudio","downloadLoading","fullScreenPlayerProp","getUp","isLoading","buttons","volumebarInnerWidth","playbackRate","volumeButton","isLiked","isArtistFollowed","isPodcastEpisode","isCurrentAudioAStream","volumeButton","volume","duration","isPurchasable","isOwned"]},P=(i(448),Object(o.a)(C,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"small-screen-player"},[i("div",{staticClass:"epico_phone-layout-full"},[i("div",{staticClass:"epico_player-container"},[i("div",{staticClass:"epico_playlist-container"},[i("ul",{staticClass:"epico_playlist-ul",style:{maxHeight:t.showPlaylist?"45vh":"0px"}},t._l(t.playlist,(function(e,s){return i("li",{key:s,staticClass:"epico_playlist-audio",class:{"active-Song":t.currentAudio.index==s},on:{click:function(e){return t.$emit("updateCurrentAudio",[s,!0])}}},[i("div",{staticClass:"audio-cover"},[i("v-img",{staticClass:"img",attrs:{src:e.cover,width:"50",height:"50"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("div",{staticClass:"fill-height"},[i("content-placeholders",{attrs:{rounded:!0}},[i("content-placeholders-img")],1)],1)]},proxy:!0}],null,!0)},[t._v(" "),t.$store.getters.isCurrentlyPlaying(e)?i("div",{staticClass:"dark-layer absolute fill justify-align-center"},[i("div",{staticClass:"epico_music-is-playing-container white-bars"},[i("span"),t._v(" "),i("span"),t._v(" "),i("span")])]):t._e()])],1),t._v(" "),i("div",{staticClass:"audio-title text-center max-1-lines"},[t._v("\n                            "+t._s(e.title)+"\n                        ")]),t._v(" "),i("div",{staticClass:"audio-artist max-1-lines",on:{click:function(t){t.preventDefault()}}},[i("artists",{attrs:{artists:e.artists}})],1)])})),0),t._v(" "),i("div",{staticClass:"epico_playlist-text-container px-3"},[i("button",{staticClass:"epico_chevron-down",on:{click:function(e){t.fullScreenPlayer=!1}}},[i("v-icon",{attrs:{large:""}},[t._v("$vuetify.icons.chevron-down")])],1),t._v(" "),t.hasPermission("Download songs")&&"file"===t.currentAudio.source_format&&!t.$store.getters.getSettings.hideDownloadButton?i("div",{staticClass:"download-button"},[i("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",title:t.$t("Download"),color:"primary",disabled:t.downloadLoading,fab:"",loading:t.downloadLoading,dense:""},on:{click:function(e){return t.$emit("downloadAudio")}}},[i("v-icon",[t._v("$vuetify.icons.download-circle")])],1)],1):t._e(),t._v(" "),t.isOwned&&t.currentAudio.isProduct?i("div",{staticClass:"owned-icon"},[i("div",{staticClass:"premium",attrs:{title:t.$t("Premium")}},[i("v-icon",{attrs:{color:"#FFA500"}},[t._v("$vuetify.icons.crown")])],1)]):t.isPurchasable?i("div",{staticClass:"purchase-button"},[i("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",title:t.$t("Purchase"),color:"#FF8F00",dark:"",fab:"",dense:""},on:{click:function(e){return t.$emit("showPurchaseDialog")}}},[i("v-icon",[t._v("$vuetify.icons.cart")])],1)],1):t._e(),t._v(" "),t.playlist.length>1?i("v-chip",{staticClass:"ma-2",attrs:{outlined:""},on:{click:function(e){t.showPlaylist=!t.showPlaylist,t.$emit("showPlaylist",t.showPlaylist)}}},[i("v-icon",{attrs:{left:"",color:"textContMedium"}},[t._v("$vuetify.icons.playlist-music")]),t._v("\n                        "+t._s(t.$t("Queue"))+"\n                        "),i("v-icon",{style:{transform:t.showPlaylist?"rotate(0deg)":"rotate(180deg)"},attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.chevron-up")])],1):t._e()],1)]),t._v(" "),i("div",{staticClass:"epico_player-main-container"},[i("div",{staticClass:"epico_image-section",style:{opacity:"yt_video"!==t.currentAudio.source_format||t.$store.getters.getSettings.disableVideo?1:0}},[i("v-img",{staticClass:"img",attrs:{src:t.currentAudio.cover,"aspect-ratio":"1"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[i("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[i("content-placeholders",{staticStyle:{width:"100%"},attrs:{rounded:!0}},[i("content-placeholders-img")],1)],1)]},proxy:!0}])})],1),t._v(" "),i("div",{staticClass:"epico_details-section"},[t.isCurrentAudioAStream?i("div",{staticClass:"epico_audio-info"},[i("div",{staticClass:"now-playing"},[t.isLoading?[t._v("\n                                "+t._s(t.$t("Loading"))+"...\n                            ")]:t._e(),t._v(" "),!t.isLoading&&t.currentAudio.title?[t._v("\n                                "+t._s(t.$t("Now Playing"))+"\n                            ")]:t._e()],2),t._v(" "),i("div",{staticClass:"live-stream-title-container"},[i("div",{staticClass:"hiding-box-left"}),t._v(" "),i("div",{staticClass:"live-stream-title no-wrap",class:{slideAnimation:t.currentAudio.title&&t.currentAudio.title.length>25},attrs:{id:"live-stream-title"}},[t._v("\n                                "+t._s(t.currentAudio.title||t.currentAudio.name)+"\n                            ")]),t._v(" "),i("div",{staticClass:"hiding-box-right"})]),t._v(" "),t.currentAudio.artist?i("p",{staticClass:"epico_audio-artist"},[t._v("\n                            "+t._s(t.currentAudio.artist)+"\n                        ")]):t._e()]):i("div",{staticClass:"epico_audio-info"},[t.currentAudio.album&&t.currentAudio.album.title!==t.currentAudio.title?i("div",{staticClass:"audio-album max-1-lines"},[i("router-link",{staticClass:"router-link",attrs:{to:{name:"album",params:{id:t.currentAudio.album.id}}}},[t._v("\n                                "+t._s(t.currentAudio.album.title)+"\n                            ")])],1):t.currentAudio.podcast?i("div",{staticClass:"audio-album max-1-lines"},[i("router-link",{staticClass:"router-link",attrs:{title:t.currentAudio.podcast.title,to:{name:"podcast",params:{id:t.currentAudio.podcast.id}}}},[t._v("\n                                "+t._s(t.currentAudio.podcast.title)+"\n                            ")])],1):t._e(),t._v(" "),i("div",{staticClass:"epico_audio-title",on:{click:function(e){return t.$emit("fullScreenPlayer")}}},[t.isPodcastEpisode?[t._v(t._s(t.currentAudio.title))]:i("router-link",{staticClass:"router-link",attrs:{to:{name:"song",params:{id:t.currentAudio.id}}}},[t._v(t._s(t.currentAudio.title))])],2),t._v(" "),t.isCurrentAudioAStream?t._e():i("div",{staticClass:"audio-artists max-1-lines"},[i("artists",{attrs:{artists:t.currentAudio.artists}})],1)]),t._v(" "),i("div",{staticClass:"epico_control-section"},[i("div",{staticClass:"epico_progressbar-container"},[t.isCurrentAudioAStream?i("div",{staticClass:"epico_progressbar",attrs:{id:"progress-bar_phone_layout"},on:{click:function(e){return t.$emit("updateProgressOnPhone",e)}}},[i("div",{staticClass:"epico_progressbar-inner",style:{width:"100%"}},[i("span",{staticClass:"epico_progress-circle"})])]):i("div",{staticClass:"epico_progressbar",attrs:{id:"progress-bar_phone_layout"},on:{click:function(e){return t.$emit("updateProgressOnPhone",e)}}},[i("div",{staticClass:"epico_progressbar-inner",style:{width:t.currentAudio.progress+"%"}},[i("span",{staticClass:"epico_progress-circle"})])]),t._v(" "),i("span",{staticClass:"epico_loading-circle"}),t._v(" "),i("span",{staticClass:"epico_current-audio-time"},[t._v(t._s(t.currentAudio.currentTime))]),t._v(" "),t.isCurrentAudioAStream?i("span",{staticClass:"live-animation epico_current-audio-duration"},[i("div",{staticClass:"align-center"},[i("svg",{staticClass:"blinking",attrs:{height:"20",width:"13"}},[i("circle",{attrs:{cx:"5",cy:"10",r:"3",fill:"red"}})]),t._v("\n                                    "+t._s(t.$t("Live"))+"\n                                ")])]):i("span",{staticClass:"epico_current-audio-duration",domProps:{textContent:t._s(t.duration)}})]),t._v(" "),i("div",{staticClass:"epico_main-control-section"},[i("div",{staticClass:"epico_play-next-previous-container"},[t.isPodcastEpisode||t.isCurrentAudioAStream?t.isPodcastEpisode?i("button",{staticClass:"epico_previous-button epico_rewind-button",attrs:{title:t.$t("Rewind")},on:{click:function(e){return t.$emit("rewindAudio",-10)}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.rewind-10")])],1):t._e():i("button",{staticClass:"epico_previous-button",attrs:{disabled:!t.playlist[t.currentAudio.index-1],title:t.$t("Previous")},on:{click:function(e){return t.$emit("goPrevious")}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.skip-previous")])],1),t._v(" "),i("button",{staticClass:"epico_btn epico_play-button epico_no-border"},[t.isLoading?[t.isLoading?i("v-progress-circular",{attrs:{size:60,width:5,color:"primary",indeterminate:""}}):t._e()]:[t.currentAudio.isPlaying?i("button",{staticClass:"play-button",attrs:{title:t.$t("Pause")},on:{click:function(e){return t.$emit("playPause")}}},[i("v-icon",{attrs:{size:"60",color:t.$vuetify.theme.dark?"textContMedium":"primary"}},[t._v("$vuetify.icons.pause-circle")])],1):i("button",{staticClass:"play-button",attrs:{title:t.$t("Play")},on:{click:function(e){return t.$emit("playPause")}}},[i("v-icon",{attrs:{size:"60",color:t.$vuetify.theme.dark?"textContMedium":"primary"}},[t._v("$vuetify.icons.play-circle")])],1)]],2),t._v(" "),t.isPodcastEpisode||t.isCurrentAudioAStream?t.isPodcastEpisode?i("button",{staticClass:"epico_next-button epico_forwrad-button",attrs:{title:t.$t("Rewind")},on:{click:function(e){return t.$emit("rewindAudio",30)}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.fast-forward-30")])],1):t._e():i("button",{staticClass:"epico_next-button",attrs:{disabled:!t.playlist[t.currentAudio.index+1],title:t.$t("Next")},on:{click:function(e){return t.$emit("goNext")}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons.skip-next")])],1)])])]),t._v(" "),i("div",{staticClass:"epico_option-section"},[t.isPodcastEpisode||t.isCurrentAudioAStream?t._e():i("div",{staticClass:"plus-container"},[i("song-menu",{attrs:{item:t.currentAudio,icon:"plus",isOnPlayer:!0,closeOnContentClick:!0},on:{close:function(e){return t.$store.commit("setSongMenu",null)}}})],1),t._v(" "),t.isPodcastEpisode||t.isCurrentAudioAStream?t._e():i("button",{staticClass:"epico_shuffle-button"},[i("v-icon",{attrs:{title:t.$t("Shuffle"),color:t.buttons.shuffle?"primary":"textContMedium"},on:{click:function(e){return t.$emit("shuffleAudio")}}},[t._v("$vuetify.icons.shuffle-variant")])],1),t._v(" "),t.isCurrentAudioAStream||t.$store.getters.getSettings.disableRegistration||"episode"===t.currentAudio.type?t._e():[t.isLiked?i("v-btn",{staticClass:"align-center",attrs:{icon:"",small:""},on:{click:function(e){return t.$emit("like",t.currentAudio)}}},[i("v-icon",{attrs:{color:"primary",title:t.$t("Dislike")}},[t._v("$vuetify.icons.heart")])],1):i("v-btn",{staticClass:"align-center",attrs:{icon:"",small:""},on:{click:function(e){return t.$emit("like",t.currentAudio)}}},[i("v-icon",{attrs:{title:t.$t("Like")}},[t._v("$vuetify.icons.heart-outline")])],1)],t._v(" "),t.isPodcastEpisode||t.isCurrentAudioAStream?t._e():i("button",{staticClass:"epico_repeat-button"},[i("v-icon",{attrs:{color:t.buttons.loop?"primary":"textContMedium",title:t.$t("Loop")},on:{click:function(e){return t.$emit("loopAudio")}}},[t._v("$vuetify.icons.refresh")])],1),t._v(" "),i("div",{staticClass:"epico_volume-button-container"},[i("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.$emit("mute",e)}}},[i("v-icon",{attrs:{color:"textContMedium"}},[t._v("$vuetify.icons."+t._s(t.volumeButton))])],1)],1)],2)])])])])])}),[],!1,null,null,null)),$=P.exports;u()(P,{VBtn:p.a,VChip:m.a,VIcon:l.a,VImg:f.a,VProgressCircular:y.a,VRow:_.a});function x(t,e,i,s,r,a,o){try{var n=t[a](o),u=n.value}catch(t){return void i(t)}n.done?e(u):Promise.resolve(u).then(s,r)}var k={methods:{playPause:function(){var t=this;if("yt_video"===this.currentAudio.source_format)this.$store.getters.getSettings.allowVideos||this.$notify({group:"foo",type:"warning",title:this.$t("Oops!"),text:this.$t("Sorry, you can not play YouTube videos.")}),2===this.videoStatus||0===this.videoPlayer.getCurrentTime()||0===this.videoStatus?(this.videoPlayer.playVideo(),this.$nextTick((function(){document.title="▶ "+t.currentAudio.title+(t.getMainArtist(t.currentAudio)?" - "+t.getMainArtist(t.currentAudio):"")})),this.$store.commit("setCurrentAudio",{id:this.currentAudio.id,type:this.currentAudio.type}),this.currentAudio.isPlaying=!0,0===this.videoPlayer.getCurrentTime()&&this.$store.dispatch("registerPlay",{id:this.currentAudio.id,type:this.isPodcastEpisode?"episode":"song",label:this.currentAudio.title,artist_id:this.currentAudio.artist?this.currentAudio.artist.id:"",duration:this.currentAudio.duration,origin:"youtube"})):this.videoPlayer.getCurrentTime()>0&&(this.currentAudio.isPlaying=!1,this.$store.commit("setCurrentAudio",null),this.$nextTick((function(){document.title=t.currentAudio.title+(t.getMainArtist(t.currentAudio)?" - "+t.getMainArtist(t.currentAudio):"")})),this.videoPlayer.pauseVideo());else if("file"===this.currentAudio.source_format)if(this.audioPlayer.paused||0===this.audioPlayer.currentTime){var e=setInterval((function(){t.canPlay&&(t.audioPlayer.play(),t.$nextTick((function(){document.title="▶ "+t.currentAudio.title+(t.getMainArtist(t.currentAudio)?" - "+t.getMainArtist(t.currentAudio):"")})),t.$store.commit("setCurrentAudio",{id:t.currentAudio.id,type:t.currentAudio.type}),t.currentAudio.isPlaying=!0,clearInterval(e))}),200);0===this.audioPlayer.currentTime&&this.$store.dispatch("registerPlay",{id:this.currentAudio.id,type:this.isPodcastEpisode?"episode":"song",label:this.currentAudio.title,artist_id:this.currentAudio.artist?this.currentAudio.artist.id:"",duration:this.currentAudio.duration,origin:this.currentAudio.origin})}else this.audioPlayer.currentTime>0&&(this.currentAudio.isPlaying=!1,this.$store.commit("setCurrentAudio",null),this.$nextTick((function(){document.title=t.currentAudio.title+(t.getMainArtist(t.currentAudio)?" - "+t.getMainArtist(t.currentAudio):"")})),this.audioPlayer.pause());else this.streamPlayer?"stopped"==this.streamPlayer.state?(this.streamPlayer.play(),this.$nextTick((function(){document.title="▶ "+t.currentAudio.title})),this.$store.commit("setCurrentAudio",{id:this.currentAudio.id,type:this.currentAudio.type}),this.currentAudio.isPlaying=!0,0===this.audioPlayer.currentTime&&this.$store.dispatch("registerPlay",{id:this.currentAudio.id,type:"radio-sation",label:this.currentAudio.title})):(this.currentAudio.isPlaying=!1,this.$store.commit("setCurrentAudio",null),this.$nextTick((function(){document.title=t.currentAudio.title})),this.streamPlayer.stop()):this.audioPlayer.paused||0===this.audioPlayer.currentTime?(this.audioPlayer.play(),this.currentAudio.isPlaying=!0,this.$nextTick((function(){document.title="▶ "+t.currentAudio.title})),this.$store.commit("setCurrentAudio",{id:this.currentAudio.id,type:this.currentAudio.type}),0===this.audioPlayer.currentTime&&this.$store.dispatch("registerPlay",{id:this.currentAudio.id,type:"radio-sation",label:this.currentAudio.title})):this.audioPlayer.currentTime>0&&(this.currentAudio.isPlaying=!1,this.$store.commit("setCurrentAudio",null),this.$nextTick((function(){document.title=t.currentAudio.title})),this.audioPlayer.pause())},rewindAudio:function(t){this.audioPlayer.currentTime=this.audioPlayer.currentTime+t,"yt_video"===this.currentAudio.source_format&&this.videoPlayer.seekTo(this.audioPlayer.currentTime)},loopAudio:function(){this.buttons.shuffle=!1,this.buttons.loop=!this.buttons.loop},shuffleAudio:function(){this.buttons.loop=!1,this.buttons.shuffle=!this.buttons.shuffle},goNext:function(){var t;t=this.currentAudio.index==this.playlist.length-1?0:this.currentAudio.index+1,this.updateCurrentAudio(t,!0)},goPrevious:function(){var t;t=0==this.currentAudio.index?this.playlist.length-1:this.currentAudio.index-1,this.updateCurrentAudio(t,!0)},switchScreenToSmall:function(){this.smallScreen=!0},switchScreenToLarge:function(){this.smallScreen=!1},like:function(t){this.isLiked?this.$store.dispatch("dislike",t):this.$store.dispatch("like",t)},downloadAudio:function(){var t,e=this;return(t=r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.downloadLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("downloadAudio",{id:e.currentAudio.id,type:e.isPodcastEpisode?"episode":"song",file_name:e.currentAudio.file_name});case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(1);case 8:e.downloadLoading=!1,e.$store.getters.getSettings.ga4&&e.$store.getters.getSettings.analytics_download_event&&emitAnalyticsEvent({action:"file_download",category:e.isPodcastEpisode?"episode":"song",label:e.currentAudio.file_name});case 10:case"end":return t.stop()}}),t,null,[[1,6]])})),function(){var e=this,i=arguments;return new Promise((function(s,r){var a=t.apply(e,i);function o(t){x(a,s,r,o,n,"next",t)}function n(t){x(a,s,r,o,n,"throw",t)}o(void 0)}))})()}}},w={methods:{updateProgress:function(t){var e=document.getElementById("progress-bar");if(this.isCurrentAudioAFileAudio){var i=this.audioPlayer.duration,s=t.offsetX*i/e.offsetWidth;this.audioPlayer.currentTime=s}else{i=this.videoPlayer.getDuration(),s=t.offsetX*i/e.offsetWidth;this.videoPlayer.seekTo(s)}},getDurationInHHMMSS:function(t){if(isNaN(t))return"-:--";function e(t){return t<10&&(t="0"+t),t}var i=Math.floor(t/3600);t%=3600;var s=Math.floor(t/60),r=Math.floor(t%60);return("00"!==(i=e(i))?i+":":"")+(s=e(s))+":"+(r=e(r))},getTimeFormat:function(t){var e=t%60;return Math.floor(t/60)+":"+(Math.floor(e/10)>0?e:"0"+e)},adjustPlayspeed:function(){"up"==this.playbackRateDirection?this.playbackRate+=.25:this.playbackRate-=.25,2==this.playbackRate?this.playbackRateDirection="down":.25==this.playbackRate&&(this.playbackRateDirection="up"),"yt_video"===this.currentAudio.source_format&&this.videoPlayer.setPlaybackRate(this.playbackRate)},updateProgressOnPhone:function(t){var e=document.getElementById("progress-bar_phone_layout");if(this.isCurrentAudioAFileAudio){var i=t.offsetX*this.audioPlayer.duration/e.offsetWidth;this.audioPlayer.currentTime=i}else{var s=t.offsetX*this.videoPlayer.getDuration()/e.offsetWidth;this.videoPlayer.seekTo(s)}},resetTime:function(){this.currentAudio.progress=0,this.currentAudio.currentTime=this.currentAudio.currentTime}}},S=i(262),T=i(263),L={methods:{afterPrepareForStream:function(t){var e=this.playlist[t];this.currentAudio.title=e.name,this.resetAudioElement()},playStream:function(){this.afterPrepareForStream(this.currentAudio.index),this.initStreamPlayer(this.currentAudio)},killStreamIfExists:function(){this.streamAudioElement=null,this.streamPlayer&&(this.streamPlayer.stop(),this.streamPlayer.detachAudioElement(),this.streamStats.stop(),this.streamPlayer=null,this.streamStats=null)},failedToPlay:function(){this.$notify({group:"foo",type:"warning",title:this.$t("Error"),text:this.$t("Failed to load the audio source")}),this.queue.length>1?this.goNext():(this.$store.state.queue=[],this.killStreamIfExists())},updateMetaData:function(t,e){"server"===t?(this.currentAudio.title=e.title,this.currentAudio.artist=e.artist):e&&(e.icestats&&e.icestats.source&&e.icestats.source.title?this.currentAudio.title=e.icestats.source.title||this.currentAudio.name:e.icy?this.currentAudio.title=e.icy.StreamTitle||this.currentAudio.name:e.ogg&&(e.ogg.TITLE&&(this.currentAudio.title=e.ogg.TITLE||this.currentAudio.name),e.ogg.ARTIST&&(this.currentAudio.artist=e.ogg.ARTIST)),document.title="▶ "+this.currentAudio.title)},getMetaDataUsingProxy:function(t){var e=this;axios.get("/api/get-stream-metadata-pr/"+t).then((function(t){e.updateMetaData("proxy",t.data)})).catch((function(){return{}}))},getMetaDataFromServer:function(t){var e=this;axios.get("/api/get-stream-metadata-sr/"+t,{}).then((function(t){e.updateMetaData("server",t.data)})).catch((function(){return{}}))},startFetchMetadata:function(t){"endpoint"===t.statsSource?this.metadataFetcher=setInterval(function(){this.getMetaDataUsingProxy(t.id)}.bind(this),t.interval||5e3):this.metadataFetcher=setInterval(function(){this.getMetaDataFromServer(t.id)}.bind(this),t.interval||5e3)},initStreamPlayer:function(t){var e=this;if("endpoint"!==t.statsSource||t.proxy)this.startFetchMetadata(t),this.updateAudioElement(this.currentAudio.streamEndpoint),this.playPause();else{this.canPlay=!0,this.isLoading=!0;var i=0;this.streamStats=new T.a(t.streamEndpoint,{sources:["icestats","ogg","icy"],interval:10,onStats:function(t){e.updateMetaData("client",t)}});var s=this.volume;this.streamAudioElement=new Audio,this.volume=s,this.streamPlayer=new S.a(t.statsEndpoint,{metadataTypes:t.metadata_types,audioElement:this.streamAudioElement,onRetry:function(){e.retryCount++,e.retryCount>10&&e.failedToPlay()},onPlay:function(){e.interval=setInterval((function(){i++,e.currentAudio.currentTime=e.getTimeFormat(i.toFixed(0))}),1e3),e.currentAudio.isStopped=!1,e.currentAudio.isPlaying=!0},onStreamStart:function(){e.isLoading=!1},onLoading:function(){e.isLoading=!0},onStop:function(){clearInterval(e.interval),e.currentAudio.isStopped=!0,e.audioPlayer.paused&&(e.currentAudio.isPlaying=!1)}}),this.streamStats.start(),this.streamPlayer.play()}this.$store.commit("setCurrentAudio",{id:this.currentAudio.id,type:this.currentAudio.type})}}},E=i(27),V=i.n(E);function M(t,e,i,s,r,a,o){try{var n=t[a](o),u=n.value}catch(t){return void i(t)}n.done?e(u):Promise.resolve(u).then(s,r)}function F(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var a=t.apply(e,i);function o(t){M(a,s,r,o,n,"next",t)}function n(t){M(a,s,r,o,n,"throw",t)}o(void 0)}))}}var R={methods:{updateCurrentAudio:function(t,e){var i=this;return F(r.a.mark((function s(){return r.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return i.isLoading=!0,i.reset(),s.next=4,i.prepare(t);case 4:i.$store.getters.getSettings.autoPlay&&i.$store.getters.getQueue.length<2&&i.fetchSimilarities(t),i.isCurrentAudioAYoutubeVideo?i.playYoutubeVideo(t,e):i.isCurrentAudioAFileAudio?i.playAudioFile(t,e):i.isCurrentAudioAStream&&i.playStream(t,e);case 6:case"end":return s.stop()}}),s)})))()},reset:function(){clearInterval(this.timeUpdater),clearInterval(this.metadataFetcher),this.initCurrentAudioObj(),this.resetBasicValues(),this.resetAudioElement(),this.resetTime(),this.killStreamIfExists(),this.videoPlayer&&this.videoPlayer.stopVideo&&this.videoPlayer.stopVideo()},playAudioFile:function(t,e){this.updateAudioElement(this.currentAudio.source),(0!==this.currentAudio.index||e||this.buttons.shuffle)&&this.playPause()},prepare:function(t){var e=this;return F(r.a.mark((function i(){var s,a,o,n;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=e.playlist[t],e.currentAudio.index=t,Object.keys(s).forEach((function(t){e.$set(e.currentAudio,t,s[t])})),"podcast"!==s.type||"listenNotes"!==s.origin){i.next=10;break}return i.next=6,V.a.get("/api/podcast/"+s.id);case 6:a=i.sent,s=a.data,i.next=19;break;case 10:if(e.isCurrentAudioAStream||e.currentAudio.source){i.next=18;break}return o=e.currentAudio.title,n=e.currentAudio.artists.length?e.currentAudio.artists[0].name?e.currentAudio.artists[0].name:e.currentAudio.artists[0].displayname:"",i.next=15,e.getYoutubeVideoIfExists(o,n);case 15:e.currentAudio.source=i.sent,i.next=19;break;case 18:e.isCurrentAudioAStream&&(e.currentAudio.source=e.currentAudio.streamEndpoint);case 19:case"end":return i.stop()}}),i)})))()},initCurrentAudioObj:function(){this.currentAudio={src:null,title:"",album:"",artist:"",progress:0,duration:"-:--",currentTime:"0:00",streamEndpoint:null,videoCurrentTime:0,isPlaying:!1}},updateAudioElement:function(t){this.audioPlayer.src=t,this.audioPlayer.load()},resetAudioElement:function(){this.audioPlayer.pause()},resetBasicValues:function(){this.currentAudio.isPlaying=!1,this.currentAudio.duration="-:--",this.currentAudio.source_format=null,this.currentAudio.file_name=null,this.currentAudio.source=null,this.currentAudio.progress=0,this.currentAudio.currentTime="0:00"},updateTime:function(t,e){this.isCurrentAudioAStream||(this.audioPlayer.duration!==1/0||this.isCurrentAudioAYoutubeVideo?this.currentAudio.progress=t<e||0==t?t/e*100:0:(this.currentAudio.duration="live",this.currentAudio.progress=100),!isNaN(t)&&!isNaN(e)&&e-t<=5?this.audioStatus="ending":!isNaN(t)&&!isNaN(e)&&t>=0&&t<=5?this.audioStatus="starting":this.audioStatus=null),this.$set(this.currentAudio,"currentTime",this.getTimeFormat(t.toFixed(0)))},easeVolumeRaise:function(){var t=this,e=this.volume,i=setInterval((function(){t.volume=t.volume+t.volume/20,t.volume>=e&&clearInterval(i)}),250)},easeVolumeDrop:function(){var t=this,e=this.volume;this.volume=0;var i=setInterval((function(){t.volume=t.volume-t.volume/20,t.volume<=e&&clearInterval(i)}),250)},getYoutubeVideoIfExists:function(t,e){return F(r.a.mark((function i(){var s;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,V.a.get("/api/track-source?title="+t+"&artist="+e);case 3:return s=i.sent,i.abrupt("return",s.data);case 7:return i.prev=7,i.t0=i.catch(0),i.abrupt("return",null);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},fetchSimilarities:function(t){var e=this;return F(r.a.mark((function i(){var s;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:s=e.playlist[t],V.a.get("/api/next-songs?id="+s.id+"&origin="+s.origin).then((function(t){t.data.length&&e.$store.dispatch("updateQueue",{content:t.data,reset:!1})}));case 2:case"end":return i.stop()}}),i)})))()}}},D={computed:{volume:{set:function(t){this.streamAudioElement?this.streamAudioElement.volume=t/100:this.videoPlayer&&this.isCurrentAudioAYoutubeVideo?this.videoPlayer.setVolume(t):this.audioPlayer.volume=t/100},get:function(){return this.streamAudioElement?Math.round(100*this.streamAudioElement.volume):this.videoPlayer&&this.videoPlayer.getVolume?this.videoPlayer.getVolume()||70:Math.round(100*this.audioPlayer.volume)}}},methods:{muteAudio:function(){this.audioPlayer.muted?(this.audioPlayer.muted=!1,this.volumeButton="volume-high"):(this.audioPlayer.muted=!0,this.volumeButton="volume-off"),this.streamAudioElement&&(this.streamAudioElement.muted?(this.streamAudioElement.muted=!1,this.volumeButton="volume-high"):(this.volumeButton="volume-off",this.streamAudioElement.muted=!0)),this.isCurrentAudioAYoutubeVideo&&(this.videoPlayer.isMuted()?(this.volumeButton="volume-high",this.videoPlayer.unMute()):(this.videoPlayer.mute(),this.volumeButton="volume-off"))}}},I={methods:{playYoutubeVideo:function(t,e){this.$store.getters.getSettings.allowVideos?(0!==this.currentAudio.index||e||this.buttons.shuffle)&&this.setVideo(this.currentAudio.source,this.videoReadyCallback,this.videoStatusChangeCallback):this.$notify({group:"foo",type:"warning",title:this.$t("Oops!"),text:this.$t("Sorry, you can not play YouTube videos.")})},setVideo:function(t,e,i){var s=this;this.videoPlayer?this.videoPlayer.loadVideoById(t,0):this.$nextTick((function(){s.videoPlayer=new YT.Player("youtube_video_container",{width:"500",height:"305",videoId:t,events:{onReady:e,onStateChange:i}})})),this.$store.commit("setCurrentAudio",this.currentAudio)},videoStatusChangeCallback:function(t){this.videoStatus=t.data},videoReadyCallback:function(t){this.currentAudio.duration=t.target.getDuration(),this.videoPlayer.setVolume(this.volume),this.isLoading=!1,this.playPause()}},watch:{videoStatus:function(t){switch(t){case-1:"yt_video"===this.currentAudio.source_format&&(this.isLoading=!1);break;case 0:this.onended();break;case 1:this.currentAudio.duration=this.videoPlayer.getDuration(),this.isLoading=!1,this.currentAudio.isPlaying=!0;var e=this;this.timeUpdater=setInterval((function(){var t=e.currentAudio.videoCurrentTime;e.videoPlayer&&e.videoPlayer.getCurrentTime&&(e.currentAudio.videoCurrentTime=e.videoPlayer.getCurrentTime()),e.currentAudio.videoCurrentTime!==t&&e.updateTime(e.currentAudio.videoCurrentTime,e.videoPlayer.getDuration())}),100);break;case 2:clearInterval(this.timeUpdater),this.currentAudio.isPlaying=!1;break;case 3:this.isLoading=!0}}}},O=i(23),B=i(51);function N(t,e,i,s,r,a,o){try{var n=t[a](o),u=n.value}catch(t){return void i(t)}n.done?e(u):Promise.resolve(u).then(s,r)}function U(t){return function(){var e=this,i=arguments;return new Promise((function(s,r){var a=t.apply(e,i);function o(t){N(a,s,r,o,n,"next",t)}function n(t){N(a,s,r,o,n,"throw",t)}o(void 0)}))}}var j={props:["playlist"],mixins:[k,{methods:{initEventHandlers:function(){this.audioPlayer.onloadstart=this.onloadstart,this.audioPlayer.onerror=this.onerror,this.audioPlayer.onloadedmetadata=this.onloadmetadata,this.audioPlayer.oncanplay=this.oncanplay,this.audioPlayer.ontimeupdate=this.ontimeupdate,this.audioPlayer.onended=this.onended,this.audioPlayer.onwaiting=this.onwaiting,this.audioPlayer.oncanplaythrough=this.oncanplay},onloadstart:function(){this.isLoading=!0},onerror:function(){this.isRadioStation||this.failedToPlay()},onwaiting:function(){this.isLoading=!0},onloadmetadata:function(){this.currentAudio.duration=this.audioPlayer.duration},oncanplay:function(){this.canPlay=!0,this.isLoading=!1},ontimeupdate:function(){this.updateTime(this.audioPlayer.currentTime,this.audioPlayer.duration)},onended:function(){var t;this.canPlay=!1,this.$store.commit("setCurrentAudio",null),this.currentAudio.isPlaying=!1,this.$store.getters.getUser&&this.$store.getters.getUser.id&&this.$store.dispatch("endPlay"),this.buttons.loop?this.isCurrentAudioAFileAudio?(t=this.currentAudio.index,this.updateCurrentAudio(t,!0)):"yt_video"===this.currentAudio.source_format&&(this.videoPlayer.seekTo(0),this.videoPlayer.playVideo()):this.buttons.shuffle&&this.playlist.length>1?(t=this.getRandomAudio(this.playlist.length,this.currentAudio.index),this.updateCurrentAudio(t)):(t=this.playlist.length!==this.currentAudio.index+1?this.currentAudio.index+1:0,this.updateCurrentAudio(t))}}},L,R,w,D,I,O.a],components:{TV:d,FooterPlayerLayout:b,PhonePlayerLayout:$},created:function(){var t=this;return U(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.initPlayer(),t.startPlayer();case 2:case"end":return e.stop()}}),e)})))()},data:function(){return{audioPlayer:null,streamPlayer:null,streamAudioElement:null,streamStats:null,downloadLoading:!1,queue:[],audioStatus:null,playlistShownOnMobile:!1,retryCount:0,getUp:!1,fullScreenPlayer:!1,isLoading:!0,canPlay:!1,smallScreen:!0,playbackRateDirection:"up",videoPlayer:null,videoStatus:null,volumeButton:"volume-medium",timeUpdater:null,metadataFetcher:null,playbackRate:1,currentAudio:{source:null,source_format:null,index:0,title:"",album:"",artist:"",cover:"",progress:0,duration:"-:--",currentTime:"0:00",videoCurrentTime:0,isPlaying:!1},buttons:{shuffle:!1,loop:!1}}},computed:{isPodcastEpisode:function(){return Boolean("episode"===this.currentAudio.type)},isCurrentAudioAStream:function(){return this.currentAudio.streamEndpoint},isCurrentAudioAFileAudio:function(){return"file"===this.currentAudio.source_format||"audio_url"===this.currentAudio.source_format},isCurrentAudioAYoutubeVideo:function(){return"yt_video"===this.currentAudio.source_format},isLiked:function(){var t=this;return(this.$store.getters.getLikedSongs||[]).some((function(e){return e.id==t.currentAudio.id}))},isArtistFollowed:function(){var t=this;return(this.$store.getters.getFollowedArtists||[]).some((function(e){return e.id===t.currentAudio.artist_id}))},isPurchasable:function(){return this.currentAudio.product&&!this.isPurchased(this.currentAudio)},isOwned:function(){return this.currentAudio.artist&&this.$store.getters.getUser&&this.$store.getters.getUser.artist&&this.currentAudio.artist.id===this.$store.getters.getUser.artist.id||this.currentAudio.product&&this.isPurchased(this.currentAudio)}},methods:{initPlayer:function(){var t=this;this.audioPlayer=new Audio,this.volume=this.$store.getters.getSettings.playerVolume||50,this.audioPlayer.preload="metadata",this.initEventHandlers(),setTimeout((function(){t.getUp=!0}),100)},getRandomAudio:function(t,e){var i=Math.floor(Math.random()*t);return i==e?this.getRandomAudio(t,e):i},addSongToPlaylist:function(t){this.$store.getters.getUser?this.$store.commit("setAddSongToPlaylist",t):this.loginOrCancel()},startPlayer:function(){this.playlist[0]!==this.queue[0]&&this.updateCurrentAudio(0,!0),this.queue=this.playlist},purchase:function(){var t=this;return U(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.getters.isLogged){e.next=3;break}return e.next=3,B.a.loginOrCancel();case 3:t.$store.commit("purchase/setSellingAsset",t.currentAudio);case 4:case"end":return e.stop()}}),e)})))()}},watch:{playbackRate:function(t){this.audioPlayer.playbackRate=t},playlist:function(){var t=this;setTimeout((function(){t.startPlayer()}),100)},audioStatus:function(t){this.$store.getters.getSettings.crossfade&&("starting"===t?this.easeVolumeRaise():"ending"===t&&this.easeVolumeDrop())}},beforeDestroy:function(){this.resetAudioElement(),this.killStreamIfExists()}},Y=Object(o.a)(j,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"audio-player-container"}},[t.$store.getters.getSettings.allowVideos?i("TV",{directives:[{name:"show",rawName:"v-show",value:"yt_video"===t.currentAudio.source_format&&!t.$store.getters.getSettings.disableVideo&&(!t.fullScreenPlayer||t.fullScreenPlayer&&!t.playlistShownOnMobile),expression:"currentAudio.source_format === 'yt_video' && !$store.getters.getSettings.disableVideo && (fullScreenPlayer? (fullScreenPlayer && !playlistShownOnMobile) : true)"}],staticClass:"video-tv",class:{"small-screen":t.smallScreen||t.fullScreenPlayer,"phone-layout":t.fullScreenPlayer},on:{"small-screen":t.switchScreenToSmall,"large-screen":t.switchScreenToLarge}},[i("div",{class:{smallScreenVideo:t.smallScreen},attrs:{id:"youtube_video_container"}})]):t._e(),t._v(" "),i("phone-player-layout",{style:{transform:"translateY("+(t.fullScreenPlayer?"0%":"100%")+")"},attrs:{currentAudio:t.currentAudio,playlist:t.playlist,getUp:t.getUp,isLoading:t.isLoading,playbackRate:t.playbackRate,isLiked:t.isLiked,isArtistFollowed:t.isArtistFollowed,isPodcastEpisode:t.isPodcastEpisode,isCurrentAudioAStream:t.isCurrentAudioAStream,isCurrentAudioAFileAudio:t.isCurrentAudioAFileAudio,downloadLoading:t.downloadLoading,volumeButton:t.volumeButton,duration:t.getDurationInHHMMSS(t.currentAudio.duration),buttons:t.buttons,volume:t.volume,fullScreenPlayerProp:t.fullScreenPlayer,isPurchasable:t.isPurchasable,isOwned:t.isOwned},on:{updateCurrentAudio:function(e){return t.updateCurrentAudio(e[0],e[1])},playPause:t.playPause,adjustPlayspeed:t.adjustPlayspeed,rewindAudio:function(e){return t.rewindAudio(e)},fullScreenPlayer:function(e){t.fullScreenPlayer=!1},goNext:t.goNext,goPrevious:t.goPrevious,like:t.like,showPlaylist:function(e){t.playlistShownOnMobile=e},mute:t.muteAudio,downloadAudio:t.downloadAudio,showPurchaseDialog:t.purchase,addSongToPlaylist:t.addSongToPlaylist,updateProgressOnPhone:t.updateProgressOnPhone,loopAudio:t.loopAudio,shuffleAudio:t.shuffleAudio}}),t._v(" "),i("footer-player-layout",{attrs:{getUp:t.getUp,playlist:t.playlist,isLoading:t.isLoading,playbackRate:t.playbackRate,isLiked:t.isLiked,isArtistFollowed:t.isArtistFollowed,isPodcastEpisode:t.isPodcastEpisode,isCurrentAudioAStream:t.isCurrentAudioAStream,isCurrentAudioAFileAudio:t.isCurrentAudioAFileAudio,downloadLoading:t.downloadLoading,volumeButton:t.volumeButton,duration:t.getDurationInHHMMSS(t.currentAudio.duration),buttons:t.buttons,volume:t.volume,fullScreenPlayerProp:t.fullScreenPlayer,currentAudio:t.currentAudio,isPurchasable:t.isPurchasable,isOwned:t.isOwned},on:{volume:function(e){t.volume=e},mute:t.muteAudio,fullScreenPlayer:function(e){t.fullScreenPlayer=!0},updateCurrentAudio:function(e){return t.updateCurrentAudio(e[0],e[1])},downloadAudio:t.downloadAudio,showPurchaseDialog:t.purchase,playPause:t.playPause,adjustPlayspeed:t.adjustPlayspeed,rewindAudio:function(e){return t.rewindAudio(e)},goNext:t.goNext,goPrevious:t.goPrevious,like:t.like,addSongToPlaylist:t.addSongToPlaylist,updateProgress:t.updateProgress,loopAudio:t.loopAudio,shuffleAudio:t.shuffleAudio}})],1)}),[],!1,null,null,null);e.default=Y.exports}}]);